import{c as S,n as g,a as c,b as xe,j as a,k as Ke,w as ge,M as Je}from"./index-Bh3uzKus.js";import{B as Ye}from"./Breadcrumb-BAvdv8dw.js";import{r as l}from"./vendor-C0neu5ZX.js";import"./firebase-DMviGkW7.js";import"./utils-B2rxisVD.js";const Ae=[{key:"dashboard",label:"Access To Market"},{key:"market1",label:"Full Marketplace"},{key:"access-capital",label:"Access to Capital"},{key:"listings-vendors",label:"Add Listings"},{key:"listings-vendors-mine",label:"My Listings"},{key:"profile-vendor",label:"Vendor Profile"},{key:"vendor-home",label:"Vendor Home"},{key:"profile-startup",label:"Startup Profile"},{key:"profile-vendor-admin",label:"Vendor Approval"},{key:"audit-logs",label:"Audit Logs"},{key:"listings-admin",label:"Listings Approval"},{key:"admin-users",label:"User Roles"},{key:"sloane-academy-admin",label:"Academy Admin"},{key:"admin-dashboard",label:"Admin Dashboard"},{key:"admin-wallet-credits",label:"Manage Wallet Credits"},{key:"email",label:"Message Center"},{key:"wallet",label:"My Wallet"},{key:"subscriptions",label:"My Subscriptions"},{key:"sloane-academy",label:"Sloane Academy"},{key:"support",label:"Support"}];function Ze(){const[P,v]=l.useState([]),[_,I]=l.useState({}),[Pe,W]=l.useState({}),[C,q]=l.useState(!1),[G,ve]=l.useState(""),[H,Me]=l.useState(""),[Q,m]=l.useState(""),[K,p]=l.useState(""),[J,Y]=l.useState([{id:"vendor",name:"Vendor"}]),L=(S.currentUser?.email||sessionStorage.getItem("userEmail")||"").toLowerCase(),[D,Z]=l.useState({}),[ke,ye]=l.useState({}),[Ue,Ee]=l.useState({}),[u,Re]=l.useState({}),[ee,ae]=l.useState({}),[se,te]=l.useState({}),[F,De]=l.useState({}),[U,ie]=l.useState([]),[V,Ve]=l.useState(""),[f,ne]=l.useState(!1),[le,j]=l.useState(""),[M,re]=l.useState(""),[X,je]=l.useState(100),[T,oe]=l.useState(!0),[B,ce]=l.useState(!1),[$,me]=l.useState(!1),ue=l.useRef(!1),pe=l.useMemo(()=>[...P].sort((e,i)=>(e.email||"").localeCompare(i.email||"")),[P]),[z,Xe]=l.useState(""),[w,we]=l.useState("All"),O=l.useMemo(()=>{const e=z.trim().toLowerCase(),i=w==="All"?null:g(w);return pe.filter(t=>{const s=g(t.role);return i&&s!==i?!1:e?`${t.email} ${t.tenantId} ${t.role}`.toLowerCase().includes(e):!0})},[pe,z,w]);function de(e){return(Array.isArray(e)?e:[]).map(t=>({email:(t.email||"").toLowerCase(),tenantId:t.tenantId==="vendor"?"public":t.tenantId||"public",role:g(t.role)}))}async function E(){q(!0),m("");try{const{data:e}=await c.get("/api/users"),i=Array.isArray(e)?e:[];v(i.map(s=>({email:(s.email||"").toLowerCase(),tenantId:!s.tenantId||s.tenantId==="public"?"vendor":s.tenantId,role:s.role||"member"})));const t=i.map(s=>(s.email||"").toLowerCase()).filter(Boolean);try{const{data:s}=await c.post("/api/users/batch-privileges",{emails:t});s&&typeof s.privileges=="object"&&I(s.privileges)}catch{I(s=>{const n={...s};return t.forEach(o=>{n[o]={}}),n})}try{const s=await c.get("/api/data/vendors").then(d=>d.data||[]),n={},o={},r={};s.forEach(d=>{const N=(d.contactEmail||d.email||"").toLowerCase(),y=d.ownerUid||"",b=String(d.id||""),x=String(d.vendorId||"");N&&(n[N]=d),y&&(o[y]=d),b&&(r[b]=d),x&&(r[x]=d)}),Z(n),ye(o),Ee(r)}catch{}}catch(e){m(e?.response?.data?.message||e?.message||"Failed to load users")}finally{q(!1)}}async function Se(e,i,t){W(s=>({...s,[e]:!0}));try{const n={..._[e]||{},[i]:t};await c.patch(`/api/users/${encodeURIComponent(e)}/privileges`,{featurePrivileges:n}),I(o=>({...o,[e]:n}))}catch{}finally{W(s=>({...s,[e]:!1}))}}l.useEffect(()=>{E()},[]),l.useEffect(()=>{(async()=>{try{if(!L)return;await c.get("/api/users/lookup",{params:{email:L}}),oe(!0)}catch{oe(!1)}})()},[]),l.useEffect(()=>{(async()=>{try{const{data:e}=await c.get("/api/tenants"),i=Array.isArray(e)?e:[],t=[{id:"vendor",name:"Vendor"},...i.map(n=>typeof n=="string"?{id:n,name:n}:{id:n?.id,name:n?.name||n?.id}).map(n=>n.id==="public"?{...n,id:"vendor",name:n.name||"Vendor"}:n)].filter(n=>n&&n.id),s=new Map;t.forEach(n=>s.set(n.id,n)),Y(Array.from(s.values()))}catch{Y([{id:"vendor",name:"Vendor"}])}})()},[]);async function Ie(e){e.preventDefault(),m(""),p("");const i=G.trim(),t=H.trim();if(!i||!t){m("Email and new tenant id are required");return}try{await c.post("/api/users/upgrade",{email:i,newTenantId:t}),p("Upgraded successfully");const s=window?.localStorage&&window.localStorage.getItem("userEmail")||window?.sessionStorage?.getItem("userEmail");s&&s.toLowerCase()===i.toLowerCase()&&(sessionStorage.setItem("tenantId",t),sessionStorage.setItem("role","admin")),await E()}catch(s){m(s?.response?.data?.message||s?.message||"Upgrade failed")}}async function R({email:e,tenantId:i,role:t}){const s=i==="vendor"?"public":i,n=g(t);await c.post("/api/users",{email:e,tenantId:s,role:n}),e.toLowerCase()===L&&(sessionStorage.setItem("tenantId",i),sessionStorage.setItem("role",n))}async function Ce(e){m(""),p("");const t=g(e.role)==="admin"?"member":"admin";try{await R({email:e.email,tenantId:e.tenantId||"vendor",role:t}),v(s=>s.map(n=>n.email===e.email?{...n,role:t}:n)),p(`${e.email} is now ${t}`)}catch(s){m(s?.response?.data?.message||s?.message||"Failed to update role")}}async function Le(e){m(""),p("");const t=g(e.role)==="partner"?"member":"partner";try{await R({email:e.email,tenantId:e.tenantId||"vendor",role:t}),v(s=>s.map(n=>n.email===e.email?{...n,role:t}:n)),p(`${e.email} is now ${t}`)}catch(s){m(s?.response?.data?.message||s?.message||"Failed to update role")}}async function Fe(e,i){m(""),p("");try{await R({email:e.email,tenantId:i,role:e.role||"member"}),v(t=>t.map(s=>s.email===e.email?{...s,tenantId:i}:s)),p(`${e.email} moved to ${i}`)}catch(t){m(t?.response?.data?.message||t?.message||"Failed to change tenant")}}async function Te(e){m(""),p("");const i=(e.email||"").toLowerCase();if(i&&window.confirm(`Delete user ${i}? This removes their account and role mapping but keeps listings.`))try{await c.delete("/api/users",{data:{email:i}}),v(t=>t.filter(s=>(s.email||"").toLowerCase()!==i)),p(`Deleted ${i}`)}catch(t){m(t?.response?.data?.message||t?.message||"Failed to delete user")}}async function Be(e){m(""),p("");try{let i="";try{const{data:n}=await c.get("/api/users/lookup",{params:{email:e.email}});i=n?.uid||""}catch{i=""}const t=(e.email||"").split("@")[0]||"Vendor",s={id:i||void 0,name:t,contactEmail:e.email,ownerUid:i||void 0,status:"pending",kycStatus:"pending",categories:[],tags:[]};await c.post("/api/data/vendors",s),Z(n=>({...n,[e.email]:!0})),p(`Created vendor profile for ${e.email}`)}catch(i){m(i?.response?.data?.message||i?.message||"Failed to create vendor profile")}}async function $e(e,i={}){const t=(e.email||"").toLowerCase();te(s=>({...s,[t]:!0})),m(""),p("");try{let s="";try{const{data:r}=await c.get("/api/users/lookup",{params:{email:t}});s=r?.uid||""}catch{m("Could not find Firebase UID for this email");return}await c.post("/api/users",{email:t,tenantId:e.tenantId||"vendor",role:e.role||"member",uid:s});let n=!1;const o=D[t];if(o){const r=String(o.id||o.vendorId||"");if(r)try{await c.put(`/api/data/vendors/${encodeURIComponent(r)}`,{ownerUid:s}),n=!0}catch{}}else try{const r=await c.get("/api/tenants"),N=(Array.isArray(r.data)?r.data:[]).map(b=>typeof b=="string"?b:b?.id).filter(Boolean),y=Array.from(new Set(["vendor",...N]));for(const b of y)try{const{data:x}=await c.get("/api/data/vendors",{headers:{"x-tenant-id":b}}),h=Array.isArray(x)?x.find(A=>(A.contactEmail||A.email||"").toLowerCase()===t):null;if(h){const A=String(h.id||h.vendorId||"");if(A){await c.put(`/api/data/vendors/${encodeURIComponent(A)}`,{ownerUid:s},{headers:{"x-tenant-id":b}}),n=!0;break}}}catch{}}catch{}if(!n){const r=t.split("@")[0]||"Vendor";try{await c.post("/api/data/vendors",{name:r,contactEmail:t,ownerUid:s,status:"pending",kycStatus:"pending",categories:[]})}catch{}}i.doRefresh!==!1&&await E(),p(`Synced Firebase UID for ${t}`)}catch(s){m(s?.response?.data?.message||s?.message||"Failed to sync UID")}finally{te(s=>({...s,[t]:!1}))}}function ze(e){const i={},t={},s={};return(e||[]).forEach(n=>{const o=(n.contactEmail||n.email||"").toLowerCase(),r=n.ownerUid||"",d=String(n.id||""),N=String(n.vendorId||"");o&&(i[o]=n),r&&(t[r]=n),d&&(s[d]=n),N&&(s[N]=n)}),{byEmail:i,byOwner:t,byId:s}}async function Oe(e){const i=(e.email||"").toLowerCase();ae(t=>({...t,[i]:!0}));try{let t=D[i]||null,s="",n=null,o=null;try{const{data:r}=await c.get("/api/users/lookup",{params:{email:i}});s=r?.uid||""}catch{}if(s&&(n=ke[s]||null,o=Ue[s]||null),!t&&!n&&!o)try{const r=await c.get("/api/tenants"),N=(Array.isArray(r.data)?r.data:[]).map(h=>typeof h=="string"?h:h?.id).filter(Boolean),y=[],b=Array.from(new Set(["vendor",...N]));for(const h of b)try{const{data:A}=await c.get("/api/data/vendors",{headers:{"x-tenant-id":h}});Array.isArray(A)&&y.push(...A.map(Ne=>({...Ne,_tenantId:Ne.tenantId||h})))}catch{}const x=ze(y);t=x.byEmail[i]||null,s&&(n=x.byOwner[s]||n,o=x.byId[s]||o)}catch{}Re(r=>({...r,[i]:{uid:s,viaEmail:t,viaUid:n,viaId:o}}))}finally{ae(t=>({...t,[i]:!1}))}}const k=l.useCallback(async(e=!0)=>{j(""),ne(!0);try{const i={search:V,pageSize:X};!e&&M&&(i.pageToken=M);const{data:t}=await c.get("/api/users/all",{params:i}),s=Array.isArray(t?.items)?t.items:[];ie(n=>e?s:[...n,...s]),re(t?.nextPageToken||"")}catch(i){const t=i?.response?.status;if(t===401||t===403)try{await xe();const s={search:V,pageSize:X};!e&&M&&(s.pageToken=M);const{data:n}=await c.get("/api/users/all",{params:s}),o=Array.isArray(n?.items)?n.items:[];ie(r=>e?o:[...r,...o]),re(n?.nextPageToken||""),j("");return}catch(s){j(s?.response?.data?.message||s?.message||"Failed to search platform users")}else j(i?.response?.data?.message||i?.message||"Failed to search platform users")}finally{ne(!1)}},[V,X,M]),be=l.useRef(!1);l.useEffect(()=>{if(be.current)return;be.current=!0;let e=!0;return(async()=>{try{if(await xe(),!e)return;await k(!0)}catch{}})(),()=>{e=!1}},[k]),l.useEffect(()=>{if(!ue.current&&!f&&Array.isArray(U)&&U.length===0){const e=setTimeout(()=>{ue.current=!0,k(!0)},800);return()=>clearTimeout(e)}},[f,U,k]);async function fe(e,i){const t=F[e]||"vendor",s=g(i);try{await R({email:e,tenantId:t,role:s}),v(n=>n.find(r=>r.email===e)?n.map(r=>r.email===e?{...r,role:s,tenantId:t}:r):[...n,{email:e,role:s,tenantId:t}]),p(`${e} granted ${s} (${t})`)}catch(n){m(n?.response?.data?.message||n?.message||`Failed to grant ${s}`)}}async function _e(e){await fe(e,"admin")}async function We(e){await fe(e,"partner")}function qe(e){const i=(e||"").toLowerCase();return P.some(t=>t.email===i&&Ke(t.role))}function he(e){const i=(e||"").toLowerCase(),t=P.find(s=>s.email===i);return g(t?.role)}async function Ge(e){const t=P.find(s=>s.email===(e||"").toLowerCase())?.tenantId||F[e]||"vendor";try{await R({email:e,tenantId:t,role:"member"}),v(s=>s.map(n=>n.email===e?{...n,role:"member"}:n)),p(`${e} access revoked`)}catch(s){m(s?.response?.data?.message||s?.message||"Failed to revoke admin")}}async function He(){m(""),p(""),ce(!0);try{const e=await c.get("/api/lms/live").then(s=>s.data||{}),i=de(P),t={...e,users:i};await c.put("/api/users/bulk",{users:i}),await c.put("/api/lms/publish",{data:t});try{await ge({action:"USERS_SAVE_ALL",userEmail:S.currentUser?.email||void 0,targetType:"appData",targetId:"users",metadata:{count:i.length}})}catch{}p("All changes saved to appData.json"),await E()}catch(e){m(e?.response?.data?.message||e?.message||"Failed to save changes")}finally{ce(!1)}}async function Qe(){m(""),p(""),me(!0);try{const e=await c.get("/api/lms/live").then(s=>s.data||{}),i=de(P),t={...e,users:i};await c.put("/api/users/bulk",{users:i}),await c.post("/api/lms/checkpoints",{message:"User Roles checkpoint",data:t});try{await ge({action:"USERS_CHECKPOINT",userEmail:S.currentUser?.email||void 0,targetType:"appData",targetId:"users",metadata:{count:i.length}})}catch{}p("Checkpoint saved"),await E()}catch(e){m(e?.response?.data?.message||e?.message||"Failed to save checkpoint")}finally{me(!1)}}return a.jsxDEV(a.Fragment,{children:a.jsxDEV("div",{className:"card h-100 p-0 radius-12 overflow-hidden",children:[a.jsxDEV("div",{className:"card-header border-bottom bg-base py-16 px-24 d-flex align-items-center justify-content-between gap-3 flex-wrap",children:a.jsxDEV("h6",{className:"mb-0",children:"Upgrade Public Tenant to Private Admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:690,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:689,columnNumber:9},this),a.jsxDEV("div",{className:"card-body p-24",children:[a.jsxDEV("form",{onSubmit:Ie,className:"row g-3 align-items-end mb-24",children:[a.jsxDEV("div",{className:"col-sm-5",children:[a.jsxDEV("label",{className:"form-label text-sm",children:"User Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:695,columnNumber:15},this),a.jsxDEV("input",{type:"email",className:"form-control",value:G,onChange:e=>ve(e.target.value),placeholder:"user@example.com",required:!0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:696,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:694,columnNumber:13},this),a.jsxDEV("div",{className:"col-sm-5",children:[a.jsxDEV("label",{className:"form-label text-sm",children:"New Tenant ID (private)"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:706,columnNumber:15},this),a.jsxDEV("input",{type:"text",className:"form-control",value:H,onChange:e=>Me(e.target.value),placeholder:"acme-inc",required:!0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:707,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:705,columnNumber:13},this),a.jsxDEV("div",{className:"col-sm-2",children:a.jsxDEV("button",{type:"submit",className:"btn btn-primary w-100",children:"Upgrade"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:717,columnNumber:15},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:716,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:693,columnNumber:11},this),Q&&a.jsxDEV("div",{className:"alert alert-danger py-8 px-12 mb-16",children:Q},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:722,columnNumber:21},this),K&&a.jsxDEV("div",{className:"alert alert-success py-8 px-12 mb-16",children:K},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:723,columnNumber:18},this),a.jsxDEV("div",{className:"d-flex flex-wrap align-items-end justify-content-between gap-2 mb-3",children:a.jsxDEV("div",{className:"d-flex align-items-end gap-2 flex-wrap",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"form-label text-sm",children:"Search"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:728,columnNumber:17},this),a.jsxDEV("input",{className:"form-control",placeholder:"Filter by email, tenant, role",value:z,onChange:e=>Xe(e.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:729,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:727,columnNumber:15},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"form-label text-sm",children:"Role"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:737,columnNumber:17},this),a.jsxDEV("select",{className:"form-select",value:w,onChange:e=>we(e.target.value),children:[a.jsxDEV("option",{children:"All"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:739,columnNumber:19},this),a.jsxDEV("option",{children:"admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:740,columnNumber:19},this),a.jsxDEV("option",{children:"partner"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:741,columnNumber:19},this),a.jsxDEV("option",{children:"member"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:742,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:738,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:736,columnNumber:15},this),a.jsxDEV("div",{className:"align-self-end mb-1 d-flex gap-2",children:[a.jsxDEV("button",{className:"btn btn-outline-secondary",onClick:Qe,disabled:$||B,title:"Create a checkpoint containing the current user role assignments",children:$?"Saving…":"Save Checkpoint"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:746,columnNumber:17},this),a.jsxDEV("button",{className:"btn btn-primary",onClick:He,disabled:B||$,title:"Publish all user role/tenant mappings to live appData.json",children:B?"Saving…":"Save All Changes"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:754,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:745,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:726,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:725,columnNumber:11},this),a.jsxDEV("div",{className:"table-responsive scroll-sm",children:[a.jsxDEV("table",{className:"table bordered-table sm-table mb-0 align-middle",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{children:"Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:770,columnNumber:19},this),a.jsxDEV("th",{style:{minWidth:160},children:"Tenant"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:771,columnNumber:19},this),a.jsxDEV("th",{children:"Role"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:772,columnNumber:19},this),a.jsxDEV("th",{children:"Vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:773,columnNumber:19},this),a.jsxDEV("th",{style:{minWidth:320},children:"Actions / Trace"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:774,columnNumber:19},this),a.jsxDEV("th",{style:{minWidth:320},children:"Feature Access"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:775,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:769,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:768,columnNumber:15},this),a.jsxDEV("tbody",{children:[C&&a.jsxDEV("tr",{children:a.jsxDEV("td",{colSpan:6,children:"Loading…"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:781,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:780,columnNumber:19},this),!C&&O.length===0&&a.jsxDEV("tr",{children:a.jsxDEV("td",{colSpan:6,children:"No users match your filters."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:786,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:785,columnNumber:19},this),!C&&O.map(e=>{const i=g(e.role),t=i==="admin",s=i==="partner",n=t?"badge bg-success-focus text-success-700":s?"badge bg-primary-subtle text-primary-700":"badge bg-neutral-200 text-neutral-900";return a.jsxDEV("tr",{children:[a.jsxDEV("td",{children:e.email},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:801,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("select",{className:"form-select form-select-sm w-auto bg-base border text-secondary-light rounded-pill",value:e.tenantId||"vendor",onChange:o=>Fe(e,o.target.value),title:"Switch tenant",children:J.map(o=>a.jsxDEV("option",{value:o.id,children:o.name||o.id},o.id,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:810,columnNumber:31},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:803,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:802,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("span",{className:n,children:i},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:817,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:816,columnNumber:25},this),a.jsxDEV("td",{children:[D[e.email]?a.jsxDEV("span",{className:"badge bg-primary-subtle text-primary-700",children:"Has vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:821,columnNumber:29},this):a.jsxDEV("span",{className:"badge bg-neutral-200 text-neutral-900",children:"No vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:823,columnNumber:29},this),u[e.email]&&a.jsxDEV("div",{className:"small text-secondary mt-1",children:u[e.email].uid?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{children:["uid: ",a.jsxDEV("code",{children:u[e.email].uid},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:830,columnNumber:42},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:829,columnNumber:35},this),a.jsxDEV("div",{children:["by email:"," ",u[e.email].viaEmail?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("code",{children:String(u[e.email].viaEmail.contactEmail||u[e.email].viaEmail.email||"")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:836,columnNumber:41},this)," ","(vendorId:"," ",a.jsxDEV("code",{children:String(u[e.email].viaEmail.id||u[e.email].viaEmail.vendorId)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:844,columnNumber:41},this),", tenant:"," ",a.jsxDEV("code",{children:String(u[e.email].viaEmail.tenantId||u[e.email].viaEmail._tenantId||"vendor")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:848,columnNumber:41},this),")"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:835,columnNumber:39},this):"—"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:832,columnNumber:35},this),a.jsxDEV("div",{children:["by ownerUid:"," ",u[e.email].viaUid?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("code",{children:String(u[e.email].viaUid.ownerUid||"")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:865,columnNumber:41},this)," (vendorId:"," ",a.jsxDEV("code",{children:String(u[e.email].viaUid.id||u[e.email].viaUid.vendorId)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:866,columnNumber:41},this),", tenant:"," ",a.jsxDEV("code",{children:String(u[e.email].viaUid.tenantId||u[e.email].viaUid._tenantId||"vendor")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:870,columnNumber:41},this),")"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:864,columnNumber:39},this):"—"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:861,columnNumber:35},this),a.jsxDEV("div",{children:["by id==uid:"," ",u[e.email].viaId?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("code",{children:String(u[e.email].viaId.id||u[e.email].viaId.vendorId)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:887,columnNumber:41},this)," ","(tenant:"," ",a.jsxDEV("code",{children:String(u[e.email].viaId.tenantId||u[e.email].viaId._tenantId||"vendor")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:889,columnNumber:41},this),")"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:886,columnNumber:39},this):"—"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:883,columnNumber:35},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:828,columnNumber:33},this):a.jsxDEV("div",{children:[a.jsxDEV("span",{className:"me-1",children:"uid:"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:905,columnNumber:35},this),a.jsxDEV("span",{className:"text-secondary",children:"—"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:906,columnNumber:35},this),a.jsxDEV("div",{className:"text-secondary small mt-1",children:T?a.jsxDEV(a.Fragment,{children:"UID not linked. Use “Sync UID” to fetch from Firebase."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:909,columnNumber:39},this):a.jsxDEV(a.Fragment,{children:"UID lookup not available on this server."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:911,columnNumber:39},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:907,columnNumber:35},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:904,columnNumber:33},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:826,columnNumber:29},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:819,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("div",{className:"d-flex gap-2",children:[a.jsxDEV("button",{type:"button",className:t?"btn btn-outline-danger btn-sm":"btn btn-outline-success btn-sm",onClick:()=>Ce(e),title:t?"Revoke admin":"Grant admin",children:t?"Revoke Admin":"Make Admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:921,columnNumber:29},this),a.jsxDEV("button",{type:"button",className:s?"btn btn-outline-danger btn-sm":"btn btn-outline-primary btn-sm",onClick:()=>Le(e),title:s?"Revoke partner":"Grant partner",children:s?"Revoke Partner":"Make Partner"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:929,columnNumber:29},this),!D[e.email]&&a.jsxDEV("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>Be(e),title:"Create vendor profile for this user",children:"Create Vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:940,columnNumber:31},this),a.jsxDEV("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>Oe(e),disabled:!!ee[e.email],title:"Trace vendor status via email, UID, or vendor id",children:ee[e.email]?"Tracing…":"Trace"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:949,columnNumber:29},this),a.jsxDEV("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>$e(e),disabled:!!se[e.email]||!T,title:T?"Lookup Firebase UID and link it to this user's vendor":"UID lookup is not available on this server",children:se[e.email]?"Syncing…":"Sync UID"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:958,columnNumber:29},this),a.jsxDEV("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>Te(e),title:"Delete user from Firebase and remove role mapping (keeps listings)",disabled:(S.currentUser?.email||"").toLowerCase()===(e.email||"").toLowerCase(),children:"Delete User"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:972,columnNumber:29},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:920,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:919,columnNumber:25},this)]},e.email,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:800,columnNumber:23},this)})]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:778,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:767,columnNumber:13},this),a.jsxDEV("div",{className:"mt-32",children:[a.jsxDEV("h6",{className:"mb-2",children:"Feature Access Matrix"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:991,columnNumber:11},this),a.jsxDEV("div",{className:"table-responsive scroll-sm",children:a.jsxDEV("table",{className:"table bordered-table sm-table mb-0 align-middle",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{children:"Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:996,columnNumber:19},this),Ae.map(e=>a.jsxDEV("th",{style:{minWidth:120},children:e.label},e.key,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:998,columnNumber:21},this))]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:995,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:994,columnNumber:15},this),a.jsxDEV("tbody",{children:O.map(e=>a.jsxDEV("tr",{children:[a.jsxDEV("td",{children:e.email},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1005,columnNumber:21},this),Ae.map(i=>a.jsxDEV("td",{className:"text-center",children:a.jsxDEV("input",{type:"checkbox",className:"form-check-input",checked:!!_[e.email]?.[i.key],disabled:!!Pe[e.email],onChange:t=>Se(e.email,i.key,t.target.checked)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1008,columnNumber:25},this)},i.key,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1007,columnNumber:23},this))]},e.email,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1004,columnNumber:19},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1002,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:993,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:992,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:990,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:766,columnNumber:11},this),a.jsxDEV("div",{className:"mt-24",children:[a.jsxDEV("h6",{className:"mb-2",children:"Onboard Admins"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1027,columnNumber:13},this),a.jsxDEV("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-2",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"form-label text-sm",children:"Search users"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1030,columnNumber:17},this),a.jsxDEV("input",{className:"form-control",placeholder:"Search by email or name",value:V,onChange:e=>Ve(e.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1031,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1029,columnNumber:15},this),a.jsxDEV("button",{className:"btn btn-outline-secondary",onClick:()=>k(!0),disabled:f,children:f?"Searching…":"Search"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1038,columnNumber:15},this),le&&a.jsxDEV("div",{className:"text-danger small",children:le},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1041,columnNumber:26},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1028,columnNumber:13},this),a.jsxDEV("div",{className:"table-responsive scroll-sm",children:[a.jsxDEV("table",{className:"table bordered-table sm-table mb-0 align-middle",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{children:"Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1047,columnNumber:21},this),a.jsxDEV("th",{children:"Name"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1048,columnNumber:21},this),a.jsxDEV("th",{children:"UID"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1049,columnNumber:21},this),a.jsxDEV("th",{children:"Tenant"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1050,columnNumber:21},this),a.jsxDEV("th",{children:"Action"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1051,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1046,columnNumber:19},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1045,columnNumber:17},this),a.jsxDEV("tbody",{children:[f&&a.jsxDEV("tr",{children:a.jsxDEV("td",{colSpan:5,children:"Loading…"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1057,columnNumber:23},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1056,columnNumber:21},this),!f&&U.length===0&&a.jsxDEV("tr",{children:a.jsxDEV("td",{colSpan:5,children:"No results"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1062,columnNumber:23},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1061,columnNumber:21},this),!f&&U.map(e=>a.jsxDEV("tr",{children:[a.jsxDEV("td",{children:e.email},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1068,columnNumber:25},this),a.jsxDEV("td",{children:e.displayName||"—"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1069,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("code",{children:e.uid},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1071,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1070,columnNumber:25},this),a.jsxDEV("td",{children:(()=>{const i=(e.email||"").toLowerCase(),t=F[i]||"vendor";return a.jsxDEV("select",{className:"form-select form-select-sm w-auto bg-base border text-secondary-light rounded-pill",value:t,onChange:s=>De(n=>({...n,[i]:s.target.value})),children:J.map(s=>a.jsxDEV("option",{value:s.id,children:s.name||s.id},s.id,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1084,columnNumber:35},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1078,columnNumber:31},this)})()},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1073,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("div",{className:"d-flex flex-wrap gap-2",children:[a.jsxDEV("button",{className:"btn btn-sm btn-outline-success",onClick:()=>_e((e.email||"").toLowerCase()),disabled:he(e.email)==="admin",children:"Grant Admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1094,columnNumber:29},this),a.jsxDEV("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>We((e.email||"").toLowerCase()),disabled:he(e.email)==="partner",children:"Grant Partner"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1101,columnNumber:29},this),qe(e.email)&&a.jsxDEV("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Ge((e.email||"").toLowerCase()),children:"Revoke Access"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1109,columnNumber:31},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1093,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1092,columnNumber:25},this)]},e.uid,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1067,columnNumber:23},this))]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1054,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1044,columnNumber:15},this),a.jsxDEV("div",{className:"d-flex align-items-center justify-content-between mt-2",children:[a.jsxDEV("div",{className:"text-secondary small",children:["Showing ",U.length," user(s)"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1123,columnNumber:17},this),a.jsxDEV("div",{className:"d-flex align-items-center gap-2",children:[a.jsxDEV("label",{className:"text-sm",children:"Page size"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1125,columnNumber:19},this),a.jsxDEV("select",{className:"form-select form-select-sm w-auto",value:X,onChange:e=>je(Number(e.target.value)||100),children:[50,100,200,500,1e3].map(e=>a.jsxDEV("option",{value:e,children:e},e,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1132,columnNumber:23},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1126,columnNumber:19},this),a.jsxDEV("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>k(!0),disabled:f,children:"Refresh"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1137,columnNumber:19},this),a.jsxDEV("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>k(!1),disabled:f||!M,children:f?"Loading…":M?"Load more":"End"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1140,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1124,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1122,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1043,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1026,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:692,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:688,columnNumber:7},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:687,columnNumber:5},this)}function na(){return a.jsxDEV(Je,{children:[a.jsxDEV(Ye,{title:"User Role Management"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/UserRoleManagementPage.tsx",lineNumber:8,columnNumber:7},this),a.jsxDEV(Ze,{},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/UserRoleManagementPage.tsx",lineNumber:9,columnNumber:7},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/UserRoleManagementPage.tsx",lineNumber:7,columnNumber:5},this)}export{na as default};
