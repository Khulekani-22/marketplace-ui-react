import{r as l,e as f,j as e,t as y,s as w,f as v}from"./index-DEYsEGWU.js";import{I as n}from"./iconify-Cs0vGdB3.js";function x(){try{const s=localStorage.getItem("theme");return s==="light"||s==="dark"||s==="system"?s:"system"}catch{return"system"}}function a(){return typeof document>"u"?"light":document.documentElement.getAttribute("data-theme")||v()}function b(){const[s,r]=l.useState(x),[o,c]=l.useState(a);l.useEffect(()=>{f(s),c(a())},[]),l.useEffect(()=>{const t=()=>c(a()),h=p=>{if(p.key==="theme"){const j=x();r(j),c(a())}};return window.addEventListener("themechange",t),window.addEventListener("storage",h),()=>{window.removeEventListener("themechange",t),window.removeEventListener("storage",h)}},[]);const u=l.useMemo(()=>o==="dark"?"solar:moon-outline":"solar:sun-2-outline",[o]),d=l.useMemo(()=>s==="system"?`System (${o})`:o.charAt(0).toUpperCase()+o.slice(1),[s,o]),g=()=>{y(),c(a());const t=a();r(t)},m=t=>{r(t),w(t),c(a())},i=t=>s===t;return e.jsxs("div",{className:"dropdown",children:[e.jsx("button",{className:"has-indicator w-40-px h-40-px bg-neutral-200 rounded-circle d-flex justify-content-center align-items-center",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false","aria-label":"Theme",title:`Theme: ${d}`,onClick:t=>{g()},children:e.jsx(n,{icon:u,className:"text-primary-light text-xl"})}),e.jsxs("ul",{className:"dropdown-menu dropdown-menu-end to-top p-0 overflow-hidden",children:[e.jsx("li",{className:"px-16 py-12 bg-primary-50",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between w-100",children:[e.jsx("h6",{className:"text-lg text-primary-light fw-semibold mb-0",children:"Theme"}),e.jsx("span",{className:"text-secondary-light text-sm",children:d})]})}),e.jsx("li",{children:e.jsxs("button",{className:`dropdown-item d-flex align-items-center gap-2 ${i("light")?"active":""}`,onClick:()=>m("light"),children:[e.jsx(n,{icon:"solar:sun-2-outline",className:"text-lg"}),e.jsx("span",{children:"Light"}),i("light")&&e.jsx(n,{icon:"mdi:check",className:"ms-auto text-primary"})]})}),e.jsx("li",{children:e.jsxs("button",{className:`dropdown-item d-flex align-items-center gap-2 ${i("dark")?"active":""}`,onClick:()=>m("dark"),children:[e.jsx(n,{icon:"solar:moon-outline",className:"text-lg"}),e.jsx("span",{children:"Dark"}),i("dark")&&e.jsx(n,{icon:"mdi:check",className:"ms-auto text-primary"})]})}),e.jsx("li",{children:e.jsxs("button",{className:`dropdown-item d-flex align-items-center gap-2 ${i("system")?"active":""}`,onClick:()=>m("system"),children:[e.jsx(n,{icon:"solar:monitor-outline",className:"text-lg"}),e.jsx("span",{children:"System"}),i("system")&&e.jsx(n,{icon:"mdi:check",className:"ms-auto text-primary"})]})})]})]})}export{b as T};
