import{r as m,j as e}from"./index-7-v0jUWh.js";import{I as w}from"./iconify-BSamAZK7.js";import{M as ae}from"./MasterLayout-SmJzx4r8.js";import{a as Y}from"./appData-CcG0uR8Q.js";const K="sloane_academy_admin_resources_v1",Q="sloane_academy_admin_activity_v1";var U;const l=(U=Y)==null?void 0:U.cohorts;var B;const P=(B=Y)==null?void 0:B.startups;var _,H,q,W;const $=[{id:"demo-resource-1",cohortId:((_=l==null?void 0:l[0])==null?void 0:_.id)??"african-bank",cohortName:((H=l==null?void 0:l[0])==null?void 0:H.name)??"African Bank",moduleTitle:"Module 1: Fintech Innovations",summary:"Updated slide deck plus facilitator notes for onboarding session.",resourceType:"Slide deck",deliveryMode:"Facilitated workshop",duration:"90 min",link:"https://drive.google.com/",status:"Published",uploadedBy:"Sloane Academy Ops",addedAt:new Date(Date.now()-1e3*60*60*24*6).toISOString()},{id:"demo-resource-2",cohortId:((q=l==null?void 0:l[1])==null?void 0:q.id)??"assupol",cohortName:((W=l==null?void 0:l[1])==null?void 0:W.name)??"Assupol",moduleTitle:"Customer Discovery Interview Guide",summary:"Template questions for partners to use during week 2 coaching.",resourceType:"Worksheet",deliveryMode:"Self-paced",duration:"45 min",status:"Pending review",uploadedBy:"Assupol Partner Team",addedAt:new Date(Date.now()-1e3*60*60*24*2).toISOString()}];var G,J,V;const te={s1:{startupId:"s1",startupName:"AfriTech",cohortName:((G=l==null?void 0:l[0])==null?void 0:G.name)??"African Bank",completion:68,timeSpentHours:32,activeLearners:5,riskLevel:"Needs focus",lastActivity:new Date(Date.now()-1e3*60*60*18).toISOString()},s2:{startupId:"s2",startupName:"FinConnect",cohortName:((J=l==null?void 0:l[1])==null?void 0:J.name)??"Assupol",completion:82,timeSpentHours:28,activeLearners:4,riskLevel:"On track",lastActivity:new Date(Date.now()-1e3*60*60*8).toISOString()},s3:{startupId:"s3",startupName:"RetailFlow",cohortName:((V=l==null?void 0:l[2])==null?void 0:V.name)??"Standard Bank",completion:41,timeSpentHours:19,activeLearners:3,riskLevel:"At risk",lastActivity:new Date(Date.now()-1e3*60*60*72).toISOString()}};function re(){try{const r=localStorage.getItem(K);if(!r)return[];const h=JSON.parse(r);return Array.isArray(h)?h.filter(u=>u==null?void 0:u.id):[]}catch{return[]}}function le(r){try{localStorage.setItem(K,JSON.stringify(r))}catch{}}function ne(){try{const r=localStorage.getItem(Q);if(!r)return[];const h=JSON.parse(r);return Array.isArray(h)?h.filter(u=>u==null?void 0:u.id):[]}catch{return[]}}function ce(r){try{localStorage.setItem(Q,JSON.stringify(r))}catch{}}function f(r){const h=new Date(r);return Number.isNaN(h.getTime())?"Unknown":new Intl.DateTimeFormat("en-ZA",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(h)}function ie(r){return r>=75?"On track":r>=50?"Needs focus":"At risk"}function he(){var F;const r=m.useMemo(()=>Array.isArray(l)?l:[],[]),h=m.useMemo(()=>Array.isArray(P)?P:[],[]),[u,L]=m.useState(()=>{const s=re();return s.length?s:$}),[N,T]=m.useState(()=>{const s=ne();return s.length?s:$.slice(0,3).map(a=>({id:`log-${a.id}`,message:`${a.status==="Published"?"Published":"Queued"} ${a.resourceType.toLowerCase()} · ${a.moduleTitle}`,at:a.addedAt}))});m.useEffect(()=>le(u),[u]),m.useEffect(()=>ce(N),[N]);const y=m.useRef(null),[S,I]=m.useState(null),[D,R]=m.useState(null),[d,O]=m.useState({cohortId:((F=r[0])==null?void 0:F.id)??"",moduleTitle:"",summary:"",resourceType:"Video",deliveryMode:"Self-paced",duration:"",link:"",uploadedBy:""}),p=m.useMemo(()=>{var o;const s=[],a=r.length?r:[{id:"general",name:"General"}];return h.slice(0,6).forEach((i,n)=>{const t=te[i.id],c=r.find(A=>A.id===(i.cohort||""))||(t!=null&&t.cohortName?r.find(A=>A.name===t.cohortName):void 0)||a[n%a.length],x=(t==null?void 0:t.completion)??Math.max(25,60-n*5),E={startupId:i.id,startupName:i.name,cohortName:(c==null?void 0:c.name)??"General",completion:x,timeSpentHours:(t==null?void 0:t.timeSpentHours)??Math.max(10,30-n*3),activeLearners:(t==null?void 0:t.activeLearners)??Math.max(2,5-n),riskLevel:(t==null?void 0:t.riskLevel)??ie(x),lastActivity:(t==null?void 0:t.lastActivity)??new Date(Date.now()-1e3*60*60*(n+12)).toISOString()};s.push(E)}),s.length||s.push({startupId:"demo",startupName:"Sample Startup",cohortName:((o=a[0])==null?void 0:o.name)??"Sloane Academy",completion:55,timeSpentHours:18,activeLearners:3,riskLevel:"Needs focus",lastActivity:new Date().toISOString()}),s},[h,r]),v=m.useMemo(()=>{const s=p.length,a=p.reduce((c,x)=>c+x.completion,0),o=s?Math.round(a/s):0,i=p.reduce((c,x)=>c+x.timeSpentHours,0),n=p.reduce((c,x)=>c+x.activeLearners,0),t=p.filter(c=>c.riskLevel!=="On track").length;return{avgCompletion:o,activeHours:i,activeLearners:n,alerts:t,total:s}},[p]),[b,Z]=m.useState("all"),[g,z]=m.useState("all"),M=m.useMemo(()=>p.filter(s=>{const a=b==="all"||s.cohortName===b,o=g==="all"||g==="on-track"&&s.riskLevel==="On track"||g==="needs-focus"&&s.riskLevel==="Needs focus"||g==="at-risk"&&s.riskLevel==="At risk";return a&&o}),[p,b,g]);function k(s){R(s),window.setTimeout(()=>R(null),3200)}function j(s){const{name:a,value:o}=s.target;O(i=>({...i,[a]:o}))}function X(s){var o;const a=((o=s.target.files)==null?void 0:o[0])??null;I(a?a.name:null)}function ee(s){if(s.preventDefault(),!d.moduleTitle.trim()){k("Provide a module title before submitting.");return}const a=r.find(n=>n.id===d.cohortId)??r[0]??{id:"general",name:"General"},o=new Date().toISOString(),i={id:`res-${Date.now()}`,cohortId:a.id,cohortName:a.name,moduleTitle:d.moduleTitle.trim(),summary:d.summary.trim(),resourceType:d.resourceType,deliveryMode:d.deliveryMode,duration:d.duration.trim()||"Self-paced",link:d.link.trim()||void 0,attachmentName:S,status:"Pending review",uploadedBy:d.uploadedBy.trim()||"Partner portal",addedAt:o};L(n=>[i,...n]),T(n=>[{id:`log-${i.id}`,message:`Submitted ${i.resourceType.toLowerCase()} for ${i.moduleTitle}`,at:o},...n].slice(0,12)),O(n=>({...n,moduleTitle:"",summary:"",duration:"",link:""})),I(null),y.current&&(y.current.value=""),k("Resource submitted for review.")}function C(s,a){L(i=>i.map(n=>n.id===s?{...n,status:a}:n));const o=u.find(i=>i.id===s);o&&T(i=>[{id:`log-${s}-${a}`,message:`${a} · ${o.moduleTitle}`,at:new Date().toISOString()},...i].slice(0,12))}function se(){const s=["Cohort","Module","Type","Delivery","Duration","Status","Uploaded by","Added at"],a=u.map(c=>[c.cohortName,c.moduleTitle,c.resourceType,c.deliveryMode,c.duration,c.status,c.uploadedBy,f(c.addedAt)]),o=[s,...a].map(c=>c.map(x=>`"${String(x??"").replace(/"/g,'""')}"`).join(",")).join(`
`),i=new Blob([o],{type:"text/csv;charset=utf-8"}),n=URL.createObjectURL(i),t=document.createElement("a");t.href=n,t.download=`sloane-academy-resources-${Date.now()}.csv`,t.click(),URL.revokeObjectURL(n),k("Exporting resource library.")}return e.jsx(ae,{children:e.jsx("div",{className:"container-fluid py-4",children:e.jsxs("div",{className:"row g-24",children:[e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card radius-16 border-0 shadow-sm p-24 bg-base",children:e.jsxs("div",{className:"row g-16 align-items-center",children:[e.jsxs("div",{className:"col-12 col-lg-8",children:[e.jsx("span",{className:"badge bg-neutral-100 text-primary-700 mb-12",children:"Partner console"}),e.jsx("h1",{className:"mb-12",children:"Sloane Academy admin"}),e.jsx("p",{className:"text-secondary-light mb-0",children:"Upload programme materials, publish partner updates, and monitor startup engagement across cohorts. Use the filters to surface teams that need support."})]}),e.jsx("div",{className:"col-12 col-lg-4 text-lg-end d-flex d-lg-block gap-12 justify-content-start",children:e.jsxs("button",{type:"button",className:"btn btn-outline-primary-600 px-24",onClick:se,children:[e.jsx(w,{icon:"mdi:tray-arrow-down",className:"me-6"})," Export library"]})})]})})}),D&&e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"alert alert-success mb-0",children:D})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"row g-16",children:[e.jsx("div",{className:"col-6 col-lg-3",children:e.jsxs("div",{className:"card radius-12 p-16 border-0 bg-base",children:[e.jsx("span",{className:"text-secondary-light",children:"Average completion"}),e.jsxs("h3",{className:"mt-12 mb-4",children:[v.avgCompletion,"%"]}),e.jsxs("small",{className:"text-success-600",children:[e.jsx(w,{icon:"mdi:trending-up"})," ",v.total," active teams"]})]})}),e.jsx("div",{className:"col-6 col-lg-3",children:e.jsxs("div",{className:"card radius-12 p-16 border-0 bg-base",children:[e.jsx("span",{className:"text-secondary-light",children:"Learner hours logged"}),e.jsx("h3",{className:"mt-12 mb-4",children:v.activeHours}),e.jsx("small",{className:"text-secondary-light",children:"Across tracked startups"})]})}),e.jsx("div",{className:"col-6 col-lg-3",children:e.jsxs("div",{className:"card radius-12 p-16 border-0 bg-base",children:[e.jsx("span",{className:"text-secondary-light",children:"Active learners"}),e.jsx("h3",{className:"mt-12 mb-4",children:v.activeLearners}),e.jsx("small",{className:"text-secondary-light",children:"Seats engaged this week"})]})}),e.jsx("div",{className:"col-6 col-lg-3",children:e.jsxs("div",{className:"card radius-12 p-16 border-0 bg-base",children:[e.jsx("span",{className:"text-secondary-light",children:"Needs attention"}),e.jsx("h3",{className:"mt-12 mb-4",children:v.alerts}),e.jsx("small",{className:"text-danger-600",children:"Cohorts below target"})]})})]})}),e.jsx("div",{className:"col-12 col-xl-5",children:e.jsxs("div",{className:"card radius-16 p-24 border-0 bg-base h-100",children:[e.jsx("h4",{className:"mb-16",children:"Submit learning material"}),e.jsx("p",{className:"text-secondary-light mb-16",children:"Attach decks, worksheets, or recordings. Submissions move to review before being published to the academy catalogue."}),e.jsxs("form",{onSubmit:ee,className:"d-flex flex-column gap-16",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Programme"}),e.jsx("select",{className:"form-select",name:"cohortId",value:d.cohortId,onChange:j,required:!0,children:r.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Module title"}),e.jsx("input",{type:"text",className:"form-control",name:"moduleTitle",placeholder:"e.g. Designing for financial literacy",value:d.moduleTitle,onChange:j,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Summary"}),e.jsx("textarea",{className:"form-control",name:"summary",rows:3,placeholder:"What should founders expect from this material?",value:d.summary,onChange:j})]}),e.jsxs("div",{className:"row g-12",children:[e.jsxs("div",{className:"col",children:[e.jsx("label",{className:"form-label",children:"Resource type"}),e.jsxs("select",{className:"form-select",name:"resourceType",value:d.resourceType,onChange:j,children:[e.jsx("option",{children:"Video"}),e.jsx("option",{children:"Slide deck"}),e.jsx("option",{children:"Worksheet"}),e.jsx("option",{children:"Templates"}),e.jsx("option",{children:"Reading"})]})]}),e.jsxs("div",{className:"col",children:[e.jsx("label",{className:"form-label",children:"Delivery mode"}),e.jsxs("select",{className:"form-select",name:"deliveryMode",value:d.deliveryMode,onChange:j,children:[e.jsx("option",{children:"Self-paced"}),e.jsx("option",{children:"Facilitated workshop"}),e.jsx("option",{children:"Coaching session"}),e.jsx("option",{children:"Live webinar"})]})]})]}),e.jsxs("div",{className:"row g-12",children:[e.jsxs("div",{className:"col",children:[e.jsx("label",{className:"form-label",children:"Duration"}),e.jsx("input",{type:"text",className:"form-control",name:"duration",placeholder:"e.g. 45 min",value:d.duration,onChange:j})]}),e.jsxs("div",{className:"col",children:[e.jsx("label",{className:"form-label",children:"Access link"}),e.jsx("input",{type:"url",className:"form-control",name:"link",placeholder:"https://",value:d.link,onChange:j})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Attach file"}),e.jsx("input",{type:"file",className:"form-control",onChange:X,ref:y}),S&&e.jsxs("small",{className:"text-secondary-light d-block mt-4",children:["Attachment: ",S]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Uploaded by"}),e.jsx("input",{type:"text",className:"form-control",name:"uploadedBy",placeholder:"e.g. Microsoft partner lead",value:d.uploadedBy,onChange:j})]}),e.jsx("button",{type:"submit",className:"btn btn-primary-600",children:"Submit for review"})]})]})}),e.jsx("div",{className:"col-12 col-xl-7",children:e.jsxs("div",{className:"card radius-16 p-24 border-0 bg-base h-100",children:[e.jsx("div",{className:"d-flex flex-column flex-md-row justify-content-between gap-12 mb-16",children:e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4",children:"Resource library"}),e.jsx("p",{className:"text-secondary-light mb-0",children:"Track drafts, review queue, and published material across cohorts."})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table align-middle",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Module"}),e.jsx("th",{children:"Cohort"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Updated"}),e.jsx("th",{className:"text-end",children:"Actions"})]})}),e.jsx("tbody",{children:u.map(s=>e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("div",{className:"fw-medium",children:s.moduleTitle}),e.jsx("small",{className:"text-secondary-light",children:s.summary||"—"})]}),e.jsx("td",{children:s.cohortName}),e.jsx("td",{children:s.resourceType}),e.jsx("td",{children:e.jsx("span",{className:`badge ${s.status==="Published"?"bg-success-100 text-success-700":s.status==="Pending review"?"bg-warning-100 text-warning-700":"bg-neutral-100 text-neutral-700"}`,children:s.status})}),e.jsx("td",{children:f(s.addedAt)}),e.jsx("td",{className:"text-end",children:e.jsxs("div",{className:"btn-group btn-group-sm",children:[s.status!=="Published"&&e.jsx("button",{type:"button",className:"btn btn-outline-success-600",onClick:()=>C(s.id,"Published"),children:"Publish"}),s.status!=="Draft"&&e.jsx("button",{type:"button",className:"btn btn-outline-primary-600",onClick:()=>C(s.id,"Draft"),children:"Move to draft"}),s.link&&e.jsx("a",{className:"btn btn-outline-secondary",href:s.link,target:"_blank",rel:"noreferrer",children:"Open"})]})})]},s.id))})]})})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card radius-16 p-24 border-0 bg-base",children:[e.jsxs("div",{className:"d-flex flex-column flex-lg-row align-items-lg-center justify-content-between gap-12 mb-16",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4",children:"Startup learning performance"}),e.jsx("p",{className:"text-secondary-light mb-0",children:"Monitor progress across tracked startups. Use filters to spot teams falling behind."})]}),e.jsxs("div",{className:"d-flex gap-12 flex-wrap",children:[e.jsxs("select",{className:"form-select",value:b,onChange:s=>Z(s.target.value),children:[e.jsx("option",{value:"all",children:"All cohorts"}),[...new Set(p.map(s=>s.cohortName))].map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsxs("select",{className:"form-select",value:g,onChange:s=>z(s.target.value),children:[e.jsx("option",{value:"all",children:"All statuses"}),e.jsx("option",{value:"on-track",children:"On track"}),e.jsx("option",{value:"needs-focus",children:"Needs focus"}),e.jsx("option",{value:"at-risk",children:"At risk"})]})]})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table align-middle",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Startup"}),e.jsx("th",{children:"Cohort"}),e.jsx("th",{style:{width:"22%"},children:"Completion"}),e.jsx("th",{children:"Hours"}),e.jsx("th",{children:"Learners"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Last activity"})]})}),e.jsxs("tbody",{children:[M.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.startupName}),e.jsx("td",{children:s.cohortName}),e.jsxs("td",{children:[e.jsx("div",{className:"progress",style:{height:10},children:e.jsx("div",{className:`progress-bar ${s.riskLevel==="On track"?"bg-success-600":s.riskLevel==="Needs focus"?"bg-warning-600":"bg-danger-600"}`,role:"progressbar",style:{width:`${s.completion}%`},"aria-valuenow":s.completion,"aria-valuemin":0,"aria-valuemax":100})}),e.jsxs("small",{className:"text-secondary-light",children:[s.completion,"%"]})]}),e.jsx("td",{children:s.timeSpentHours}),e.jsx("td",{children:s.activeLearners}),e.jsx("td",{children:e.jsx("span",{className:`badge ${s.riskLevel==="On track"?"bg-success-100 text-success-700":s.riskLevel==="Needs focus"?"bg-warning-100 text-warning-700":"bg-danger-100 text-danger-700"}`,children:s.riskLevel})}),e.jsx("td",{children:f(s.lastActivity)})]},s.startupId)),!M.length&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"text-center text-secondary-light py-24",children:"No startups match the current filters."})})]})]})})]})}),e.jsx("div",{className:"col-12 col-xl-5",children:e.jsxs("div",{className:"card radius-16 p-24 border-0 bg-base h-100",children:[e.jsx("h5",{className:"mb-16",children:"Activity log"}),e.jsxs("ul",{className:"list-unstyled d-flex flex-column gap-12 mb-0",children:[N.slice(0,6).map(s=>e.jsxs("li",{className:"border radius-12 p-16",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-6",children:[e.jsx("span",{className:"fw-medium",children:s.message}),e.jsx(w,{icon:"mdi:clock-outline",className:"text-neutral-400",width:18,height:18})]}),e.jsx("small",{className:"text-secondary-light",children:f(s.at)})]},s.id)),!N.length&&e.jsx("li",{className:"text-secondary-light",children:"No activity recorded yet."})]})]})}),e.jsx("div",{className:"col-12 col-xl-7",children:e.jsxs("div",{className:"card radius-16 p-24 border-0 bg-base h-100",children:[e.jsx("h5",{className:"mb-16",children:"Partner actions"}),e.jsxs("div",{className:"row g-16",children:[e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"border radius-12 p-16 h-100",children:[e.jsx("h6",{className:"mb-8",children:"Upcoming tasks"}),e.jsxs("ul",{className:"list-unstyled mb-0 text-secondary-light d-flex flex-column gap-6",children:[e.jsx("li",{children:"• Finalise AWS mentor list for week 3 clinics"}),e.jsx("li",{children:"• Upload recordings from Cape Town founders session"}),e.jsx("li",{children:"• Share updated onboarding checklist with cohorts"})]})]})}),e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"border radius-12 p-16 h-100",children:[e.jsx("h6",{className:"mb-8",children:"Support requests"}),e.jsxs("ul",{className:"list-unstyled mb-0 text-secondary-light d-flex flex-column gap-6",children:[e.jsx("li",{children:"• AfriTech: Needs design thinking coach for sprint"}),e.jsx("li",{children:"• RetailFlow: Requesting investor readiness review"}),e.jsx("li",{children:"• FinConnect: Waiting on compliance template"})]})]})})]})]})})]})})})}export{he as default};
