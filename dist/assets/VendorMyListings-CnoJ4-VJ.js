import{a as K,m as re,u as le,j as s,M as ce}from"./index-SxOx_-GL.js";import{b as oe,u as ue,r as n,L as S}from"./vendor-C0neu5ZX.js";import"./firebase-ARhtPVQA.js";import"./utils-B2rxisVD.js";async function me(l={}){try{const{signal:r,refresh:d=!1}=l,t=d?{refresh:"true"}:{},{data:b}=await K.get("/api/data/services/mine",{signal:r,params:t}),P=Array.isArray(b?.listings)?b.listings:[],w=Array.isArray(b?.bookings)?b.bookings:[],I=b?.vendor||null,V=typeof b?.tenantId=="string"?b.tenantId:void 0;return{listings:P,bookings:w,vendor:I,tenantId:V}}catch(r){const d=r?.response?.status;if(d===401||d===403||d===404)return{listings:[],bookings:[]};throw r}}function de(l){const r=l.toString().toLowerCase();return r==="vendor"?"public":r}function pe(l,r){const d=de(l||"public"),t=(r||"").trim().toLowerCase();return t?`vendor_pending_listings:${d}:${t}`:null}function F(l){return String(l?.id||l?.serviceId||"")}function be(l){try{const r=typeof l=="string"?JSON.parse(l):l;return Array.isArray(r)?r:[]}catch{return[]}}function G({s:l}){const r=(l||"unknown").toLowerCase(),d={approved:"success",pending:"warning",rejected:"danger",scheduled:"info",completed:"success",canceled:"secondary",unknown:"secondary"};return s.jsxDEV("span",{className:`badge text-bg-${d[r]||"secondary"}`,children:r},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:99,columnNumber:5},this)}function xe(){const l=oe(),r=ue(),d=n.useRef(null),{vendor:t,ensureVendorId:b,loading:P}=re(),{refresh:w,syncMessagesToLive:I}=le(),V=n.useMemo(()=>sessionStorage.getItem("tenantId")||"vendor",[]),[f,y]=n.useState([]),[N,C]=n.useState([]),[v,H]=n.useState(!0),[U,J]=n.useState(!1),[O,M]=n.useState(""),[c,h]=n.useState({open:!1,listing:null,subject:"",content:"",sending:!1,err:null,done:!1}),k=n.useMemo(()=>t||null,[t]),x=n.useMemo(()=>pe(V,k?.vendorId||k?.email||k?.id||""),[V,k]),[A,L]=n.useState([]),g=r.state?.newListing,j=n.useCallback(e=>{if(L(e),!!x){if(!e.length){localStorage.removeItem(x);return}try{localStorage.setItem(x,JSON.stringify(e))}catch{}}},[x]);n.useEffect(()=>{if(!x){L([]);return}try{const e=be(localStorage.getItem(x));L(e)}catch{L([])}},[x]),n.useEffect(()=>{if(!g)return;d.current=g;const e=String(g?.id||g?.serviceId||"");y(i=>i?i.some(o=>String(o?.id||o?.serviceId)===e)?i:[g,...i]:[g]),j([g,...A.filter(i=>String(i?.id||i?.serviceId||"")!==e)]),M(""),l({pathname:r.pathname,search:r.search},{replace:!0,state:{}})},[g,l,r.pathname,r.search,j,A]);const q=n.useCallback(e=>{const i=Array.isArray(e)?[...e]:[],a=new Set(i.map(F).filter(Boolean)),o=d.current;if(o){const u=F(o);u&&!a.has(u)?(i.unshift(o),a.add(u)):d.current=null}if(A.length){const u=[];A.forEach(m=>{const p=F(m);p&&(a.has(p)||(a.add(p),i.unshift(m),u.push(m)))}),u.length!==A.length&&j(u)}return i},[A,j]);n.useEffect(()=>{if(t&&!t.isApproved){const e=encodeURIComponent("/listings-vendors-mine");l(`/profile-vendor?next=${e}`,{replace:!0})}},[t,l]);const E=n.useCallback(async({signal:e,silent:i,refresh:a}={})=>{const o=m=>{i?J(m):H(m)};o(!0),M("");let u=t;try{if(e?.aborted||P&&!t)return;if(!t){y([]),C([]);return}const m=b?await b():t;if(e?.aborted)return;if(u=m||t,!u){y([]),C([]);return}const{listings:p,bookings:X}=await me({signal:e,refresh:a});if(e?.aborted)return;const R=Array.isArray(p)?p:[],B=Array.isArray(X)?X:[],ne=q(R);y(ne),C(B)}catch(m){if(e?.aborted)return;const p=m?.code;M(p==="ERR_NETWORK"?"Network error – showing cached drafts.":m?.response?.data?.message||m?.message||"Failed to load listings")}finally{o(!1)}},[b,q,t,P]);n.useEffect(()=>{const e=new AbortController;return E({signal:e.signal}),()=>{e.abort()}},[E]);const _=n.useCallback(async()=>{M(""),await E({silent:!0,refresh:!0})},[E]),T=n.useMemo(()=>{const e={approved:0,pending:0,rejected:0};return f.forEach(i=>{const a=(i.status||"pending").toLowerCase();e[a]=(e[a]||0)+1}),e},[f]),W=n.useMemo(()=>{const e={};return N.forEach(i=>{const a=String(i.serviceId||"");a&&(e[a]=(e[a]||0)+1)}),e},[N]),Y=n.useMemo(()=>{const e={};return f.forEach(i=>{[String(i.id||""),String(i.serviceId||""),String(i.vendorId||"")].filter(Boolean).forEach(o=>{e[o]=i})}),e},[f]);function z(e){const i=(e+11)%12+1,a=e>=12?"PM":"AM";return`${i}:00 ${a}`}function Q(e){if(!e)return"";const[i]=e.split(":"),a=Number(i);return Number.isNaN(a)?e:`${z(a)} – ${z(a+1)}`}function $(e){if(e?.scheduledDate){const i=e.scheduledSlot||"00:00",a=`${e.scheduledDate}T${i.length===5?i:`${i}:00`}`,o=new Date(a);if(!Number.isNaN(o.getTime()))return o}if(e?.bookedAt){const i=new Date(e.bookedAt);if(!Number.isNaN(i.getTime()))return i}return null}const Z=n.useMemo(()=>{const e=N.map(i=>({...i}));return e.sort((i,a)=>{const o=$(i)?.getTime()??0,u=$(a)?.getTime()??0;return o-u}),e},[N]);function ee(e){return e?{date:e.toLocaleDateString(),time:e.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}:{date:"—",time:""}}function se(e){const i=encodeURIComponent(JSON.stringify({title:e.title,category:e.category,price:e.price,imageUrl:e.imageUrl,description:e.description,listingType:e.listingType||"service"}));l(`/listings-vendors?prefill=${i}`)}function ie(e){const i=`Feedback request: ${e.title}`,a=`Hello Admin

My listing "${e.title}" (ID: ${e.id}) was ${String(e.status||"rejected")}. Could you please share more details on what needs to be corrected so I can resubmit?

Thank you!`;h({open:!0,listing:e,subject:i,content:a,sending:!1,err:null,done:!1})}function ae(){const e=`General inquiry from ${t?.name||t?.companyName||"vendor"}`;h({open:!0,listing:null,subject:e,content:`Hello Admin

I have a question/concern regarding my vendor account or listings.

[Please describe your question or concern here]

Thank you for your assistance!`,sending:!1,err:null,done:!1})}function D(){h({open:!1,listing:null,subject:"",content:"",sending:!1,err:null,done:!1})}async function te(e){if(e?.preventDefault?.(),!!c.content.trim()){h(i=>({...i,sending:!0,err:null}));try{const i={listingId:c.listing?c.listing.id||"general":"general-admin-message",listingTitle:c.listing?c.listing.title||"General Feedback":"General Admin Message",vendorId:t?.vendorId||t?.id||"",vendorEmail:t?.email||t?.contactEmail||"",subject:c.subject,content:c.content};await K.post("/api/messages",i),h(a=>({...a,sending:!1,done:!0}));try{await w({force:!0}),await I()}catch{}setTimeout(()=>D(),1200)}catch(i){h(a=>({...a,sending:!1,err:i?.response?.data?.message||i?.message||"Failed to send"}))}}}return s.jsxDEV(ce,{children:s.jsxDEV("div",{className:"container py-4",children:[s.jsxDEV("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[s.jsxDEV("h1",{className:"h4 mb-0",children:"My listings"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:440,columnNumber:11},this),s.jsxDEV("div",{className:"d-flex gap-2",children:[s.jsxDEV("button",{type:"button",className:"btn btn-outline-secondary",onClick:_,disabled:v||U,children:U?"Refreshing…":"Refresh"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:442,columnNumber:13},this),s.jsxDEV("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>ae(),title:"Contact admin about any questions or concerns",children:[s.jsxDEV("i",{className:"bi bi-envelope me-1"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:456,columnNumber:15},this),"Message Admin"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:450,columnNumber:13},this),s.jsxDEV(S,{to:"/listings-vendors",className:"btn btn-primary",children:"+ Submit new listing"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:459,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:441,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:439,columnNumber:9},this),s.jsxDEV("div",{className:"d-flex gap-2 flex-wrap mb-3",children:[s.jsxDEV("span",{className:"badge text-bg-success",children:["Approved: ",T.approved]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:466,columnNumber:11},this),s.jsxDEV("span",{className:"badge text-bg-warning",children:["Pending: ",T.pending]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:467,columnNumber:11},this),s.jsxDEV("span",{className:"badge text-bg-danger",children:["Rejected: ",T.rejected]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:468,columnNumber:11},this),s.jsxDEV("span",{className:"badge text-bg-secondary",children:["Total: ",f.length]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:469,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:465,columnNumber:9},this),s.jsxDEV("div",{className:"card",children:s.jsxDEV("div",{className:"card-body",children:[O&&s.jsxDEV("div",{className:"alert alert-danger",children:O},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:474,columnNumber:21},this),v&&s.jsxDEV("div",{className:"text-muted",children:"Loading…"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:475,columnNumber:25},this),!v&&!f.length&&s.jsxDEV("div",{className:"text-muted",children:["You haven’t submitted any listings yet."," ",s.jsxDEV(S,{to:"/listings-vendors",children:"Create your first one."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:480,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:478,columnNumber:15},this),!v&&!!f.length&&s.jsxDEV("div",{className:"table-responsive",children:s.jsxDEV("table",{className:"table align-middle",children:[s.jsxDEV("thead",{children:s.jsxDEV("tr",{children:[s.jsxDEV("th",{style:{width:72}},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:489,columnNumber:23},this),s.jsxDEV("th",{children:"Title"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:490,columnNumber:23},this),s.jsxDEV("th",{children:"Category"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:491,columnNumber:23},this),s.jsxDEV("th",{children:"Price"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:492,columnNumber:23},this),s.jsxDEV("th",{children:"Status"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:493,columnNumber:23},this),s.jsxDEV("th",{children:"Bookings"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:494,columnNumber:23},this),s.jsxDEV("th",{style:{width:220},children:"Actions"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:495,columnNumber:23},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:488,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:487,columnNumber:19},this),s.jsxDEV("tbody",{children:f.map((e,i)=>{const a=String(e.id||e.serviceId||e.vendorId||"");return s.jsxDEV("tr",{children:[s.jsxDEV("td",{children:s.jsxDEV("img",{src:e.imageUrl||"/assets/images/placeholder-4x3.png",alt:"",style:{width:64,height:40,objectFit:"cover",borderRadius:6}},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:504,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:503,columnNumber:25},this),s.jsxDEV("td",{className:"fw-semibold",children:e.title},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:510,columnNumber:25},this),s.jsxDEV("td",{children:e.category||"—"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:511,columnNumber:25},this),s.jsxDEV("td",{children:["R",Number(e.price||0).toLocaleString()]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:512,columnNumber:25},this),s.jsxDEV("td",{children:s.jsxDEV(G,{s:e.status},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:513,columnNumber:29},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:513,columnNumber:25},this),s.jsxDEV("td",{children:W[a]||0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:514,columnNumber:25},this),s.jsxDEV("td",{className:"d-flex gap-2",children:[s.jsxDEV(S,{className:"btn btn-outline-secondary btn-sm",to:`/marketplace-details?id=${encodeURIComponent(e.id||"")}`,children:"View"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:517,columnNumber:27},this),s.jsxDEV("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>se(e),children:"Duplicate & edit"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:523,columnNumber:27},this),String(e.status||"").toLowerCase()==="rejected"&&s.jsxDEV("button",{className:"btn btn-sm btn-danger",onClick:()=>ie(e),title:"Ask admin why this was rejected",children:"Message Admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:530,columnNumber:29},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:515,columnNumber:25},this)]},a||i,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:502,columnNumber:23},this)})},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:498,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:486,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:485,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:473,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:472,columnNumber:9},this),s.jsxDEV("div",{className:"card mt-4",children:[s.jsxDEV("div",{className:"card-header d-flex justify-content-between align-items-center",children:[s.jsxDEV("h6",{className:"mb-0",children:"Bookings"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:551,columnNumber:13},this),s.jsxDEV("span",{className:"badge text-bg-secondary",children:["Total: ",N.length]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:552,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:550,columnNumber:11},this),s.jsxDEV("div",{className:"card-body",children:[!N.length&&s.jsxDEV("div",{className:"text-muted",children:"No bookings yet. Once customers reserve sessions, they will appear here."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:555,columnNumber:34},this),!!N.length&&s.jsxDEV("div",{className:"table-responsive",children:s.jsxDEV("table",{className:"table align-middle",children:[s.jsxDEV("thead",{children:s.jsxDEV("tr",{children:[s.jsxDEV("th",{children:"Service"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:561,columnNumber:23},this),s.jsxDEV("th",{children:"Customer"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:562,columnNumber:23},this),s.jsxDEV("th",{children:"Scheduled"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:563,columnNumber:23},this),s.jsxDEV("th",{children:"Status"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:564,columnNumber:23},this),s.jsxDEV("th",{className:"text-end",children:"Price"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:565,columnNumber:23},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:560,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:559,columnNumber:19},this),s.jsxDEV("tbody",{children:Z.map((e,i)=>{const a=$(e),{date:o,time:u}=ee(a),m=Q(e.scheduledSlot),p=Y[String(e.serviceId||"")],X=e.serviceTitle||p?.title||"Unknown service",R=Number(e.price||p?.price||0)||0,B=String(e.id||[e.serviceId,e.customerId,e.scheduledDate,e.scheduledSlot,e.bookedAt].filter(Boolean).join("-")||i);return s.jsxDEV("tr",{children:[s.jsxDEV("td",{children:s.jsxDEV("div",{className:"d-flex flex-column",children:[s.jsxDEV("span",{className:"fw-semibold",children:X},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:587,columnNumber:31},this),p?.id&&s.jsxDEV(S,{className:"small",to:`/marketplace-details?id=${encodeURIComponent(p.id)}`,children:"Open listing"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:589,columnNumber:33},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:586,columnNumber:29},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:585,columnNumber:27},this),s.jsxDEV("td",{children:s.jsxDEV("div",{className:"small text-muted",children:e.customerName||e.customerEmail||"—"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:594,columnNumber:29},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:593,columnNumber:27},this),s.jsxDEV("td",{children:s.jsxDEV("div",{className:"d-flex flex-column small",children:[s.jsxDEV("span",{children:o},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:598,columnNumber:31},this),s.jsxDEV("span",{children:m||u},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:599,columnNumber:31},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:597,columnNumber:29},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:596,columnNumber:27},this),s.jsxDEV("td",{children:s.jsxDEV(G,{s:e.status||"pending"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:602,columnNumber:31},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:602,columnNumber:27},this),s.jsxDEV("td",{className:"text-end",children:["R",R.toLocaleString()]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:603,columnNumber:27},this)]},B,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:584,columnNumber:25},this)})},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:568,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:558,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:557,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:554,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:549,columnNumber:9},this),c.open&&s.jsxDEV("div",{className:"position-fixed top-0 start-0 w-100 h-100",style:{background:"rgba(0,0,0,0.5)",zIndex:1070},onClick:e=>e.target===e.currentTarget&&D(),children:s.jsxDEV("div",{className:"card",style:{maxWidth:560,margin:"10vh auto"},children:[s.jsxDEV("div",{className:"card-header d-flex align-items-center justify-content-between",children:[s.jsxDEV("h6",{className:"mb-0",children:c.listing?`Message Admin about: ${c.listing.title}`:"Message Admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:617,columnNumber:17},this),s.jsxDEV("button",{className:"btn btn-sm btn-outline-secondary",onClick:D,children:"Close"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:623,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:616,columnNumber:15},this),s.jsxDEV("form",{onSubmit:te,children:[s.jsxDEV("div",{className:"card-body",children:[c.err&&s.jsxDEV("div",{className:"alert alert-danger py-2 mb-2",children:c.err},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:627,columnNumber:36},this),c.done&&s.jsxDEV("div",{className:"alert alert-success py-2 mb-2",children:"Sent"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:628,columnNumber:37},this),s.jsxDEV("div",{className:"mb-2",children:[s.jsxDEV("label",{className:"form-label",children:"Subject"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:630,columnNumber:21},this),s.jsxDEV("input",{className:"form-control",value:c.subject,onChange:e=>h(i=>({...i,subject:e.target.value}))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:631,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:629,columnNumber:19},this),s.jsxDEV("div",{className:"mb-2",children:[s.jsxDEV("label",{className:"form-label",children:"Message"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:634,columnNumber:21},this),s.jsxDEV("textarea",{className:"form-control",rows:6,value:c.content,onChange:e=>h(i=>({...i,content:e.target.value}))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:635,columnNumber:21},this),s.jsxDEV("div",{className:"text-secondary small mt-1",children:["Sent as ",t?.email||"you"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:636,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:633,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:626,columnNumber:17},this),s.jsxDEV("div",{className:"card-footer d-flex justify-content-end gap-2",children:[s.jsxDEV("button",{type:"button",className:"btn btn-outline-secondary",onClick:D,disabled:c.sending,children:"Cancel"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:640,columnNumber:19},this),s.jsxDEV("button",{type:"submit",className:"btn btn-primary",disabled:c.sending||!c.content.trim(),children:c.sending?"Sending…":"Send"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:641,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:639,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:625,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:615,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:614,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:438,columnNumber:7},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:437,columnNumber:5},this)}export{xe as default};
