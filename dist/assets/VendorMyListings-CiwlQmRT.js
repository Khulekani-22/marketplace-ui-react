import{j as s,b as ie}from"./index-AR0poqkx.js";import{b as ae,u as te,r as n,L as v}from"./vendor-CzT6oPac.js";import{u as ne,M as re}from"./MasterLayout-BhNb4Kj_.js";import{u as le}from"./useVendor-Cj84UOkK.js";import{u as ce}from"./useQuery-BCN1dOqQ.js";import{f as oe}from"./listings-Cf8--tou.js";import"./firebase-CoDMjCGl.js";import"./utils-B2rxisVD.js";import"./iconify-j-w8AIn4.js";function ue(r){const l=r.toString().toLowerCase();return l==="vendor"?"public":l}function me(r,l){const f=ue(r||"public"),c=(l||"").trim().toLowerCase();return c?`vendor_pending_listings:${f}:${c}`:null}function D(r){return String(r?.id||r?.serviceId||"")}function pe(r){try{const l=typeof r=="string"?JSON.parse(r):r;return Array.isArray(l)?l:[]}catch{return[]}}function $({s:r}){const l=(r||"unknown").toLowerCase(),f={approved:"success",pending:"warning",rejected:"danger",scheduled:"info",completed:"success",canceled:"secondary",unknown:"secondary"};return s.jsxDEV("span",{className:`badge text-bg-${f[l]||"secondary"}`,children:l},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:100,columnNumber:5},this)}function ve(){const r=ae(),l=te(),f=n.useRef(null),{vendor:c,ensureVendorId:de,loading:be}=le(),{refresh:R,syncMessagesToLive:F}=ne(),k=n.useMemo(()=>sessionStorage.getItem("tenantId")||"vendor",[]),[X,S]=n.useState(!1),[w,L]=n.useState(""),[t,p]=n.useState({open:!1,listing:null,subject:"",content:"",sending:!1,err:null,done:!1}),m=n.useMemo(()=>c||null,[c]),h=n.useMemo(()=>me(k,m?.vendorId||m?.email||m?.id||""),[k,m]),[N,A]=n.useState([]),x=l.state?.newListing,P=n.useCallback(e=>{if(A(e),!!h){if(!e.length){localStorage.removeItem(h);return}try{localStorage.setItem(h,JSON.stringify(e))}catch{}}},[h]);n.useEffect(()=>{if(!h){A([]);return}try{const e=pe(localStorage.getItem(h));A(e)}catch{A([])}},[h]),n.useEffect(()=>{if(!x)return;f.current=x;const e=String(x?.id||x?.serviceId||"");P([x,...N.filter(i=>String(i?.id||i?.serviceId||"")!==e)]),L(""),r({pathname:l.pathname,search:l.search},{replace:!0,state:{}})},[x,r,l.pathname,l.search,P,N]);const B=n.useCallback(e=>{const i=Array.isArray(e)?[...e]:[],a=new Set(i.map(D).filter(Boolean)),o=f.current;if(o){const u=D(o);u&&!a.has(u)?(i.unshift(o),a.add(u)):f.current=null}if(N.length){const u=[];N.forEach(M=>{const b=D(M);b&&(a.has(b)||(a.add(b),i.unshift(M),u.push(M)))}),u.length!==N.length&&P(u)}return i},[N,P]);n.useEffect(()=>{if(c&&!c.isApproved){const e=encodeURIComponent("/listings-vendors-mine");r(`/profile-vendor?next=${e}`,{replace:!0})}},[c,r]);const q=n.useMemo(()=>m&&(m.vendorId||m.email||m.id)||"",[m]),{data:I,isLoading:U,error:fe,refetch:C}=ce({queryKey:["vendorListings",q,k],queryFn:async({signal:e})=>{if(!m)return{listings:[],bookings:[]};const{listings:i,bookings:a}=await oe({signal:e}),o=Array.isArray(i)?i:[],u=Array.isArray(a)?a:[];return{listings:B(o),bookings:u}},enabled:!!m,staleTime:1e3*60*2,onError:e=>L(e?.message||"Failed to load listings")}),d=I?.listings||[],g=I?.bookings||[],V=U,z=n.useCallback(async()=>{L(""),S(!0),await C(),S(!1)},[C]),j=n.useMemo(()=>{const e={approved:0,pending:0,rejected:0};return d.forEach(i=>{const a=(i.status||"pending").toLowerCase();e[a]=(e[a]||0)+1}),e},[d]),K=n.useMemo(()=>{const e={};return g.forEach(i=>{const a=String(i.serviceId||"");a&&(e[a]=(e[a]||0)+1)}),e},[g]),O=n.useMemo(()=>{const e={};return d.forEach(i=>{[String(i.id||""),String(i.serviceId||""),String(i.vendorId||"")].filter(Boolean).forEach(o=>{e[o]=i})}),e},[d]);function T(e){const i=(e+11)%12+1,a=e>=12?"PM":"AM";return`${i}:00 ${a}`}function G(e){if(!e)return"";const[i]=e.split(":"),a=Number(i);return Number.isNaN(a)?e:`${T(a)} – ${T(a+1)}`}function E(e){if(e?.scheduledDate){const i=e.scheduledSlot||"00:00",a=`${e.scheduledDate}T${i.length===5?i:`${i}:00`}`,o=new Date(a);if(!Number.isNaN(o.getTime()))return o}if(e?.bookedAt){const i=new Date(e.bookedAt);if(!Number.isNaN(i.getTime()))return i}return null}const H=n.useMemo(()=>{const e=g.map(i=>({...i}));return e.sort((i,a)=>{const o=E(i)?.getTime()??0,u=E(a)?.getTime()??0;return o-u}),e},[g]);function J(e){return e?{date:e.toLocaleDateString(),time:e.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}:{date:"—",time:""}}function _(e){const i=encodeURIComponent(JSON.stringify({title:e.title,category:e.category,price:e.price,imageUrl:e.imageUrl,description:e.description,listingType:e.listingType||"service"}));r(`/listings-vendors?prefill=${i}`)}function Q(e){const i=`Feedback request: ${e.title}`,a=`Hello Admin

My listing "${e.title}" (ID: ${e.id}) was ${String(e.status||"rejected")}. Could you please share more details on what needs to be corrected so I can resubmit?

Thank you!`;p({open:!0,listing:e,subject:i,content:a,sending:!1,err:null,done:!1})}function W(){const e=`General inquiry from ${c?.name||c?.companyName||"vendor"}`;p({open:!0,listing:null,subject:e,content:`Hello Admin

I have a question/concern regarding my vendor account or listings.

[Please describe your question or concern here]

Thank you for your assistance!`,sending:!1,err:null,done:!1})}function y(){p({open:!1,listing:null,subject:"",content:"",sending:!1,err:null,done:!1})}async function Y(e){if(e?.preventDefault?.(),!!t.content.trim()){p(i=>({...i,sending:!0,err:null}));try{const i={listingId:t.listing?t.listing.id||"general":"general-admin-message",listingTitle:t.listing?t.listing.title||"General Feedback":"General Admin Message",vendorId:c?.vendorId||c?.id||"",vendorEmail:c?.email||c?.contactEmail||"",subject:t.subject,content:t.content};await ie.post("/api/messages",i),p(a=>({...a,sending:!1,done:!0}));try{await R({force:!0}),await F()}catch{}setTimeout(()=>y(),1200)}catch(i){p(a=>({...a,sending:!1,err:i?.response?.data?.message||i?.message||"Failed to send"}))}}}return s.jsxDEV(re,{children:s.jsxDEV("div",{className:"container py-4",children:[s.jsxDEV("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[s.jsxDEV("h1",{className:"h4 mb-0",children:"My listings"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:407,columnNumber:11},this),s.jsxDEV("div",{className:"d-flex gap-2",children:[s.jsxDEV("button",{type:"button",className:"btn btn-outline-secondary",onClick:z,disabled:V||X,children:X?"Refreshing…":"Refresh"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:409,columnNumber:13},this),s.jsxDEV("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>W(),title:"Contact admin about any questions or concerns",children:[s.jsxDEV("i",{className:"bi bi-envelope me-1"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:423,columnNumber:15},this),"Message Admin"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:417,columnNumber:13},this),s.jsxDEV(v,{to:"/listings-vendors",className:"btn btn-primary",children:"+ Submit new listing"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:426,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:408,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:406,columnNumber:9},this),s.jsxDEV("div",{className:"d-flex gap-2 flex-wrap mb-3",children:[s.jsxDEV("span",{className:"badge text-bg-success",children:["Approved: ",j.approved]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:433,columnNumber:11},this),s.jsxDEV("span",{className:"badge text-bg-warning",children:["Pending: ",j.pending]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:434,columnNumber:11},this),s.jsxDEV("span",{className:"badge text-bg-danger",children:["Rejected: ",j.rejected]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:435,columnNumber:11},this),s.jsxDEV("span",{className:"badge text-bg-secondary",children:["Total: ",d.length]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:436,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:432,columnNumber:9},this),s.jsxDEV("div",{className:"card",children:s.jsxDEV("div",{className:"card-body",children:[w&&s.jsxDEV("div",{className:"alert alert-danger",children:w},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:441,columnNumber:21},this),V&&s.jsxDEV("div",{className:"text-muted",children:"Loading…"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:442,columnNumber:25},this),!V&&!d.length&&s.jsxDEV("div",{className:"text-muted",children:["You haven’t submitted any listings yet."," ",s.jsxDEV(v,{to:"/listings-vendors",children:"Create your first one."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:447,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:445,columnNumber:15},this),!V&&!!d.length&&s.jsxDEV("div",{className:"table-responsive",children:s.jsxDEV("table",{className:"table align-middle",children:[s.jsxDEV("thead",{children:s.jsxDEV("tr",{children:[s.jsxDEV("th",{style:{width:72}},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:456,columnNumber:23},this),s.jsxDEV("th",{children:"Title"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:457,columnNumber:23},this),s.jsxDEV("th",{children:"Category"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:458,columnNumber:23},this),s.jsxDEV("th",{children:"Price"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:459,columnNumber:23},this),s.jsxDEV("th",{children:"Status"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:460,columnNumber:23},this),s.jsxDEV("th",{children:"Bookings"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:461,columnNumber:23},this),s.jsxDEV("th",{style:{width:220},children:"Actions"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:462,columnNumber:23},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:455,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:454,columnNumber:19},this),s.jsxDEV("tbody",{children:d.map((e,i)=>{const a=String(e.id||e.serviceId||e.vendorId||"");return s.jsxDEV("tr",{children:[s.jsxDEV("td",{children:s.jsxDEV("img",{src:e.imageUrl||"/assets/images/placeholder-4x3.png",alt:"",style:{width:64,height:40,objectFit:"cover",borderRadius:6}},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:471,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:470,columnNumber:25},this),s.jsxDEV("td",{className:"fw-semibold",children:e.title},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:477,columnNumber:25},this),s.jsxDEV("td",{children:e.category||"—"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:478,columnNumber:25},this),s.jsxDEV("td",{children:["R",Number(e.price||0).toLocaleString()]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:479,columnNumber:25},this),s.jsxDEV("td",{children:s.jsxDEV($,{s:e.status},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:480,columnNumber:29},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:480,columnNumber:25},this),s.jsxDEV("td",{children:K[a]||0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:481,columnNumber:25},this),s.jsxDEV("td",{className:"d-flex gap-2",children:[s.jsxDEV(v,{className:"btn btn-outline-secondary btn-sm",to:`/marketplace-details?id=${encodeURIComponent(e.id||"")}`,children:"View"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:484,columnNumber:27},this),s.jsxDEV("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>_(e),children:"Duplicate & edit"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:490,columnNumber:27},this),String(e.status||"").toLowerCase()==="rejected"&&s.jsxDEV("button",{className:"btn btn-sm btn-danger",onClick:()=>Q(e),title:"Ask admin why this was rejected",children:"Message Admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:497,columnNumber:29},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:482,columnNumber:25},this)]},a||i,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:469,columnNumber:23},this)})},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:465,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:453,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:452,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:440,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:439,columnNumber:9},this),s.jsxDEV("div",{className:"card mt-4",children:[s.jsxDEV("div",{className:"card-header d-flex justify-content-between align-items-center",children:[s.jsxDEV("h6",{className:"mb-0",children:"Bookings"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:518,columnNumber:13},this),s.jsxDEV("span",{className:"badge text-bg-secondary",children:["Total: ",g.length]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:519,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:517,columnNumber:11},this),s.jsxDEV("div",{className:"card-body",children:[!g.length&&s.jsxDEV("div",{className:"text-muted",children:"No bookings yet. Once customers reserve sessions, they will appear here."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:522,columnNumber:34},this),!!g.length&&s.jsxDEV("div",{className:"table-responsive",children:s.jsxDEV("table",{className:"table align-middle",children:[s.jsxDEV("thead",{children:s.jsxDEV("tr",{children:[s.jsxDEV("th",{children:"Service"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:528,columnNumber:23},this),s.jsxDEV("th",{children:"Customer"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:529,columnNumber:23},this),s.jsxDEV("th",{children:"Scheduled"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:530,columnNumber:23},this),s.jsxDEV("th",{children:"Status"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:531,columnNumber:23},this),s.jsxDEV("th",{className:"text-end",children:"Price"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:532,columnNumber:23},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:527,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:526,columnNumber:19},this),s.jsxDEV("tbody",{children:H.map((e,i)=>{const a=E(e),{date:o,time:u}=J(a),M=G(e.scheduledSlot),b=O[String(e.serviceId||"")],Z=e.serviceTitle||b?.title||"Unknown service",ee=Number(e.price||b?.price||0)||0,se=String(e.id||[e.serviceId,e.customerId,e.scheduledDate,e.scheduledSlot,e.bookedAt].filter(Boolean).join("-")||i);return s.jsxDEV("tr",{children:[s.jsxDEV("td",{children:s.jsxDEV("div",{className:"d-flex flex-column",children:[s.jsxDEV("span",{className:"fw-semibold",children:Z},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:554,columnNumber:31},this),b?.id&&s.jsxDEV(v,{className:"small",to:`/marketplace-details?id=${encodeURIComponent(b.id)}`,children:"Open listing"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:556,columnNumber:33},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:553,columnNumber:29},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:552,columnNumber:27},this),s.jsxDEV("td",{children:s.jsxDEV("div",{className:"small text-muted",children:e.customerName||e.customerEmail||"—"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:561,columnNumber:29},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:560,columnNumber:27},this),s.jsxDEV("td",{children:s.jsxDEV("div",{className:"d-flex flex-column small",children:[s.jsxDEV("span",{children:o},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:565,columnNumber:31},this),s.jsxDEV("span",{children:M||u},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:566,columnNumber:31},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:564,columnNumber:29},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:563,columnNumber:27},this),s.jsxDEV("td",{children:s.jsxDEV($,{s:e.status||"pending"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:569,columnNumber:31},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:569,columnNumber:27},this),s.jsxDEV("td",{className:"text-end",children:["R",ee.toLocaleString()]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:570,columnNumber:27},this)]},se,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:551,columnNumber:25},this)})},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:535,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:525,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:524,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:521,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:516,columnNumber:9},this),t.open&&s.jsxDEV("div",{className:"position-fixed top-0 start-0 w-100 h-100",style:{background:"rgba(0,0,0,0.5)",zIndex:1070},onClick:e=>e.target===e.currentTarget&&y(),children:s.jsxDEV("div",{className:"card",style:{maxWidth:560,margin:"10vh auto"},children:[s.jsxDEV("div",{className:"card-header d-flex align-items-center justify-content-between",children:[s.jsxDEV("h6",{className:"mb-0",children:t.listing?`Message Admin about: ${t.listing.title}`:"Message Admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:584,columnNumber:17},this),s.jsxDEV("button",{className:"btn btn-sm btn-outline-secondary",onClick:y,children:"Close"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:590,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:583,columnNumber:15},this),s.jsxDEV("form",{onSubmit:Y,children:[s.jsxDEV("div",{className:"card-body",children:[t.err&&s.jsxDEV("div",{className:"alert alert-danger py-2 mb-2",children:t.err},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:594,columnNumber:36},this),t.done&&s.jsxDEV("div",{className:"alert alert-success py-2 mb-2",children:"Sent"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:595,columnNumber:37},this),s.jsxDEV("div",{className:"mb-2",children:[s.jsxDEV("label",{className:"form-label",children:"Subject"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:597,columnNumber:21},this),s.jsxDEV("input",{className:"form-control",value:t.subject,onChange:e=>p(i=>({...i,subject:e.target.value}))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:598,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:596,columnNumber:19},this),s.jsxDEV("div",{className:"mb-2",children:[s.jsxDEV("label",{className:"form-label",children:"Message"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:601,columnNumber:21},this),s.jsxDEV("textarea",{className:"form-control",rows:6,value:t.content,onChange:e=>p(i=>({...i,content:e.target.value}))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:602,columnNumber:21},this),s.jsxDEV("div",{className:"text-secondary small mt-1",children:["Sent as ",c?.email||"you"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:603,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:600,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:593,columnNumber:17},this),s.jsxDEV("div",{className:"card-footer d-flex justify-content-end gap-2",children:[s.jsxDEV("button",{type:"button",className:"btn btn-outline-secondary",onClick:y,disabled:t.sending,children:"Cancel"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:607,columnNumber:19},this),s.jsxDEV("button",{type:"submit",className:"btn btn-primary",disabled:t.sending||!t.content.trim(),children:t.sending?"Sending…":"Send"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:608,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:606,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:592,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:582,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:581,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:405,columnNumber:7},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/VendorMyListings.tsx",lineNumber:404,columnNumber:5},this)}export{ve as default};
