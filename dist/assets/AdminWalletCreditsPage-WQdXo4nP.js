import{o as se,u as he,b as v,c as ee,B as C,j as e}from"./index-DF1eAVL0.js";import{u as Ne}from"./useQuery-DJYcBMee.js";import{g as xe,d as Ae,c as Pe}from"./firebase-Dn3N7aYH.js";import{I as n,M as ye}from"./MasterLayout-CrCwD5hs.js";import{B as ve}from"./Breadcrumb-CXTgEhWj.js";import{r as t,L as S}from"./vendor-5dkO6nAt.js";import{u as Ce,c as ke,M as d}from"./Modal-a1X1_VTD.js";import{u as Ee}from"./useWalletAxios-BI-sOdcm.js";import{W as De,a as We,A as Le,T as Me,f as Ve}from"./WalletNavigation-DjO1g1ej.js";import"./utils-B2rxisVD.js";import"./index-BO_iLF59.js";const je=["as","disabled"];function Xe(l,r){if(l==null)return{};var a={};for(var o in l)if({}.hasOwnProperty.call(l,o)){if(r.indexOf(o)>=0)continue;a[o]=l[o]}return a}function ge(l){return!l||l.trim()==="#"}function ae({tagName:l,disabled:r,href:a,target:o,rel:m,role:p,onClick:b,tabIndex:h=0,type:k}){l||(a!=null||o!=null||m!=null?l="a":l="button");const f={tagName:l};if(l==="button")return[{type:k||"button",disabled:r},f];const E=u=>{if((r||l==="a"&&ge(a))&&u.preventDefault(),r){u.stopPropagation();return}b?.(u)},N=u=>{u.key===" "&&(u.preventDefault(),E(u))};return l==="a"&&(a||(a="#"),r&&(a=void 0)),[{role:p??"button",disabled:void 0,tabIndex:r?void 0:h,href:a,target:l==="a"?o:void 0,"aria-disabled":r||void 0,rel:l==="a"?m:void 0,onClick:E,onKeyDown:N},f]}const we=t.forwardRef((l,r)=>{let{as:a,disabled:o}=l,m=Xe(l,je);const[p,{tagName:b}]=ae(Object.assign({tagName:a,disabled:o},m));return se.jsx(b,Object.assign({},m,p,{ref:r}))});we.displayName="Button";const X=t.forwardRef(({as:l,bsPrefix:r,variant:a="primary",size:o,active:m=!1,disabled:p=!1,className:b,...h},k)=>{const f=Ce(r,"btn"),[E,{tagName:N}]=ae({tagName:l,disabled:p,...h}),u=N;return se.jsx(u,{...E,...h,ref:k,disabled:p,className:ke(b,f,m&&"active",a&&`${f}-${a}`,o&&`${f}-${o}`,h.href&&p&&"disabled")})});X.displayName="Button";function Se(){const[l,r]=t.useState(!1),[a,o]=t.useState(null),[m,p]=t.useState(""),[b,h]=t.useState(!1),[k,f]=t.useState(""),[E,N]=t.useState(!1),[u,ie]=t.useState(null),[U,T]=t.useState(""),[I,R]=t.useState(!1),[z,$]=t.useState(""),[le,te]=t.useState([]),[F,H]=t.useState(!0),[D,re]=t.useState(""),[W,g]=t.useState(!1),[x,ne]=t.useState(""),[ce,G]=t.useState([]),[L,O]=t.useState(!1),[q,w]=t.useState(""),[M,K]=t.useState(""),Q=100,_=t.useRef(!1),{wallet:V,loading:oe,eligible:me,refresh:J,grantCredits:ue}=Ee(),{isAdmin:pe}=he(),B=t.useCallback(async(s=!0)=>{w(""),O(!0);try{const i={search:x,pageSize:Q};!s&&M&&(i.pageToken=M);const{data:P}=await v.get("/api/users/all",{params:i}),c=Array.isArray(P?.items)?P.items:[];G(y=>s?c:[...y,...c]),K(P?.nextPageToken||"")}catch(i){const P=i?.response?.status;if(P===401||P===403)try{await ee();const c={search:x,pageSize:Q};!s&&M&&(c.pageToken=M);const{data:y}=await v.get("/api/users/all",{params:c}),Z=Array.isArray(y?.items)?y.items:[];G(fe=>s?Z:[...fe,...Z]),K(y?.nextPageToken||""),w("");return}catch(c){w(c?.response?.data?.message||c?.message||"Failed to search platform users")}else w(i?.response?.data?.message||i?.message||"Failed to search platform users")}finally{O(!1)}},[x,M]),A=t.useCallback(async()=>{try{H(!0);const s=await v.get("/api/users"),P=(Array.isArray(s.data)?s.data:[]).map(c=>{const y=typeof c.walletBalance=="number"?c.walletBalance:typeof c.wallet?.balance=="number"?c.wallet.balance:0;return{...c,walletBalance:y,lastActivity:c.lastActivity||new Date().toISOString(),avatar:c.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(c.name||c.email)}&background=6366f1&color=fff`}});te(P)}catch(s){console.error("Error loading users:",s),C.error("Failed to load user data")}finally{H(!1)}},[]);t.useEffect(()=>{if(_.current)return;_.current=!0;let s=!0;return(async()=>{try{if(await ee(),!s||(await B(!0),!s))return;await A()}catch(i){console.error("Failed to auto-load users:",i)}})(),()=>{s=!1}},[B,A]);const de=async()=>{if(!W)try{g(!0),await v.post("/api/admin/wallet/normalize-appdata"),C.success("Successfully normalized app data"),await A()}catch(s){console.error("Error normalizing data:",s);const i=s.response?.data?.message||"Failed to normalize app data";C.error(i)}finally{g(!1)}},be=async()=>{if(!W)try{g(!0);const s=["mncubekhulekani@gmail.com","ruthmaphosa2024@gmail.com","zinhlesloane@gmail.com","khulekani@gecafrica.co","22onsloanedigitalteam@gmail.com","khulekani@22onsloane.co"],i=await v.post("/api/admin/wallet/sync-firebase-users",{promoteVendors:s,defaultRole:"member",defaultTenant:"vendor"});C.success(`Successfully synced ${i.data.synced} Firebase users`),await A()}catch(s){console.error("Error syncing Firebase users:",s);const i=s.response?.data?.message||"Failed to sync Firebase users";C.error(i)}finally{g(!1)}},Y=le.filter(s=>s.email.toLowerCase().includes(D.toLowerCase())||s.name?.toLowerCase().includes(D.toLowerCase())||s.role.toLowerCase().includes(D.toLowerCase())),j=ce.filter(s=>s.email?.toLowerCase().includes(x.toLowerCase())||s.displayName?.toLowerCase().includes(x.toLowerCase()));return e.jsxDEV("div",{className:"container-fluid",children:[e.jsxDEV("div",{className:"row mb-4",children:e.jsxDEV("div",{className:"col-12",children:e.jsxDEV("div",{className:"alert alert-info",children:e.jsxDEV("div",{className:"d-flex align-items-center",children:[e.jsxDEV(n,{icon:"mdi:information",className:"me-2 text-xl"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:214,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"Enhanced Integration Available:"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:216,columnNumber:17},this),e.jsxDEV("p",{className:"mb-1",children:["The main ",e.jsxDEV(S,{to:"/wallet",className:"alert-link",children:"Wallet interface"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:217,columnNumber:46},this)," now includes all admin functionality with improved user transaction tracking capabilities."]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:217,columnNumber:17},this),e.jsxDEV("small",{className:"text-muted",children:"This legacy interface remains available for compatibility, but we recommend using the unified wallet for better user experience."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:218,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:215,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:213,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:212,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:211,columnNumber:9},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:210,columnNumber:7},this),e.jsxDEV("div",{className:"row gy-4",children:[e.jsxDEV("div",{className:"col-12",children:e.jsxDEV(De,{},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:228,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:227,columnNumber:9},this),pe&&V&&e.jsxDEV("div",{className:"col-12",children:e.jsxDEV("div",{className:"row gy-4",children:[e.jsxDEV("div",{className:"col-12 col-lg-8",children:e.jsxDEV(We,{wallet:V,loading:oe,eligible:me,onRefresh:J,showActions:!0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:236,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:235,columnNumber:15},this),e.jsxDEV("div",{className:"col-12 col-lg-4",children:e.jsxDEV("div",{className:"card p-24 radius-12 h-100",children:[e.jsxDEV("h5",{className:"mb-3",children:[e.jsxDEV(n,{icon:"mdi:shield-crown",className:"text-xl text-primary-600 me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:247,columnNumber:21},this),"Admin Actions"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:246,columnNumber:19},this),e.jsxDEV("div",{className:"d-grid gap-2",children:[e.jsxDEV("button",{className:"btn btn-outline-primary btn-sm",onClick:de,disabled:W,children:W?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:258,columnNumber:27},this),"Normalizing..."]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:257,columnNumber:25},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(n,{icon:"mdi:database-sync",className:"me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:263,columnNumber:27},this),"Normalize Data"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:262,columnNumber:25},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:251,columnNumber:21},this),e.jsxDEV("button",{className:"btn btn-outline-secondary btn-sm",onClick:be,disabled:W,children:W?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:275,columnNumber:27},this),"Syncing..."]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:274,columnNumber:25},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(n,{icon:"mdi:account-sync",className:"me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:280,columnNumber:27},this),"Sync Firebase Users"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:279,columnNumber:25},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:268,columnNumber:21},this),e.jsxDEV(S,{to:"/wallet",className:"btn btn-outline-success btn-sm",children:[e.jsxDEV(n,{icon:"mdi:wallet",className:"me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:286,columnNumber:23},this),"Unified Wallet Interface"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:285,columnNumber:21},this),e.jsxDEV(S,{to:"/dashboard",className:"btn btn-outline-info btn-sm",children:[e.jsxDEV(n,{icon:"mdi:view-dashboard",className:"me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:290,columnNumber:23},this),"Dashboard"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:289,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:250,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:245,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:244,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:234,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:233,columnNumber:11},this),e.jsxDEV("div",{className:"col-12",children:e.jsxDEV(Le,{grantCredits:async s=>{const i=await ue(s.email||"",s.amount,s.description,{metadata:s.metadata||void 0,reference:s.reference});return{ok:i.success,error:i.error,wallet:i.wallet}},onRefresh:async()=>{await A(),await J()},compact:!1,showUserLookup:!0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:302,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:301,columnNumber:9},this),V?.transactions&&V.transactions.length>0&&e.jsxDEV("div",{className:"col-12",children:e.jsxDEV("div",{className:"card p-24 radius-12",children:[e.jsxDEV("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsxDEV("h5",{className:"mb-0",children:[e.jsxDEV(n,{icon:"mdi:history",className:"text-xl text-primary-600 me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:327,columnNumber:19},this),"My Recent Activity"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:326,columnNumber:17},this),e.jsxDEV(S,{to:"/wallet",className:"btn btn-outline-primary btn-sm",children:"View Full History"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:330,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:325,columnNumber:15},this),e.jsxDEV(Me,{transactions:V.transactions,compact:!0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:334,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:324,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:323,columnNumber:11},this),e.jsxDEV("div",{className:"col-12",children:e.jsxDEV("div",{className:"card p-24 radius-12",children:[e.jsxDEV("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsxDEV("h5",{className:"mb-0",children:[e.jsxDEV(n,{icon:"mdi:account-group",className:"text-xl text-primary-600 me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:347,columnNumber:17},this),"Platform Users"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:346,columnNumber:15},this),e.jsxDEV("div",{className:"d-flex gap-2",children:e.jsxDEV("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>B(!0),disabled:L,children:L?e.jsxDEV("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:357,columnNumber:21},this):e.jsxDEV(n,{icon:"mdi:refresh"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:359,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:351,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:350,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:345,columnNumber:13},this),e.jsxDEV("div",{className:"row mb-3",children:e.jsxDEV("div",{className:"col-12 col-md-6",children:e.jsxDEV("div",{className:"input-group",children:[e.jsxDEV("span",{className:"input-group-text",children:e.jsxDEV(n,{icon:"mdi:magnify"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:369,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:368,columnNumber:19},this),e.jsxDEV("input",{type:"text",className:"form-control",placeholder:"Search platform users...",value:x,onChange:s=>ne(s.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:371,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:367,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:366,columnNumber:15},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:365,columnNumber:13},this),q&&e.jsxDEV("div",{className:"alert alert-warning mb-3",children:[e.jsxDEV(n,{icon:"mdi:alert-circle",className:"me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:384,columnNumber:17},this),q]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:383,columnNumber:15},this),L&&e.jsxDEV("div",{className:"text-center py-4",children:[e.jsxDEV("div",{className:"spinner-border text-primary",role:"status",children:e.jsxDEV("span",{className:"visually-hidden",children:"Loading..."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:392,columnNumber:19},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:391,columnNumber:17},this),e.jsxDEV("p",{className:"text-secondary mt-2",children:"Searching platform users..."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:394,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:390,columnNumber:15},this),!L&&j.length>0&&e.jsxDEV("div",{className:"table-responsive",children:[e.jsxDEV("table",{className:"table table-hover",children:[e.jsxDEV("thead",{className:"table-light",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{children:"User"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:403,columnNumber:23},this),e.jsxDEV("th",{children:"Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:404,columnNumber:23},this),e.jsxDEV("th",{children:"Last Sign In"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:405,columnNumber:23},this),e.jsxDEV("th",{children:"Provider"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:406,columnNumber:23},this),e.jsxDEV("th",{children:"Actions"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:407,columnNumber:23},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:402,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:401,columnNumber:19},this),e.jsxDEV("tbody",{children:j.slice(0,20).map(s=>e.jsxDEV("tr",{children:[e.jsxDEV("td",{children:e.jsxDEV("div",{className:"d-flex align-items-center",children:[e.jsxDEV("img",{src:s.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(s.displayName||s.email)}&background=6366f1&color=fff`,alt:s.displayName||s.email,className:"rounded-circle me-2",width:"32",height:"32"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:415,columnNumber:29},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"fw-medium",children:s.displayName||"No Name"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:423,columnNumber:31},this),e.jsxDEV("div",{className:"text-xs text-secondary",children:s.uid},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:424,columnNumber:31},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:422,columnNumber:29},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:414,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:413,columnNumber:25},this),e.jsxDEV("td",{children:s.email},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:428,columnNumber:25},this),e.jsxDEV("td",{children:e.jsxDEV("span",{className:"text-sm",children:s.metadata?.lastSignInTime?new Date(s.metadata.lastSignInTime).toLocaleDateString():"Never"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:430,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:429,columnNumber:25},this),e.jsxDEV("td",{children:e.jsxDEV("span",{className:"badge bg-light text-dark",children:s.providerData?.[0]?.providerId||"Unknown"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:438,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:437,columnNumber:25},this),e.jsxDEV("td",{children:e.jsxDEV("div",{className:"btn-group btn-group-sm",children:[e.jsxDEV("button",{className:"btn btn-outline-primary",onClick:()=>{const i=document.querySelector('input[type="email"]');i&&(i.value=s.email,i.dispatchEvent(new Event("input",{bubbles:!0})))},title:"Grant credits to this user",children:e.jsxDEV(n,{icon:"mdi:wallet-plus"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:456,columnNumber:31},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:444,columnNumber:29},this),e.jsxDEV("button",{className:"btn btn-outline-success",onClick:()=>{o(s),r(!0)},title:"Apply voucher for this user",children:e.jsxDEV(n,{icon:"mdi:ticket-percent"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:466,columnNumber:31},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:458,columnNumber:29},this),e.jsxDEV("button",{className:"btn btn-outline-warning",onClick:()=>{ie(s),N(!0)},title:"Apply sponsorship for this user",children:e.jsxDEV(n,{icon:"mdi:account-group"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:476,columnNumber:31},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:468,columnNumber:29},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:443,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:442,columnNumber:25},this)]},s.uid,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:412,columnNumber:23},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:410,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:400,columnNumber:17},this),j.length>20&&e.jsxDEV("div",{className:"text-center pt-3",children:e.jsxDEV("small",{className:"text-secondary",children:["Showing 20 of ",j.length," users. Use search to narrow results."]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:487,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:486,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:399,columnNumber:15},this),!L&&j.length===0&&x&&e.jsxDEV("div",{className:"text-center py-4",children:[e.jsxDEV(n,{icon:"mdi:account-search",className:"text-4xl text-secondary-light mb-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:497,columnNumber:17},this),e.jsxDEV("p",{className:"text-secondary",children:['No users found matching "',x,'"']},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:498,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:496,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:344,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:343,columnNumber:9},this),e.jsxDEV("div",{className:"col-12",children:e.jsxDEV("div",{className:"card p-24 radius-12",children:[e.jsxDEV("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsxDEV("h5",{className:"mb-0",children:[e.jsxDEV(n,{icon:"mdi:account-group",className:"text-xl text-primary-600 me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:509,columnNumber:17},this),"Local Users & Wallets"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:508,columnNumber:15},this),e.jsxDEV("button",{className:"btn btn-outline-secondary btn-sm",onClick:A,disabled:F,children:F?e.jsxDEV("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:518,columnNumber:19},this):e.jsxDEV(n,{icon:"mdi:refresh"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:520,columnNumber:19},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:512,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:507,columnNumber:13},this),e.jsxDEV("div",{className:"row mb-3",children:e.jsxDEV("div",{className:"col-12 col-md-6",children:e.jsxDEV("div",{className:"input-group",children:[e.jsxDEV("span",{className:"input-group-text",children:e.jsxDEV(n,{icon:"mdi:magnify"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:529,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:528,columnNumber:19},this),e.jsxDEV("input",{type:"text",className:"form-control",placeholder:"Search users...",value:D,onChange:s=>re(s.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:531,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:527,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:526,columnNumber:15},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:525,columnNumber:13},this),F?e.jsxDEV("div",{className:"text-center py-4",children:[e.jsxDEV("div",{className:"spinner-border text-primary",role:"status",children:e.jsxDEV("span",{className:"visually-hidden",children:"Loading..."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:545,columnNumber:19},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:544,columnNumber:17},this),e.jsxDEV("p",{className:"text-secondary mt-2",children:"Loading users..."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:547,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:543,columnNumber:15},this):Y.length>0?e.jsxDEV("div",{className:"table-responsive",children:e.jsxDEV("table",{className:"table table-hover",children:[e.jsxDEV("thead",{className:"table-light",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{children:"User"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:554,columnNumber:23},this),e.jsxDEV("th",{children:"Role"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:555,columnNumber:23},this),e.jsxDEV("th",{children:"Tenant"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:556,columnNumber:23},this),e.jsxDEV("th",{children:"Wallet Balance"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:557,columnNumber:23},this),e.jsxDEV("th",{children:"Last Activity"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:558,columnNumber:23},this),e.jsxDEV("th",{children:"Actions"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:559,columnNumber:23},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:553,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:552,columnNumber:19},this),e.jsxDEV("tbody",{children:Y.map(s=>e.jsxDEV("tr",{children:[e.jsxDEV("td",{children:e.jsxDEV("div",{className:"d-flex align-items-center",children:[e.jsxDEV("img",{src:s.avatar,alt:s.name,className:"rounded-circle me-2",width:"32",height:"32"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:567,columnNumber:29},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"fw-medium",children:s.name},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:575,columnNumber:31},this),e.jsxDEV("div",{className:"text-xs text-secondary",children:s.email},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:576,columnNumber:31},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:574,columnNumber:29},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:566,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:565,columnNumber:25},this),e.jsxDEV("td",{children:e.jsxDEV("span",{className:`badge ${s.role==="admin"?"bg-danger":s.role==="vendor"?"bg-warning":"bg-secondary"}`,children:s.role},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:581,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:580,columnNumber:25},this),e.jsxDEV("td",{children:s.tenantId},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:585,columnNumber:25},this),e.jsxDEV("td",{children:e.jsxDEV("span",{className:"fw-medium",children:["R ",Ve(s.walletBalance)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:587,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:586,columnNumber:25},this),e.jsxDEV("td",{children:e.jsxDEV("span",{className:"text-sm",children:new Date(s.lastActivity).toLocaleDateString()},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:590,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:589,columnNumber:25},this),e.jsxDEV("td",{children:e.jsxDEV("div",{className:"btn-group btn-group-sm",children:e.jsxDEV("button",{className:"btn btn-outline-primary",onClick:()=>{const i=document.querySelector('input[type="email"]');i&&(i.value=s.email,i.dispatchEvent(new Event("input",{bubbles:!0})))},title:"Grant credits to this user",children:e.jsxDEV(n,{icon:"mdi:wallet-plus"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:608,columnNumber:31},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:596,columnNumber:29},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:595,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:594,columnNumber:25},this)]},s.uid,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:564,columnNumber:23},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:562,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:551,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:550,columnNumber:15},this):e.jsxDEV("div",{className:"text-center py-4",children:[e.jsxDEV(n,{icon:"mdi:account-search",className:"text-4xl text-secondary-light mb-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:619,columnNumber:17},this),e.jsxDEV("p",{className:"text-secondary",children:D?`No users found matching "${D}"`:"No users found"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:620,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:618,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:506,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:505,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:225,columnNumber:7},this),e.jsxDEV(d,{show:l,onHide:()=>r(!1),children:[e.jsxDEV(d.Header,{closeButton:!0,children:e.jsxDEV(d.Title,{children:["Apply Voucher for ",a?a.name||a.email:"User"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:631,columnNumber:9},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:630,columnNumber:7},this),e.jsxDEV(d.Body,{children:[e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"form-label",children:"Voucher Code"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:635,columnNumber:11},this),e.jsxDEV("input",{type:"text",className:"form-control",value:m,onChange:s=>p(s.target.value),placeholder:"Enter voucher code"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:636,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:634,columnNumber:9},this),k&&e.jsxDEV("div",{className:"alert alert-danger py-2",children:k},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:644,columnNumber:26},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:633,columnNumber:7},this),e.jsxDEV(d.Footer,{children:[e.jsxDEV(X,{variant:"secondary",onClick:()=>r(!1),children:"Cancel"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:647,columnNumber:9},this),e.jsxDEV(X,{variant:"success",disabled:b||!m,onClick:async()=>{h(!0),f("");try{await v.post("/api/admin/apply-voucher",{userId:a?.uid,voucherCode:m}),C.success("Voucher applied successfully"),r(!1),p(""),await A()}catch(s){f(s?.response?.data?.message||s?.message||"Failed to apply voucher")}finally{h(!1)}},children:b?"Applying...":"Apply Voucher"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:648,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:646,columnNumber:7},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:629,columnNumber:5},this),e.jsxDEV(d,{show:E,onHide:()=>N(!1),children:[e.jsxDEV(d.Header,{closeButton:!0,children:e.jsxDEV(d.Title,{children:["Apply Sponsorship for ",u?u.name||u.email:"User"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:678,columnNumber:9},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:677,columnNumber:7},this),e.jsxDEV(d.Body,{children:[e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"form-label",children:"Sponsorship Group"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:682,columnNumber:11},this),e.jsxDEV("input",{type:"text",className:"form-control",value:U,onChange:s=>T(s.target.value),placeholder:"Enter sponsorship group name"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:683,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:681,columnNumber:9},this),z&&e.jsxDEV("div",{className:"alert alert-danger py-2",children:z},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:691,columnNumber:26},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:680,columnNumber:7},this),e.jsxDEV(d.Footer,{children:[e.jsxDEV(X,{variant:"secondary",onClick:()=>N(!1),children:"Cancel"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:694,columnNumber:9},this),e.jsxDEV(X,{variant:"warning",disabled:I||!U,onClick:async()=>{R(!0),$("");try{await v.post("/api/admin/apply-sponsorship",{userId:u?.uid,group:U}),C.success("Sponsorship applied successfully"),N(!1),T(""),await A()}catch(s){$(s?.response?.data?.message||s?.message||"Failed to apply sponsorship")}finally{R(!1)}},children:I?"Applying...":"Apply Sponsorship"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:695,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:693,columnNumber:7},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:676,columnNumber:5},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:208,columnNumber:5},this)}const qe=()=>{const{data:l=[],isLoading:r}=Ne({queryKey:["adminWalletCredits"],queryFn:async()=>{const a=xe();return(await Ae(Pe(a,"adminWalletCredits"))).docs.map(m=>({id:m.id,...m.data()}))},staleTime:6e4});return e.jsxDEV(ye,{children:[e.jsxDEV(ve,{title:"Wallet Credits Management"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:22,columnNumber:7},void 0),e.jsxDEV(Se,{},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:23,columnNumber:7},void 0),e.jsxDEV("div",{className:"container py-4",children:[e.jsxDEV("h2",{className:"h5 mb-3",children:"Wallet Credits"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:25,columnNumber:9},void 0),r?e.jsxDEV("div",{children:"Loading wallet credits…"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:27,columnNumber:11},void 0):e.jsxDEV("div",{className:"table-responsive",children:e.jsxDEV("table",{className:"table align-middle",children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{children:"ID"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:33,columnNumber:19},void 0),e.jsxDEV("th",{children:"User"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:34,columnNumber:19},void 0),e.jsxDEV("th",{children:"Amount"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:35,columnNumber:19},void 0),e.jsxDEV("th",{children:"Date"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:36,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:32,columnNumber:17},void 0)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:31,columnNumber:15},void 0),e.jsxDEV("tbody",{children:l.map(a=>e.jsxDEV("tr",{children:[e.jsxDEV("td",{children:a.id},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:42,columnNumber:21},void 0),e.jsxDEV("td",{children:a.user||a.email||"—"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:43,columnNumber:21},void 0),e.jsxDEV("td",{children:a.amount},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:44,columnNumber:21},void 0),e.jsxDEV("td",{children:a.date||"—"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:45,columnNumber:21},void 0)]},a.id,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:41,columnNumber:19},void 0))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:39,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:30,columnNumber:13},void 0)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:29,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:24,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:21,columnNumber:5},void 0)};export{qe as default};
