const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-DNGstY5L.js","assets/MasterLayout-BVEjpXnC.js","assets/iconify-BmV4o_YB.js","assets/ThemeToggleButton-DJ1aWpop.js","assets/Breadcrumb-DFWMpTDh.js","assets/appData-DzAG2zN5.js","assets/useReactApexChart-DiMtPo1f.js","assets/index-Chjiymov.js","assets/HomePageOne-BIrbrOoe.js","assets/TopCountries-Cx8w5kll.js","assets/world-Bs62lq1e.js","assets/HomePageTwo-Qd0TmoXm.js","assets/ClientPaymentOne-Bp7hyBsO.js","assets/HomePageThree-mjZTi8ln.js","assets/HomePageFour-DLvf9ydp.js","assets/index-DNsV5Xgf.js","assets/index-LvzHWtTh.js","assets/HomePageFive-BL40gdeG.js","assets/TotalTransactionsOne-Bx_eDUAy.js","assets/HomePageSix-BVAwASO7.js","assets/HomePageEight-BwXZYYJp.js","assets/HomePageNine-B_EYceqG.js","assets/HomePageTen-DsFueRIG.js","assets/HomePageEleven-NMcKpAp7.js","assets/EmailPage-C2pkJ7Yr.js","assets/AddUserPage-Dlm9lJzT.js","assets/AlertPage-CqEno678.js","assets/AssignRolePage-CiDr2e-D.js","assets/AvatarPage-Dn8TMFhO.js","assets/BadgesPage-CZ0XuT5D.js","assets/ButtonPage-BQ9OcmFE.js","assets/CalendarMainPage-D3Z8CuGO.js","assets/CalendarMainPage-CksuuEqD.css","assets/CardPage-DnFdj0jd.js","assets/CarouselPage-BPiH8HsV.js","assets/ChatMessagePage-A5JQzrL7.js","assets/ChatProfilePage-CcSB9ul8.js","assets/CodeGeneratorNewPage-CfE5bQ28.js","assets/CodeGeneratorPage-CxkjVLFO.js","assets/ColorsPage-DOjPVSAy.js","assets/ColumnChartPage-BTS66L7d.js","assets/CompanyPage-D5OYMi-i.js","assets/CurrenciesPage-CAx07d4R.js","assets/DropdownPage-CGvAKdEC.js","assets/ErrorPage-CpA59V_y.js","assets/FaqPage-C_9DQp5p.js","assets/ForgotPasswordPage-BVkR7v8t.js","assets/FormLayoutPage-DK55g6B1.js","assets/FormValidationPage-BXxiPkbn.js","assets/FormPage-Di5iyVg8.js","assets/GalleryPage-DMEfv22D.js","assets/ImageGeneratorPage-BRT7XbBu.js","assets/ImageUploadPage-BidOfD-5.js","assets/InvoiceAddPage-CQ0iKrqs.js","assets/InvoiceEditPage-DGmJl9eo.js","assets/InvoiceListPage-BLjpv3Qt.js","assets/InvoicePreviewPage-C1nV9AuX.js","assets/KanbanPage-OOrBD77F.js","assets/removeClass-CSaueqem.js","assets/LanguagePage-C2YPc_LE.js","assets/LineChartPage-B_6GPLF_.js","assets/ListPage-Bje0LAql.js","assets/MarketplaceDetailsPage-BVayBjqX.js","assets/MarketplacePage-B7dQsl-u.js","assets/NotificationAlertPage-CatHXbex.js","assets/NotificationPage-CJINaV-p.js","assets/PaginationPage-DzFddEpZ.js","assets/PaymentGatewayPage-BKthmpWJ.js","assets/PieChartPage-DO-62u4W.js","assets/PortfolioPage-Cst7i4Im.js","assets/PricingPage-CXXxgBbR.js","assets/ProgressPage-DEhi9rdm.js","assets/RadioPage-B9hnRfaN.js","assets/RoleAccessPage-Dw7vdqqF.js","assets/SignInPage-C7FGURa5.js","assets/SignUpPage-B0A5KOZ4.js","assets/StarRatingPage-Dl9lGNFz.js","assets/StarredPage-BvuY_33w.js","assets/SwitchPage-CHxxXO0n.js","assets/TableBasicPage-Ca4Sxxon.js","assets/TableDataPage-CGvxNwHE.js","assets/TabsPage-DI8VIefk.js","assets/TagsPage-DIkSxxEO.js","assets/TermsConditionPage-ConaZkxS.js","assets/TermsConditionPage-BfC0goYb.css","assets/TextGeneratorNewPage-CPQ6a7dZ.js","assets/TextGeneratorPage-DSSqLT0O.js","assets/ThemePage-C59LPnND.js","assets/TooltipPage-Bl8P4755.js","assets/TypographyPage-DCqvkXIi.js","assets/UsersGridPage-DB6xUewn.js","assets/UsersListPage-BbPg2ukq.js","assets/ViewDetailsPage-C1SWIEeb.js","assets/VideoGeneratorPage-ClO4oUwG.js","assets/VideosPage-7uCOONAF.js","assets/ViewProfilePage-HSOZhI0v.js","assets/VoiceGeneratorPage-HICXJxxW.js","assets/WalletPage-C9Wu-ZYm.js","assets/WidgetsPage-B2_MiTX8.js","assets/WizardPage-CvJAx_1B.js","assets/AuditLogsPage-CJf3_pno.js","assets/LmsPage-zLTBcxzz.js","assets/ListingsAdminPage-yUUvU90Y.js","assets/SideNavAdmin-CwL1RRy1.js","assets/VendorAddListingPage-DpoeIrG9.js","assets/VendorMyListings-DV68ddWj.js","assets/VendorProfilePage-FnifNxJg.js","assets/VendorsAdminPage-h7RODMY9.js"])))=>i.map(i=>d[i]);
function Z0(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var SD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function AD(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),t}var vp={exports:{}},oc={},Ep={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function eI(){if(z_)return tt;z_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.iterator;function R($){return $===null||typeof $!="object"?null:($=S&&$[S]||$["@@iterator"],typeof $=="function"?$:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,K={};function N($,se,Ne){this.props=$,this.context=se,this.refs=K,this.updater=Ne||B}N.prototype.isReactComponent={},N.prototype.setState=function($,se){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,se,"setState")},N.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function G(){}G.prototype=N.prototype;function J($,se,Ne){this.props=$,this.context=se,this.refs=K,this.updater=Ne||B}var oe=J.prototype=new G;oe.constructor=J,F(oe,N.prototype),oe.isPureReactComponent=!0;var ne=Array.isArray,ke=Object.prototype.hasOwnProperty,je={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function k($,se,Ne){var ze,Qe={},We=null,at=null;if(se!=null)for(ze in se.ref!==void 0&&(at=se.ref),se.key!==void 0&&(We=""+se.key),se)ke.call(se,ze)&&!V.hasOwnProperty(ze)&&(Qe[ze]=se[ze]);var _e=arguments.length-2;if(_e===1)Qe.children=Ne;else if(1<_e){for(var mt=Array(_e),Gt=0;Gt<_e;Gt++)mt[Gt]=arguments[Gt+2];Qe.children=mt}if($&&$.defaultProps)for(ze in _e=$.defaultProps,_e)Qe[ze]===void 0&&(Qe[ze]=_e[ze]);return{$$typeof:n,type:$,key:We,ref:at,props:Qe,_owner:je.current}}function x($,se){return{$$typeof:n,type:$.type,key:se,ref:$.ref,props:$.props,_owner:$._owner}}function D($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function U($){var se={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Ne){return se[Ne]})}var q=/\/+/g;function O($,se){return typeof $=="object"&&$!==null&&$.key!=null?U(""+$.key):se.toString(36)}function Lt($,se,Ne,ze,Qe){var We=typeof $;(We==="undefined"||We==="boolean")&&($=null);var at=!1;if($===null)at=!0;else switch(We){case"string":case"number":at=!0;break;case"object":switch($.$$typeof){case n:case e:at=!0}}if(at)return at=$,Qe=Qe(at),$=ze===""?"."+O(at,0):ze,ne(Qe)?(Ne="",$!=null&&(Ne=$.replace(q,"$&/")+"/"),Lt(Qe,se,Ne,"",function(Gt){return Gt})):Qe!=null&&(D(Qe)&&(Qe=x(Qe,Ne+(!Qe.key||at&&at.key===Qe.key?"":(""+Qe.key).replace(q,"$&/")+"/")+$)),se.push(Qe)),1;if(at=0,ze=ze===""?".":ze+":",ne($))for(var _e=0;_e<$.length;_e++){We=$[_e];var mt=ze+O(We,_e);at+=Lt(We,se,Ne,mt,Qe)}else if(mt=R($),typeof mt=="function")for($=mt.call($),_e=0;!(We=$.next()).done;)We=We.value,mt=ze+O(We,_e++),at+=Lt(We,se,Ne,mt,Qe);else if(We==="object")throw se=String($),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return at}function ln($,se,Ne){if($==null)return $;var ze=[],Qe=0;return Lt($,ze,"","",function(We){return se.call(Ne,We,Qe++)}),ze}function un($){if($._status===-1){var se=$._result;se=se(),se.then(function(Ne){($._status===0||$._status===-1)&&($._status=1,$._result=Ne)},function(Ne){($._status===0||$._status===-1)&&($._status=2,$._result=Ne)}),$._status===-1&&($._status=0,$._result=se)}if($._status===1)return $._result.default;throw $._result}var dt={current:null},ve={transition:null},Le={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:ve,ReactCurrentOwner:je};function H(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:ln,forEach:function($,se,Ne){ln($,function(){se.apply(this,arguments)},Ne)},count:function($){var se=0;return ln($,function(){se++}),se},toArray:function($){return ln($,function(se){return se})||[]},only:function($){if(!D($))throw Error("React.Children.only expected to receive a single React element child.");return $}},tt.Component=N,tt.Fragment=t,tt.Profiler=o,tt.PureComponent=J,tt.StrictMode=i,tt.Suspense=m,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Le,tt.act=H,tt.cloneElement=function($,se,Ne){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var ze=F({},$.props),Qe=$.key,We=$.ref,at=$._owner;if(se!=null){if(se.ref!==void 0&&(We=se.ref,at=je.current),se.key!==void 0&&(Qe=""+se.key),$.type&&$.type.defaultProps)var _e=$.type.defaultProps;for(mt in se)ke.call(se,mt)&&!V.hasOwnProperty(mt)&&(ze[mt]=se[mt]===void 0&&_e!==void 0?_e[mt]:se[mt])}var mt=arguments.length-2;if(mt===1)ze.children=Ne;else if(1<mt){_e=Array(mt);for(var Gt=0;Gt<mt;Gt++)_e[Gt]=arguments[Gt+2];ze.children=_e}return{$$typeof:n,type:$.type,key:Qe,ref:We,props:ze,_owner:at}},tt.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:l,_context:$},$.Consumer=$},tt.createElement=k,tt.createFactory=function($){var se=k.bind(null,$);return se.type=$,se},tt.createRef=function(){return{current:null}},tt.forwardRef=function($){return{$$typeof:f,render:$}},tt.isValidElement=D,tt.lazy=function($){return{$$typeof:w,_payload:{_status:-1,_result:$},_init:un}},tt.memo=function($,se){return{$$typeof:y,type:$,compare:se===void 0?null:se}},tt.startTransition=function($){var se=ve.transition;ve.transition={};try{$()}finally{ve.transition=se}},tt.unstable_act=H,tt.useCallback=function($,se){return dt.current.useCallback($,se)},tt.useContext=function($){return dt.current.useContext($)},tt.useDebugValue=function(){},tt.useDeferredValue=function($){return dt.current.useDeferredValue($)},tt.useEffect=function($,se){return dt.current.useEffect($,se)},tt.useId=function(){return dt.current.useId()},tt.useImperativeHandle=function($,se,Ne){return dt.current.useImperativeHandle($,se,Ne)},tt.useInsertionEffect=function($,se){return dt.current.useInsertionEffect($,se)},tt.useLayoutEffect=function($,se){return dt.current.useLayoutEffect($,se)},tt.useMemo=function($,se){return dt.current.useMemo($,se)},tt.useReducer=function($,se,Ne){return dt.current.useReducer($,se,Ne)},tt.useRef=function($){return dt.current.useRef($)},tt.useState=function($){return dt.current.useState($)},tt.useSyncExternalStore=function($,se,Ne){return dt.current.useSyncExternalStore($,se,Ne)},tt.useTransition=function(){return dt.current.useTransition()},tt.version="18.3.1",tt}var B_;function Sm(){return B_||(B_=1,Ep.exports=eI()),Ep.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function tI(){if($_)return oc;$_=1;var n=Sm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,m,y){var w,S={},R=null,B=null;y!==void 0&&(R=""+y),m.key!==void 0&&(R=""+m.key),m.ref!==void 0&&(B=m.ref);for(w in m)i.call(m,w)&&!l.hasOwnProperty(w)&&(S[w]=m[w]);if(f&&f.defaultProps)for(w in m=f.defaultProps,m)S[w]===void 0&&(S[w]=m[w]);return{$$typeof:e,type:f,key:R,ref:B,props:S,_owner:o.current}}return oc.Fragment=t,oc.jsx=c,oc.jsxs=c,oc}var q_;function nI(){return q_||(q_=1,vp.exports=tI()),vp.exports}var C=nI(),le=Sm();const de=Zv(le),rI=Z0({__proto__:null,default:de},[le]);var Kh={},wp={exports:{}},Nr={},Tp={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function iI(){return H_||(H_=1,function(n){function e(ve,Le){var H=ve.length;ve.push(Le);e:for(;0<H;){var $=H-1>>>1,se=ve[$];if(0<o(se,Le))ve[$]=Le,ve[H]=se,H=$;else break e}}function t(ve){return ve.length===0?null:ve[0]}function i(ve){if(ve.length===0)return null;var Le=ve[0],H=ve.pop();if(H!==Le){ve[0]=H;e:for(var $=0,se=ve.length,Ne=se>>>1;$<Ne;){var ze=2*($+1)-1,Qe=ve[ze],We=ze+1,at=ve[We];if(0>o(Qe,H))We<se&&0>o(at,Qe)?(ve[$]=at,ve[We]=H,$=We):(ve[$]=Qe,ve[ze]=H,$=ze);else if(We<se&&0>o(at,H))ve[$]=at,ve[We]=H,$=We;else break e}}return Le}function o(ve,Le){var H=ve.sortIndex-Le.sortIndex;return H!==0?H:ve.id-Le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],y=[],w=1,S=null,R=3,B=!1,F=!1,K=!1,N=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function oe(ve){for(var Le=t(y);Le!==null;){if(Le.callback===null)i(y);else if(Le.startTime<=ve)i(y),Le.sortIndex=Le.expirationTime,e(m,Le);else break;Le=t(y)}}function ne(ve){if(K=!1,oe(ve),!F)if(t(m)!==null)F=!0,un(ke);else{var Le=t(y);Le!==null&&dt(ne,Le.startTime-ve)}}function ke(ve,Le){F=!1,K&&(K=!1,G(k),k=-1),B=!0;var H=R;try{for(oe(Le),S=t(m);S!==null&&(!(S.expirationTime>Le)||ve&&!U());){var $=S.callback;if(typeof $=="function"){S.callback=null,R=S.priorityLevel;var se=$(S.expirationTime<=Le);Le=n.unstable_now(),typeof se=="function"?S.callback=se:S===t(m)&&i(m),oe(Le)}else i(m);S=t(m)}if(S!==null)var Ne=!0;else{var ze=t(y);ze!==null&&dt(ne,ze.startTime-Le),Ne=!1}return Ne}finally{S=null,R=H,B=!1}}var je=!1,V=null,k=-1,x=5,D=-1;function U(){return!(n.unstable_now()-D<x)}function q(){if(V!==null){var ve=n.unstable_now();D=ve;var Le=!0;try{Le=V(!0,ve)}finally{Le?O():(je=!1,V=null)}}else je=!1}var O;if(typeof J=="function")O=function(){J(q)};else if(typeof MessageChannel<"u"){var Lt=new MessageChannel,ln=Lt.port2;Lt.port1.onmessage=q,O=function(){ln.postMessage(null)}}else O=function(){N(q,0)};function un(ve){V=ve,je||(je=!0,O())}function dt(ve,Le){k=N(function(){ve(n.unstable_now())},Le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ve){ve.callback=null},n.unstable_continueExecution=function(){F||B||(F=!0,un(ke))},n.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ve?Math.floor(1e3/ve):5},n.unstable_getCurrentPriorityLevel=function(){return R},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(ve){switch(R){case 1:case 2:case 3:var Le=3;break;default:Le=R}var H=R;R=Le;try{return ve()}finally{R=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ve,Le){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var H=R;R=ve;try{return Le()}finally{R=H}},n.unstable_scheduleCallback=function(ve,Le,H){var $=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?$+H:$):H=$,ve){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=H+se,ve={id:w++,callback:Le,priorityLevel:ve,startTime:H,expirationTime:se,sortIndex:-1},H>$?(ve.sortIndex=H,e(y,ve),t(m)===null&&ve===t(y)&&(K?(G(k),k=-1):K=!0,dt(ne,H-$))):(ve.sortIndex=se,e(m,ve),F||B||(F=!0,un(ke))),ve},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(ve){var Le=R;return function(){var H=R;R=Le;try{return ve.apply(this,arguments)}finally{R=H}}}}(Ip)),Ip}var W_;function sI(){return W_||(W_=1,Tp.exports=iI()),Tp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function oI(){if(K_)return Nr;K_=1;var n=Sm(),e=sI();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},S={};function R(r){return m.call(S,r)?!0:m.call(w,r)?!1:y.test(r)?S[r]=!0:(w[r]=!0,!1)}function B(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function F(r,s,a,h){if(s===null||typeof s>"u"||B(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function K(r,s,a,h,p,_,I){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=_,this.removeEmptyString=I}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new K(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];N[s]=new K(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new K(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new K(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new K(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new K(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new K(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new K(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new K(r,5,!1,r.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function J(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(G,J);N[s]=new K(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(G,J);N[s]=new K(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(G,J);N[s]=new K(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new K(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new K(r,1,!1,r.toLowerCase(),null,!0,!0)});function oe(r,s,a,h){var p=N.hasOwnProperty(s)?N[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(F(s,a,p,h)&&(a=null),h||p===null?R(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):p.mustUseProperty?r[p.propertyName]=a===null?p.type===3?!1:"":a:(s=p.attributeName,h=p.attributeNamespace,a===null?r.removeAttribute(s):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ke=Symbol.for("react.element"),je=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),U=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),ln=Symbol.for("react.memo"),un=Symbol.for("react.lazy"),dt=Symbol.for("react.offscreen"),ve=Symbol.iterator;function Le(r){return r===null||typeof r!="object"?null:(r=ve&&r[ve]||r["@@iterator"],typeof r=="function"?r:null)}var H=Object.assign,$;function se(r){if($===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);$=s&&s[1]||""}return`
`+$+r}var Ne=!1;function ze(r,s){if(!r||Ne)return"";Ne=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Y){var h=Y}Reflect.construct(r,[],s)}else{try{s.call()}catch(Y){h=Y}r.call(s.prototype)}else{try{throw Error()}catch(Y){h=Y}r()}}catch(Y){if(Y&&h&&typeof Y.stack=="string"){for(var p=Y.stack.split(`
`),_=h.stack.split(`
`),I=p.length-1,b=_.length-1;1<=I&&0<=b&&p[I]!==_[b];)b--;for(;1<=I&&0<=b;I--,b--)if(p[I]!==_[b]){if(I!==1||b!==1)do if(I--,b--,0>b||p[I]!==_[b]){var L=`
`+p[I].replace(" at new "," at ");return r.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",r.displayName)),L}while(1<=I&&0<=b);break}}}finally{Ne=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?se(r):""}function Qe(r){switch(r.tag){case 5:return se(r.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return r=ze(r.type,!1),r;case 11:return r=ze(r.type.render,!1),r;case 1:return r=ze(r.type,!0),r;default:return""}}function We(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case V:return"Fragment";case je:return"Portal";case x:return"Profiler";case k:return"StrictMode";case O:return"Suspense";case Lt:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case U:return(r.displayName||"Context")+".Consumer";case D:return(r._context.displayName||"Context")+".Provider";case q:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ln:return s=r.displayName||null,s!==null?s:We(r.type)||"Memo";case un:s=r._payload,r=r._init;try{return We(r(s))}catch{}}return null}function at(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return We(s);case 8:return s===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function _e(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function mt(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Gt(r){var s=mt(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,_=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(I){h=""+I,_.call(this,I)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Si(r){r._valueTracker||(r._valueTracker=Gt(r))}function yo(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=mt(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function yr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Zi(r,s){var a=s.checked;return H({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Zr(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=_e(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ei(r,s){s=s.checked,s!=null&&oe(r,"checked",s,!1)}function _a(r,s){ei(r,s);var a=_e(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?vo(r,s.type,a):s.hasOwnProperty("defaultValue")&&vo(r,s.type,_e(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function yl(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function vo(r,s,a){(s!=="number"||yr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Ai=Array.isArray;function Pi(r,s,a,h){if(r=r.options,s){s={};for(var p=0;p<a.length;p++)s["$"+a[p]]=!0;for(a=0;a<r.length;a++)p=s.hasOwnProperty("$"+r[a].value),r[a].selected!==p&&(r[a].selected=p),p&&h&&(r[a].defaultSelected=!0)}else{for(a=""+_e(a),s=null,p=0;p<r.length;p++){if(r[p].value===a){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function ya(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return H({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Eo(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Ai(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:_e(a)}}function Ci(r,s){var a=_e(s.value),h=_e(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function vr(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function $t(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ot(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?$t(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var $n,ti=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,p){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for($n=$n||document.createElement("div"),$n.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=$n.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Vr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ri=["Webkit","ms","Moz","O"];Object.keys(Os).forEach(function(r){Ri.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Os[s]=Os[r]})});function va(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Os.hasOwnProperty(r)&&Os[r]?(""+s).trim():s+"px"}function Ea(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,p=va(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,p):r[a]=p}}var wa=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ta(r,s){if(s){if(wa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ia(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ds=null;function Ls(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ki=null,ar=null,Mr=null;function wo(r){if(r=eo(r)){if(typeof ki!="function")throw Error(t(280));var s=r.stateNode;s&&(s=fi(s),ki(r.stateNode,r.type,s))}}function ni(r){ar?Mr?Mr.push(r):Mr=[r]:ar=r}function Sa(){if(ar){var r=ar,s=Mr;if(Mr=ar=null,wo(r),s)for(r=0;r<s.length;r++)wo(s[r])}}function Vs(r,s){return r(s)}function ri(){}var lr=!1;function Aa(r,s,a){if(lr)return r(s,a);lr=!0;try{return Vs(r,s,a)}finally{lr=!1,(ar!==null||Mr!==null)&&(ri(),Sa())}}function Vt(r,s){var a=r.stateNode;if(a===null)return null;var h=fi(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var To=!1;if(f)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){To=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{To=!1}function Ms(r,s,a,h,p,_,I,b,L){var Y=Array.prototype.slice.call(arguments,3);try{s.apply(a,Y)}catch(he){this.onError(he)}}var bi=!1,Fr=null,qn=!1,Pa=null,Ca={onError:function(r){bi=!0,Fr=r}};function Io(r,s,a,h,p,_,I,b,L){bi=!1,Fr=null,Ms.apply(Ca,arguments)}function vl(r,s,a,h,p,_,I,b,L){if(Io.apply(this,arguments),bi){if(bi){var Y=Fr;bi=!1,Fr=null}else throw Error(t(198));qn||(qn=!0,Pa=Y)}}function gn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Mt(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Dt(r){if(gn(r)!==r)throw Error(t(188))}function _n(r){var s=r.alternate;if(!s){if(s=gn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var p=a.return;if(p===null)break;var _=p.alternate;if(_===null){if(h=p.return,h!==null){a=h;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===a)return Dt(p),r;if(_===h)return Dt(p),s;_=_.sibling}throw Error(t(188))}if(a.return!==h.return)a=p,h=_;else{for(var I=!1,b=p.child;b;){if(b===a){I=!0,a=p,h=_;break}if(b===h){I=!0,h=p,a=_;break}b=b.sibling}if(!I){for(b=_.child;b;){if(b===a){I=!0,a=_,h=p;break}if(b===h){I=!0,h=_,a=p;break}b=b.sibling}if(!I)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function Qt(r){return r=_n(r),r!==null?xi(r):null}function xi(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=xi(r);if(s!==null)return s;r=r.sibling}return null}var Ur=e.unstable_scheduleCallback,zr=e.unstable_cancelCallback,Ni=e.unstable_shouldYield,El=e.unstable_requestPaint,Et=e.unstable_now,Oi=e.unstable_getCurrentPriorityLevel,es=e.unstable_ImmediatePriority,ii=e.unstable_UserBlockingPriority,Hn=e.unstable_NormalPriority,So=e.unstable_LowPriority,Ra=e.unstable_IdlePriority,ts=null,Wn=null;function ka(r){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(ts,r,void 0,(r.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:xa,Ao=Math.log,ba=Math.LN2;function xa(r){return r>>>=0,r===0?32:31-(Ao(r)/ba|0)|0}var js=64,Nn=4194304;function qt(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ur(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,p=r.suspendedLanes,_=r.pingedLanes,I=a&268435455;if(I!==0){var b=I&~p;b!==0?h=qt(b):(_&=I,_!==0&&(h=qt(_)))}else I=a&~p,I!==0?h=qt(I):_!==0&&(h=qt(_));if(h===0)return 0;if(s!==0&&s!==h&&(s&p)===0&&(p=h&-h,_=s&-s,p>=_||p===16&&(_&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-yn(s),p=1<<a,h|=r[a],s&=~p;return h}function Kn(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Br(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,_=r.pendingLanes;0<_;){var I=31-yn(_),b=1<<I,L=p[I];L===-1?((b&a)===0||(b&h)!==0)&&(p[I]=Kn(b,s)):L<=s&&(r.expiredLanes|=b),_&=~b}}function On(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function vn(){var r=js;return js<<=1,(js&4194240)===0&&(js=64),r}function Gn(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function $r(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-yn(s),r[s]=a}function lt(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var p=31-yn(a),_=1<<p;s[p]=0,h[p]=-1,r[p]=-1,a&=~_}}function si(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-yn(a),p=1<<h;p&s|r[h]&s&&(r[h]|=s),a&=~p}}var Ze=0;function cr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Po,Fs,Er,wl,qr,ns=!1,Hr=[],jt=null,hr=null,Dn=null,Di=new Map,dr=new Map,Wr=[],rs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tl(r,s){switch(r){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Di.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(s.pointerId)}}function Ln(r,s,a,h,p,_){return r===null||r.nativeEvent!==_?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:_,targetContainers:[p]},s!==null&&(s=eo(s),s!==null&&Fs(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Na(r,s,a,h,p){switch(s){case"focusin":return jt=Ln(jt,r,s,a,h,p),!0;case"dragenter":return hr=Ln(hr,r,s,a,h,p),!0;case"mouseover":return Dn=Ln(Dn,r,s,a,h,p),!0;case"pointerover":var _=p.pointerId;return Di.set(_,Ln(Di.get(_)||null,r,s,a,h,p)),!0;case"gotpointercapture":return _=p.pointerId,dr.set(_,Ln(dr.get(_)||null,r,s,a,h,p)),!0}return!1}function Us(r){var s=fs(r.target);if(s!==null){var a=gn(s);if(a!==null){if(s=a.tag,s===13){if(s=Mt(a),s!==null){r.blockedOn=s,qr(r.priority,function(){Er(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Kr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=$s(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Ds=h,a.target.dispatchEvent(h),Ds=null}else return s=eo(a),s!==null&&Fs(s),r.blockedOn=a,!1;s.shift()}return!0}function zs(r,s,a){Kr(r)&&a.delete(s)}function Bs(){ns=!1,jt!==null&&Kr(jt)&&(jt=null),hr!==null&&Kr(hr)&&(hr=null),Dn!==null&&Kr(Dn)&&(Dn=null),Di.forEach(zs),dr.forEach(zs)}function Gr(r,s){r.blockedOn===s&&(r.blockedOn=null,ns||(ns=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bs)))}function wr(r){function s(p){return Gr(p,r)}if(0<Hr.length){Gr(Hr[0],r);for(var a=1;a<Hr.length;a++){var h=Hr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(jt!==null&&Gr(jt,r),hr!==null&&Gr(hr,r),Dn!==null&&Gr(Dn,r),Di.forEach(s),dr.forEach(s),a=0;a<Wr.length;a++)h=Wr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)Us(a),a.blockedOn===null&&Wr.shift()}var Qr=ne.ReactCurrentBatchConfig,oi=!0;function Pt(r,s,a,h){var p=Ze,_=Qr.transition;Qr.transition=null;try{Ze=1,Li(r,s,a,h)}finally{Ze=p,Qr.transition=_}}function Il(r,s,a,h){var p=Ze,_=Qr.transition;Qr.transition=null;try{Ze=4,Li(r,s,a,h)}finally{Ze=p,Qr.transition=_}}function Li(r,s,a,h){if(oi){var p=$s(r,s,a,h);if(p===null)Uu(r,s,h,Vi,a),Tl(r,h);else if(Na(p,r,s,a,h))h.stopPropagation();else if(Tl(r,h),s&4&&-1<rs.indexOf(r)){for(;p!==null;){var _=eo(p);if(_!==null&&Po(_),_=$s(r,s,a,h),_===null&&Uu(r,s,h,Vi,a),_===p)break;p=_}p!==null&&h.stopPropagation()}else Uu(r,s,h,null,a)}}var Vi=null;function $s(r,s,a,h){if(Vi=null,r=Ls(h),r=fs(r),r!==null)if(s=gn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Mt(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Vi=r,null}function Co(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oi()){case es:return 1;case ii:return 4;case Hn:case So:return 16;case Ra:return 536870912;default:return 16}default:return 16}}var nn=null,Ro=null,Vn=null;function ko(){if(Vn)return Vn;var r,s=Ro,a=s.length,h,p="value"in nn?nn.value:nn.textContent,_=p.length;for(r=0;r<a&&s[r]===p[r];r++);var I=a-r;for(h=1;h<=I&&s[a-h]===p[_-h];h++);return Vn=p.slice(r,1<h?1-h:void 0)}function qs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Xr(){return!0}function bo(){return!1}function Xt(r){function s(a,h,p,_,I){this._reactName=a,this._targetInst=p,this.type=h,this.nativeEvent=_,this.target=I,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(a=r[b],this[b]=a?a(_):_[b]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Xr:bo,this.isPropagationStopped=bo,this}return H(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xr)},persist:function(){},isPersistent:Xr}),s}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xo=Xt(Tr),ai=H({},Tr,{view:0,detail:0}),Sl=Xt(ai),Hs,Ir,is,Ws=H({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wn,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==is&&(is&&r.type==="mousemove"?(Hs=r.screenX-is.screenX,Ir=r.screenY-is.screenY):Ir=Hs=0,is=r),Hs)},movementY:function(r){return"movementY"in r?r.movementY:Ir}}),ss=Xt(Ws),No=H({},Ws,{dataTransfer:0}),Oa=Xt(No),Sr=H({},ai,{relatedTarget:0}),os=Xt(Sr),Al=H({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),li=Xt(Al),Pl=H({},Tr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Cl=Xt(Pl),Rl=H({},Tr,{data:0}),Da=Xt(Rl),Ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mi(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=kl[r])?!!s[r]:!1}function wn(){return Mi}var u=H({},ai,{key:function(r){if(r.key){var s=Ks[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=qs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?En[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wn,charCode:function(r){return r.type==="keypress"?qs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?qs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=Xt(u),E=H({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=Xt(E),W=H({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wn}),ee=Xt(W),ye=H({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gt=Xt(ye),Jt=H({},Ws,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=Xt(Jt),wt=[9,13,27,32],Ft=f&&"CompositionEvent"in window,fr=null;f&&"documentMode"in document&&(fr=document.documentMode);var Qn=f&&"TextEvent"in window&&!fr,Gs=f&&(!Ft||fr&&8<fr&&11>=fr),Oo=" ",xu=!1;function La(r,s){switch(r){case"keyup":return wt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xc(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Do=!1;function Jc(r,s){switch(r){case"compositionend":return Xc(s);case"keypress":return s.which!==32?null:(xu=!0,Oo);case"textInput":return r=s.data,r===Oo&&xu?null:r;default:return null}}function Ef(r,s){if(Do)return r==="compositionend"||!Ft&&La(r,s)?(r=ko(),Vn=Ro=nn=null,Do=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gs&&s.locale!=="ko"?null:s.data;default:return null}}var wf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nu(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!wf[r.type]:s==="textarea"}function Ou(r,s,a,h){ni(h),s=hi(s,"onChange"),0<s.length&&(a=new xo("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var Lo=null,as=null;function Yc(r){Ma(r,0)}function Vo(r){var s=to(r);if(yo(s))return r}function Ar(r,s){if(r==="change")return s}var Zc=!1;if(f){var Du;if(f){var bl="oninput"in document;if(!bl){var Lu=document.createElement("div");Lu.setAttribute("oninput","return;"),bl=typeof Lu.oninput=="function"}Du=bl}else Du=!1;Zc=Du&&(!document.documentMode||9<document.documentMode)}function eh(){Lo&&(Lo.detachEvent("onpropertychange",th),as=Lo=null)}function th(r){if(r.propertyName==="value"&&Vo(as)){var s=[];Ou(s,as,r,Ls(r)),Aa(Yc,s)}}function Tf(r,s,a){r==="focusin"?(eh(),Lo=s,as=a,Lo.attachEvent("onpropertychange",th)):r==="focusout"&&eh()}function If(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Vo(as)}function Sf(r,s){if(r==="click")return Vo(s)}function Af(r,s){if(r==="input"||r==="change")return Vo(s)}function nh(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Pr=typeof Object.is=="function"?Object.is:nh;function Qs(r,s){if(Pr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var p=a[h];if(!m.call(s,p)||!Pr(r[p],s[p]))return!1}return!0}function rh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ih(r,s){var a=rh(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=rh(a)}}function ls(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?ls(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function ui(){for(var r=window,s=yr();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=yr(r.document)}return s}function xl(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function Pf(r){var s=ui(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&ls(a.ownerDocument.documentElement,a)){if(h!==null&&xl(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=a.textContent.length,_=Math.min(h.start,p);h=h.end===void 0?_:Math.min(h.end,p),!r.extend&&_>h&&(p=h,h=_,_=p),p=ih(a,_);var I=ih(a,h);p&&I&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==I.node||r.focusOffset!==I.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),_>h?(r.addRange(s),r.extend(I.node,I.offset)):(s.setEnd(I.node,I.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var sh=f&&"documentMode"in document&&11>=document.documentMode,Xs=null,Nl=null,Mo=null,Vu=!1;function oh(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vu||Xs==null||Xs!==yr(h)||(h=Xs,"selectionStart"in h&&xl(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Mo&&Qs(Mo,h)||(Mo=h,h=hi(Nl,"onSelect"),0<h.length&&(s=new xo("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=Xs)))}function Ol(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Js={animationend:Ol("Animation","AnimationEnd"),animationiteration:Ol("Animation","AnimationIteration"),animationstart:Ol("Animation","AnimationStart"),transitionend:Ol("Transition","TransitionEnd")},Dl={},ah={};f&&(ah=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function Ll(r){if(Dl[r])return Dl[r];if(!Js[r])return r;var s=Js[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in ah)return Dl[r]=s[a];return r}var lh=Ll("animationend"),uh=Ll("animationiteration"),ch=Ll("animationstart"),ci=Ll("transitionend"),Mu=new Map,hh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(r,s){Mu.set(r,s),l(s,[r])}for(var ju=0;ju<hh.length;ju++){var Fu=hh[ju],Cf=Fu.toLowerCase(),Rf=Fu[0].toUpperCase()+Fu.slice(1);us(Cf,"on"+Rf)}us(lh,"onAnimationEnd"),us(uh,"onAnimationIteration"),us(ch,"onAnimationStart"),us("dblclick","onDoubleClick"),us("focusin","onFocus"),us("focusout","onBlur"),us(ci,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Va));function Vl(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,vl(h,s,void 0,r),r.currentTarget=null}function Ma(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],p=h.event;h=h.listeners;e:{var _=void 0;if(s)for(var I=h.length-1;0<=I;I--){var b=h[I],L=b.instance,Y=b.currentTarget;if(b=b.listener,L!==_&&p.isPropagationStopped())break e;Vl(p,b,Y),_=L}else for(I=0;I<h.length;I++){if(b=h[I],L=b.instance,Y=b.currentTarget,b=b.listener,L!==_&&p.isPropagationStopped())break e;Vl(p,b,Y),_=L}}}if(qn)throw r=Pa,qn=!1,Pa=null,r}function Ct(r,s){var a=s[qu];a===void 0&&(a=s[qu]=new Set);var h=r+"__bubble";a.has(h)||(dh(s,r,2,!1),a.add(h))}function Ml(r,s,a){var h=0;s&&(h|=4),dh(a,r,h,s)}var cs="_reactListening"+Math.random().toString(36).slice(2);function Ys(r){if(!r[cs]){r[cs]=!0,i.forEach(function(a){a!=="selectionchange"&&(kf.has(a)||Ml(a,!1,r),Ml(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[cs]||(s[cs]=!0,Ml("selectionchange",!1,s))}}function dh(r,s,a,h){switch(Co(s)){case 1:var p=Pt;break;case 4:p=Il;break;default:p=Li}a=p.bind(null,s,a,r),p=void 0,!To||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(s,a,{capture:!0,passive:p}):r.addEventListener(s,a,!0):p!==void 0?r.addEventListener(s,a,{passive:p}):r.addEventListener(s,a,!1)}function Uu(r,s,a,h,p){var _=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var b=h.stateNode.containerInfo;if(b===p||b.nodeType===8&&b.parentNode===p)break;if(I===4)for(I=h.return;I!==null;){var L=I.tag;if((L===3||L===4)&&(L=I.stateNode.containerInfo,L===p||L.nodeType===8&&L.parentNode===p))return;I=I.return}for(;b!==null;){if(I=fs(b),I===null)return;if(L=I.tag,L===5||L===6){h=_=I;continue e}b=b.parentNode}}h=h.return}Aa(function(){var Y=_,he=Ls(a),fe=[];e:{var ue=Mu.get(r);if(ue!==void 0){var Te=xo,Re=r;switch(r){case"keypress":if(qs(a)===0)break e;case"keydown":case"keyup":Te=g;break;case"focusin":Re="focus",Te=os;break;case"focusout":Re="blur",Te=os;break;case"beforeblur":case"afterblur":Te=os;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=ss;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Oa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=ee;break;case lh:case uh:case ch:Te=li;break;case ci:Te=gt;break;case"scroll":Te=Sl;break;case"wheel":Te=nt;break;case"copy":case"cut":case"paste":Te=Cl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=P}var xe=(s&4)!==0,Zt=!xe&&r==="scroll",Q=xe?ue!==null?ue+"Capture":null:ue;xe=[];for(var j=Y,X;j!==null;){X=j;var ge=X.stateNode;if(X.tag===5&&ge!==null&&(X=ge,Q!==null&&(ge=Vt(j,Q),ge!=null&&xe.push(ja(j,ge,X)))),Zt)break;j=j.return}0<xe.length&&(ue=new Te(ue,Re,null,a,he),fe.push({event:ue,listeners:xe}))}}if((s&7)===0){e:{if(ue=r==="mouseover"||r==="pointerover",Te=r==="mouseout"||r==="pointerout",ue&&a!==Ds&&(Re=a.relatedTarget||a.fromElement)&&(fs(Re)||Re[ji]))break e;if((Te||ue)&&(ue=he.window===he?he:(ue=he.ownerDocument)?ue.defaultView||ue.parentWindow:window,Te?(Re=a.relatedTarget||a.toElement,Te=Y,Re=Re?fs(Re):null,Re!==null&&(Zt=gn(Re),Re!==Zt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Te=null,Re=Y),Te!==Re)){if(xe=ss,ge="onMouseLeave",Q="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(xe=P,ge="onPointerLeave",Q="onPointerEnter",j="pointer"),Zt=Te==null?ue:to(Te),X=Re==null?ue:to(Re),ue=new xe(ge,j+"leave",Te,a,he),ue.target=Zt,ue.relatedTarget=X,ge=null,fs(he)===Y&&(xe=new xe(Q,j+"enter",Re,a,he),xe.target=X,xe.relatedTarget=Zt,ge=xe),Zt=ge,Te&&Re)t:{for(xe=Te,Q=Re,j=0,X=xe;X;X=jo(X))j++;for(X=0,ge=Q;ge;ge=jo(ge))X++;for(;0<j-X;)xe=jo(xe),j--;for(;0<X-j;)Q=jo(Q),X--;for(;j--;){if(xe===Q||Q!==null&&xe===Q.alternate)break t;xe=jo(xe),Q=jo(Q)}xe=null}else xe=null;Te!==null&&fh(fe,ue,Te,xe,!1),Re!==null&&Zt!==null&&fh(fe,Zt,Re,xe,!0)}}e:{if(ue=Y?to(Y):window,Te=ue.nodeName&&ue.nodeName.toLowerCase(),Te==="select"||Te==="input"&&ue.type==="file")var Oe=Ar;else if(Nu(ue))if(Zc)Oe=Af;else{Oe=If;var Fe=Tf}else(Te=ue.nodeName)&&Te.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Oe=Sf);if(Oe&&(Oe=Oe(r,Y))){Ou(fe,Oe,a,he);break e}Fe&&Fe(r,ue,Y),r==="focusout"&&(Fe=ue._wrapperState)&&Fe.controlled&&ue.type==="number"&&vo(ue,"number",ue.value)}switch(Fe=Y?to(Y):window,r){case"focusin":(Nu(Fe)||Fe.contentEditable==="true")&&(Xs=Fe,Nl=Y,Mo=null);break;case"focusout":Mo=Nl=Xs=null;break;case"mousedown":Vu=!0;break;case"contextmenu":case"mouseup":case"dragend":Vu=!1,oh(fe,a,he);break;case"selectionchange":if(sh)break;case"keydown":case"keyup":oh(fe,a,he)}var Ue;if(Ft)e:{switch(r){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Do?La(r,a)&&(He="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(He="onCompositionStart");He&&(Gs&&a.locale!=="ko"&&(Do||He!=="onCompositionStart"?He==="onCompositionEnd"&&Do&&(Ue=ko()):(nn=he,Ro="value"in nn?nn.value:nn.textContent,Do=!0)),Fe=hi(Y,He),0<Fe.length&&(He=new Da(He,r,null,a,he),fe.push({event:He,listeners:Fe}),Ue?He.data=Ue:(Ue=Xc(a),Ue!==null&&(He.data=Ue)))),(Ue=Qn?Jc(r,a):Ef(r,a))&&(Y=hi(Y,"onBeforeInput"),0<Y.length&&(he=new Da("onBeforeInput","beforeinput",null,a,he),fe.push({event:he,listeners:Y}),he.data=Ue))}Ma(fe,s)})}function ja(r,s,a){return{instance:r,listener:s,currentTarget:a}}function hi(r,s){for(var a=s+"Capture",h=[];r!==null;){var p=r,_=p.stateNode;p.tag===5&&_!==null&&(p=_,_=Vt(r,a),_!=null&&h.unshift(ja(r,_,p)),_=Vt(r,s),_!=null&&h.push(ja(r,_,p))),r=r.return}return h}function jo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function fh(r,s,a,h,p){for(var _=s._reactName,I=[];a!==null&&a!==h;){var b=a,L=b.alternate,Y=b.stateNode;if(L!==null&&L===h)break;b.tag===5&&Y!==null&&(b=Y,p?(L=Vt(a,_),L!=null&&I.unshift(ja(a,L,b))):p||(L=Vt(a,_),L!=null&&I.push(ja(a,L,b)))),a=a.return}I.length!==0&&r.push({event:s,listeners:I})}var jl=/\r\n?/g,zu=/\u0000|\uFFFD/g;function ph(r){return(typeof r=="string"?r:""+r).replace(jl,`
`).replace(zu,"")}function Fa(r,s,a){if(s=ph(s),ph(r)!==s&&a)throw Error(t(425))}function Fl(){}var hs=null,Ua=null;function Ul(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Bu=typeof setTimeout=="function"?setTimeout:void 0,bf=typeof clearTimeout=="function"?clearTimeout:void 0,mh=typeof Promise=="function"?Promise:void 0,za=typeof queueMicrotask=="function"?queueMicrotask:typeof mh<"u"?function(r){return mh.resolve(null).then(r).catch(Zs)}:Bu;function Zs(r){setTimeout(function(){throw r})}function $u(r,s){var a=s,h=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(h===0){r.removeChild(p),wr(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=p}while(a);wr(s)}function ds(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function gh(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),di="__reactFiber$"+Fo,Ba="__reactProps$"+Fo,ji="__reactContainer$"+Fo,qu="__reactEvents$"+Fo,_h="__reactListeners$"+Fo,xf="__reactHandles$"+Fo;function fs(r){var s=r[di];if(s)return s;for(var a=r.parentNode;a;){if(s=a[ji]||a[di]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=gh(r);r!==null;){if(a=r[di])return a;r=gh(r)}return s}r=a,a=r.parentNode}return null}function eo(r){return r=r[di]||r[ji],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function to(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function fi(r){return r[Ba]||null}var zl=[],ps=-1;function Fi(r){return{current:r}}function St(r){0>ps||(r.current=zl[ps],zl[ps]=null,ps--)}function At(r,s){ps++,zl[ps]=r.current,r.current=s}var pi={},Tn=Fi(pi),Ht=Fi(!1),Xn=pi;function Uo(r,s){var a=r.type.contextTypes;if(!a)return pi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},_;for(_ in a)p[_]=s[_];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function Jn(r){return r=r.childContextTypes,r!=null}function Bl(){St(Ht),St(Tn)}function yh(r,s,a){if(Tn.current!==pi)throw Error(t(168));At(Tn,s),At(Ht,a)}function vh(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,at(r)||"Unknown",p));return H({},a,h)}function $l(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||pi,Xn=Tn.current,At(Tn,r),At(Ht,Ht.current),!0}function Eh(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=vh(r,s,Xn),h.__reactInternalMemoizedMergedChildContext=r,St(Ht),St(Tn),At(Tn,r)):St(Ht),At(Ht,a)}var Ui=null,$a=!1,zo=!1;function qa(r){Ui===null?Ui=[r]:Ui.push(r)}function Nf(r){$a=!0,qa(r)}function ms(){if(!zo&&Ui!==null){zo=!0;var r=0,s=Ze;try{var a=Ui;for(Ze=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Ui=null,$a=!1}catch(p){throw Ui!==null&&(Ui=Ui.slice(r+1)),Ur(es,ms),p}finally{Ze=s,zo=!1}}return null}var mi=[],T=0,d=null,v=0,A=[],M=0,z=null,Z=1,re="";function me(r,s){mi[T++]=v,mi[T++]=d,d=r,v=s}function Ie(r,s,a){A[M++]=Z,A[M++]=re,A[M++]=z,z=r;var h=Z;r=re;var p=32-yn(h)-1;h&=~(1<<p),a+=1;var _=32-yn(s)+p;if(30<_){var I=p-p%5;_=(h&(1<<I)-1).toString(32),h>>=I,p-=I,Z=1<<32-yn(s)+p|a<<p|h,re=_+r}else Z=1<<_|a<<p|h,re=r}function Se(r){r.return!==null&&(me(r,1),Ie(r,1,0))}function Ee(r){for(;r===d;)d=mi[--T],mi[T]=null,v=mi[--T],mi[T]=null;for(;r===z;)z=A[--M],A[M]=null,re=A[--M],A[M]=null,Z=A[--M],A[M]=null}var Ve=null,be=null,Ae=!1,De=null;function qe(r,s){var a=vi(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function _t(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Ve=r,be=ds(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Ve=r,be=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=z!==null?{id:Z,overflow:re}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=vi(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Ve=r,be=null,!0):!1;default:return!1}}function Tt(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Je(r){if(Ae){var s=be;if(s){var a=s;if(!_t(r,s)){if(Tt(r))throw Error(t(418));s=ds(a.nextSibling);var h=Ve;s&&_t(r,s)?qe(h,a):(r.flags=r.flags&-4097|2,Ae=!1,Ve=r)}}else{if(Tt(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ae=!1,Ve=r}}}function ut(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Ve=r}function Ke(r){if(r!==Ve)return!1;if(!Ae)return ut(r),Ae=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Ul(r.type,r.memoizedProps)),s&&(s=be)){if(Tt(r))throw et(),Error(t(418));for(;s;)qe(r,s),s=ds(s.nextSibling)}if(ut(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){be=ds(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}be=null}}else be=Ve?ds(r.stateNode.nextSibling):null;return!0}function et(){for(var r=be;r;)r=ds(r.nextSibling)}function rt(){be=Ve=null,Ae=!1}function ft(r){De===null?De=[r]:De.push(r)}var yt=ne.ReactCurrentBatchConfig;function Rt(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var p=h,_=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===_?s.ref:(s=function(I){var b=p.refs;I===null?delete b[_]:b[_]=I},s._stringRef=_,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function In(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Cr(r){var s=r._init;return s(r._payload)}function Sn(r){function s(Q,j){if(r){var X=Q.deletions;X===null?(Q.deletions=[j],Q.flags|=16):X.push(j)}}function a(Q,j){if(!r)return null;for(;j!==null;)s(Q,j),j=j.sibling;return null}function h(Q,j){for(Q=new Map;j!==null;)j.key!==null?Q.set(j.key,j):Q.set(j.index,j),j=j.sibling;return Q}function p(Q,j){return Q=Go(Q,j),Q.index=0,Q.sibling=null,Q}function _(Q,j,X){return Q.index=X,r?(X=Q.alternate,X!==null?(X=X.index,X<j?(Q.flags|=2,j):X):(Q.flags|=2,j)):(Q.flags|=1048576,j)}function I(Q){return r&&Q.alternate===null&&(Q.flags|=2),Q}function b(Q,j,X,ge){return j===null||j.tag!==6?(j=fp(X,Q.mode,ge),j.return=Q,j):(j=p(j,X),j.return=Q,j)}function L(Q,j,X,ge){var Oe=X.type;return Oe===V?he(Q,j,X.props.children,ge,X.key):j!==null&&(j.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===un&&Cr(Oe)===j.type)?(ge=p(j,X.props),ge.ref=Rt(Q,j,X),ge.return=Q,ge):(ge=Fh(X.type,X.key,X.props,null,Q.mode,ge),ge.ref=Rt(Q,j,X),ge.return=Q,ge)}function Y(Q,j,X,ge){return j===null||j.tag!==4||j.stateNode.containerInfo!==X.containerInfo||j.stateNode.implementation!==X.implementation?(j=pp(X,Q.mode,ge),j.return=Q,j):(j=p(j,X.children||[]),j.return=Q,j)}function he(Q,j,X,ge,Oe){return j===null||j.tag!==7?(j=tl(X,Q.mode,ge,Oe),j.return=Q,j):(j=p(j,X),j.return=Q,j)}function fe(Q,j,X){if(typeof j=="string"&&j!==""||typeof j=="number")return j=fp(""+j,Q.mode,X),j.return=Q,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ke:return X=Fh(j.type,j.key,j.props,null,Q.mode,X),X.ref=Rt(Q,null,j),X.return=Q,X;case je:return j=pp(j,Q.mode,X),j.return=Q,j;case un:var ge=j._init;return fe(Q,ge(j._payload),X)}if(Ai(j)||Le(j))return j=tl(j,Q.mode,X,null),j.return=Q,j;In(Q,j)}return null}function ue(Q,j,X,ge){var Oe=j!==null?j.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Oe!==null?null:b(Q,j,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case ke:return X.key===Oe?L(Q,j,X,ge):null;case je:return X.key===Oe?Y(Q,j,X,ge):null;case un:return Oe=X._init,ue(Q,j,Oe(X._payload),ge)}if(Ai(X)||Le(X))return Oe!==null?null:he(Q,j,X,ge,null);In(Q,X)}return null}function Te(Q,j,X,ge,Oe){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Q=Q.get(X)||null,b(j,Q,""+ge,Oe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case ke:return Q=Q.get(ge.key===null?X:ge.key)||null,L(j,Q,ge,Oe);case je:return Q=Q.get(ge.key===null?X:ge.key)||null,Y(j,Q,ge,Oe);case un:var Fe=ge._init;return Te(Q,j,X,Fe(ge._payload),Oe)}if(Ai(ge)||Le(ge))return Q=Q.get(X)||null,he(j,Q,ge,Oe,null);In(j,ge)}return null}function Re(Q,j,X,ge){for(var Oe=null,Fe=null,Ue=j,He=j=0,Rn=null;Ue!==null&&He<X.length;He++){Ue.index>He?(Rn=Ue,Ue=null):Rn=Ue.sibling;var pt=ue(Q,Ue,X[He],ge);if(pt===null){Ue===null&&(Ue=Rn);break}r&&Ue&&pt.alternate===null&&s(Q,Ue),j=_(pt,j,He),Fe===null?Oe=pt:Fe.sibling=pt,Fe=pt,Ue=Rn}if(He===X.length)return a(Q,Ue),Ae&&me(Q,He),Oe;if(Ue===null){for(;He<X.length;He++)Ue=fe(Q,X[He],ge),Ue!==null&&(j=_(Ue,j,He),Fe===null?Oe=Ue:Fe.sibling=Ue,Fe=Ue);return Ae&&me(Q,He),Oe}for(Ue=h(Q,Ue);He<X.length;He++)Rn=Te(Ue,Q,He,X[He],ge),Rn!==null&&(r&&Rn.alternate!==null&&Ue.delete(Rn.key===null?He:Rn.key),j=_(Rn,j,He),Fe===null?Oe=Rn:Fe.sibling=Rn,Fe=Rn);return r&&Ue.forEach(function(Qo){return s(Q,Qo)}),Ae&&me(Q,He),Oe}function xe(Q,j,X,ge){var Oe=Le(X);if(typeof Oe!="function")throw Error(t(150));if(X=Oe.call(X),X==null)throw Error(t(151));for(var Fe=Oe=null,Ue=j,He=j=0,Rn=null,pt=X.next();Ue!==null&&!pt.done;He++,pt=X.next()){Ue.index>He?(Rn=Ue,Ue=null):Rn=Ue.sibling;var Qo=ue(Q,Ue,pt.value,ge);if(Qo===null){Ue===null&&(Ue=Rn);break}r&&Ue&&Qo.alternate===null&&s(Q,Ue),j=_(Qo,j,He),Fe===null?Oe=Qo:Fe.sibling=Qo,Fe=Qo,Ue=Rn}if(pt.done)return a(Q,Ue),Ae&&me(Q,He),Oe;if(Ue===null){for(;!pt.done;He++,pt=X.next())pt=fe(Q,pt.value,ge),pt!==null&&(j=_(pt,j,He),Fe===null?Oe=pt:Fe.sibling=pt,Fe=pt);return Ae&&me(Q,He),Oe}for(Ue=h(Q,Ue);!pt.done;He++,pt=X.next())pt=Te(Ue,Q,He,pt.value,ge),pt!==null&&(r&&pt.alternate!==null&&Ue.delete(pt.key===null?He:pt.key),j=_(pt,j,He),Fe===null?Oe=pt:Fe.sibling=pt,Fe=pt);return r&&Ue.forEach(function(Y0){return s(Q,Y0)}),Ae&&me(Q,He),Oe}function Zt(Q,j,X,ge){if(typeof X=="object"&&X!==null&&X.type===V&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case ke:e:{for(var Oe=X.key,Fe=j;Fe!==null;){if(Fe.key===Oe){if(Oe=X.type,Oe===V){if(Fe.tag===7){a(Q,Fe.sibling),j=p(Fe,X.props.children),j.return=Q,Q=j;break e}}else if(Fe.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===un&&Cr(Oe)===Fe.type){a(Q,Fe.sibling),j=p(Fe,X.props),j.ref=Rt(Q,Fe,X),j.return=Q,Q=j;break e}a(Q,Fe);break}else s(Q,Fe);Fe=Fe.sibling}X.type===V?(j=tl(X.props.children,Q.mode,ge,X.key),j.return=Q,Q=j):(ge=Fh(X.type,X.key,X.props,null,Q.mode,ge),ge.ref=Rt(Q,j,X),ge.return=Q,Q=ge)}return I(Q);case je:e:{for(Fe=X.key;j!==null;){if(j.key===Fe)if(j.tag===4&&j.stateNode.containerInfo===X.containerInfo&&j.stateNode.implementation===X.implementation){a(Q,j.sibling),j=p(j,X.children||[]),j.return=Q,Q=j;break e}else{a(Q,j);break}else s(Q,j);j=j.sibling}j=pp(X,Q.mode,ge),j.return=Q,Q=j}return I(Q);case un:return Fe=X._init,Zt(Q,j,Fe(X._payload),ge)}if(Ai(X))return Re(Q,j,X,ge);if(Le(X))return xe(Q,j,X,ge);In(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,j!==null&&j.tag===6?(a(Q,j.sibling),j=p(j,X),j.return=Q,Q=j):(a(Q,j),j=fp(X,Q.mode,ge),j.return=Q,Q=j),I(Q)):a(Q,j)}return Zt}var cn=Sn(!0),pr=Sn(!1),kt=Fi(null),mr=null,Mn=null,gs=null;function Wt(){gs=Mn=mr=null}function vt(r){var s=kt.current;St(kt),r._currentValue=s}function hn(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function dn(r,s){mr=r,gs=Mn=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(kr=!0),r.firstContext=null)}function Yt(r){var s=r._currentValue;if(gs!==r)if(r={context:r,memoizedValue:s,next:null},Mn===null){if(mr===null)throw Error(t(308));Mn=r,mr.dependencies={lanes:0,firstContext:r}}else Mn=Mn.next=r;return s}var gi=null;function ql(r){gi===null?gi=[r]:gi.push(r)}function Hu(r,s,a,h){var p=s.interleaved;return p===null?(a.next=a,ql(s)):(a.next=p.next,p.next=a),s.interleaved=a,Rr(r,h)}function Rr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var _s=!1;function Wu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hl(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function zi(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Bi(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(ht&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,Rr(r,a)}return p=h.interleaved,p===null?(s.next=s,ql(h)):(s.next=p.next,p.next=s),h.interleaved=s,Rr(r,a)}function Wl(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,si(r,a)}}function Ku(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var p=null,_=null;if(a=a.firstBaseUpdate,a!==null){do{var I={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};_===null?p=_=I:_=_.next=I,a=a.next}while(a!==null);_===null?p=_=s:_=_.next=s}else p=_=s;a={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Ha(r,s,a,h){var p=r.updateQueue;_s=!1;var _=p.firstBaseUpdate,I=p.lastBaseUpdate,b=p.shared.pending;if(b!==null){p.shared.pending=null;var L=b,Y=L.next;L.next=null,I===null?_=Y:I.next=Y,I=L;var he=r.alternate;he!==null&&(he=he.updateQueue,b=he.lastBaseUpdate,b!==I&&(b===null?he.firstBaseUpdate=Y:b.next=Y,he.lastBaseUpdate=L))}if(_!==null){var fe=p.baseState;I=0,he=Y=L=null,b=_;do{var ue=b.lane,Te=b.eventTime;if((h&ue)===ue){he!==null&&(he=he.next={eventTime:Te,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var Re=r,xe=b;switch(ue=s,Te=a,xe.tag){case 1:if(Re=xe.payload,typeof Re=="function"){fe=Re.call(Te,fe,ue);break e}fe=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=xe.payload,ue=typeof Re=="function"?Re.call(Te,fe,ue):Re,ue==null)break e;fe=H({},fe,ue);break e;case 2:_s=!0}}b.callback!==null&&b.lane!==0&&(r.flags|=64,ue=p.effects,ue===null?p.effects=[b]:ue.push(b))}else Te={eventTime:Te,lane:ue,tag:b.tag,payload:b.payload,callback:b.callback,next:null},he===null?(Y=he=Te,L=fe):he=he.next=Te,I|=ue;if(b=b.next,b===null){if(b=p.shared.pending,b===null)break;ue=b,b=ue.next,ue.next=null,p.lastBaseUpdate=ue,p.shared.pending=null}}while(!0);if(he===null&&(L=fe),p.baseState=L,p.firstBaseUpdate=Y,p.lastBaseUpdate=he,s=p.shared.interleaved,s!==null){p=s;do I|=p.lane,p=p.next;while(p!==s)}else _===null&&(p.shared.lanes=0);Ja|=I,r.lanes=I,r.memoizedState=fe}}function wh(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],p=h.callback;if(p!==null){if(h.callback=null,h=a,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var Wa={},An=Fi(Wa),ys=Fi(Wa),Bo=Fi(Wa);function vs(r){if(r===Wa)throw Error(t(174));return r}function Ka(r,s){switch(At(Bo,s),At(ys,r),At(An,Wa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ot(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Ot(s,r)}St(An),At(An,s)}function no(){St(An),St(ys),St(Bo)}function Gu(r){vs(Bo.current);var s=vs(An.current),a=Ot(s,r.type);s!==a&&(At(ys,r),At(An,a))}function Kl(r){ys.current===r&&(St(An),St(ys))}var xt=Fi(0);function Gl(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Qu=[];function Ga(){for(var r=0;r<Qu.length;r++)Qu[r]._workInProgressVersionPrimary=null;Qu.length=0}var Qa=ne.ReactCurrentDispatcher,Of=ne.ReactCurrentBatchConfig,Xa=0,Ut=null,fn=null,Pn=null,Th=!1,Xu=!1,Ju=0,E0=0;function Yn(){throw Error(t(321))}function Df(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Pr(r[a],s[a]))return!1;return!0}function Lf(r,s,a,h,p,_){if(Xa=_,Ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Qa.current=r===null||r.memoizedState===null?S0:A0,r=a(h,p),Xu){_=0;do{if(Xu=!1,Ju=0,25<=_)throw Error(t(301));_+=1,Pn=fn=null,s.updateQueue=null,Qa.current=P0,r=a(h,p)}while(Xu)}if(Qa.current=Ah,s=fn!==null&&fn.next!==null,Xa=0,Pn=fn=Ut=null,Th=!1,s)throw Error(t(300));return r}function Vf(){var r=Ju!==0;return Ju=0,r}function Es(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?Ut.memoizedState=Pn=r:Pn=Pn.next=r,Pn}function _i(){if(fn===null){var r=Ut.alternate;r=r!==null?r.memoizedState:null}else r=fn.next;var s=Pn===null?Ut.memoizedState:Pn.next;if(s!==null)Pn=s,fn=r;else{if(r===null)throw Error(t(310));fn=r,r={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},Pn===null?Ut.memoizedState=Pn=r:Pn=Pn.next=r}return Pn}function Yu(r,s){return typeof s=="function"?s(r):s}function Mf(r){var s=_i(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=fn,p=h.baseQueue,_=a.pending;if(_!==null){if(p!==null){var I=p.next;p.next=_.next,_.next=I}h.baseQueue=p=_,a.pending=null}if(p!==null){_=p.next,h=h.baseState;var b=I=null,L=null,Y=_;do{var he=Y.lane;if((Xa&he)===he)L!==null&&(L=L.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),h=Y.hasEagerState?Y.eagerState:r(h,Y.action);else{var fe={lane:he,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};L===null?(b=L=fe,I=h):L=L.next=fe,Ut.lanes|=he,Ja|=he}Y=Y.next}while(Y!==null&&Y!==_);L===null?I=h:L.next=b,Pr(h,s.memoizedState)||(kr=!0),s.memoizedState=h,s.baseState=I,s.baseQueue=L,a.lastRenderedState=h}if(r=a.interleaved,r!==null){p=r;do _=p.lane,Ut.lanes|=_,Ja|=_,p=p.next;while(p!==r)}else p===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function jf(r){var s=_i(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,p=a.pending,_=s.memoizedState;if(p!==null){a.pending=null;var I=p=p.next;do _=r(_,I.action),I=I.next;while(I!==p);Pr(_,s.memoizedState)||(kr=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),a.lastRenderedState=_}return[_,h]}function Pg(){}function Cg(r,s){var a=Ut,h=_i(),p=s(),_=!Pr(h.memoizedState,p);if(_&&(h.memoizedState=p,kr=!0),h=h.queue,Ff(bg.bind(null,a,h,r),[r]),h.getSnapshot!==s||_||Pn!==null&&Pn.memoizedState.tag&1){if(a.flags|=2048,Zu(9,kg.bind(null,a,h,p,s),void 0,null),Cn===null)throw Error(t(349));(Xa&30)!==0||Rg(a,s,p)}return p}function Rg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Ut.updateQueue,s===null?(s={lastEffect:null,stores:null},Ut.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function kg(r,s,a,h){s.value=a,s.getSnapshot=h,xg(s)&&Ng(r)}function bg(r,s,a){return a(function(){xg(s)&&Ng(r)})}function xg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Pr(r,a)}catch{return!0}}function Ng(r){var s=Rr(r,1);s!==null&&Wi(s,r,1,-1)}function Og(r){var s=Es();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yu,lastRenderedState:r},s.queue=r,r=r.dispatch=I0.bind(null,Ut,r),[s.memoizedState,r]}function Zu(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=Ut.updateQueue,s===null?(s={lastEffect:null,stores:null},Ut.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function Dg(){return _i().memoizedState}function Ih(r,s,a,h){var p=Es();Ut.flags|=r,p.memoizedState=Zu(1|s,a,void 0,h===void 0?null:h)}function Sh(r,s,a,h){var p=_i();h=h===void 0?null:h;var _=void 0;if(fn!==null){var I=fn.memoizedState;if(_=I.destroy,h!==null&&Df(h,I.deps)){p.memoizedState=Zu(s,a,_,h);return}}Ut.flags|=r,p.memoizedState=Zu(1|s,a,_,h)}function Lg(r,s){return Ih(8390656,8,r,s)}function Ff(r,s){return Sh(2048,8,r,s)}function Vg(r,s){return Sh(4,2,r,s)}function Mg(r,s){return Sh(4,4,r,s)}function jg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Fg(r,s,a){return a=a!=null?a.concat([r]):null,Sh(4,4,jg.bind(null,s,r),a)}function Uf(){}function Ug(r,s){var a=_i();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Df(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function zg(r,s){var a=_i();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Df(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function Bg(r,s,a){return(Xa&21)===0?(r.baseState&&(r.baseState=!1,kr=!0),r.memoizedState=a):(Pr(a,s)||(a=vn(),Ut.lanes|=a,Ja|=a,r.baseState=!0),s)}function w0(r,s){var a=Ze;Ze=a!==0&&4>a?a:4,r(!0);var h=Of.transition;Of.transition={};try{r(!1),s()}finally{Ze=a,Of.transition=h}}function $g(){return _i().memoizedState}function T0(r,s,a){var h=Wo(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},qg(r))Hg(s,a);else if(a=Hu(r,s,a,h),a!==null){var p=_r();Wi(a,r,h,p),Wg(a,s,h)}}function I0(r,s,a){var h=Wo(r),p={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(qg(r))Hg(s,p);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var I=s.lastRenderedState,b=_(I,a);if(p.hasEagerState=!0,p.eagerState=b,Pr(b,I)){var L=s.interleaved;L===null?(p.next=p,ql(s)):(p.next=L.next,L.next=p),s.interleaved=p;return}}catch{}finally{}a=Hu(r,s,p,h),a!==null&&(p=_r(),Wi(a,r,h,p),Wg(a,s,h))}}function qg(r){var s=r.alternate;return r===Ut||s!==null&&s===Ut}function Hg(r,s){Xu=Th=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Wg(r,s,a){if((a&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,si(r,a)}}var Ah={readContext:Yt,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},S0={readContext:Yt,useCallback:function(r,s){return Es().memoizedState=[r,s===void 0?null:s],r},useContext:Yt,useEffect:Lg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Ih(4194308,4,jg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Ih(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ih(4,2,r,s)},useMemo:function(r,s){var a=Es();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=Es();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=T0.bind(null,Ut,r),[h.memoizedState,r]},useRef:function(r){var s=Es();return r={current:r},s.memoizedState=r},useState:Og,useDebugValue:Uf,useDeferredValue:function(r){return Es().memoizedState=r},useTransition:function(){var r=Og(!1),s=r[0];return r=w0.bind(null,r[1]),Es().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=Ut,p=Es();if(Ae){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Cn===null)throw Error(t(349));(Xa&30)!==0||Rg(h,s,a)}p.memoizedState=a;var _={value:a,getSnapshot:s};return p.queue=_,Lg(bg.bind(null,h,_,r),[r]),h.flags|=2048,Zu(9,kg.bind(null,h,_,a,s),void 0,null),a},useId:function(){var r=Es(),s=Cn.identifierPrefix;if(Ae){var a=re,h=Z;a=(h&~(1<<32-yn(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ju++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=E0++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},A0={readContext:Yt,useCallback:Ug,useContext:Yt,useEffect:Ff,useImperativeHandle:Fg,useInsertionEffect:Vg,useLayoutEffect:Mg,useMemo:zg,useReducer:Mf,useRef:Dg,useState:function(){return Mf(Yu)},useDebugValue:Uf,useDeferredValue:function(r){var s=_i();return Bg(s,fn.memoizedState,r)},useTransition:function(){var r=Mf(Yu)[0],s=_i().memoizedState;return[r,s]},useMutableSource:Pg,useSyncExternalStore:Cg,useId:$g,unstable_isNewReconciler:!1},P0={readContext:Yt,useCallback:Ug,useContext:Yt,useEffect:Ff,useImperativeHandle:Fg,useInsertionEffect:Vg,useLayoutEffect:Mg,useMemo:zg,useReducer:jf,useRef:Dg,useState:function(){return jf(Yu)},useDebugValue:Uf,useDeferredValue:function(r){var s=_i();return fn===null?s.memoizedState=r:Bg(s,fn.memoizedState,r)},useTransition:function(){var r=jf(Yu)[0],s=_i().memoizedState;return[r,s]},useMutableSource:Pg,useSyncExternalStore:Cg,useId:$g,unstable_isNewReconciler:!1};function $i(r,s){if(r&&r.defaultProps){s=H({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function zf(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:H({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Ph={isMounted:function(r){return(r=r._reactInternals)?gn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=_r(),p=Wo(r),_=zi(h,p);_.payload=s,a!=null&&(_.callback=a),s=Bi(r,_,p),s!==null&&(Wi(s,r,p,h),Wl(s,r,p))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=_r(),p=Wo(r),_=zi(h,p);_.tag=1,_.payload=s,a!=null&&(_.callback=a),s=Bi(r,_,p),s!==null&&(Wi(s,r,p,h),Wl(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=_r(),h=Wo(r),p=zi(a,h);p.tag=2,s!=null&&(p.callback=s),s=Bi(r,p,h),s!==null&&(Wi(s,r,h,a),Wl(s,r,h))}};function Kg(r,s,a,h,p,_,I){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,_,I):s.prototype&&s.prototype.isPureReactComponent?!Qs(a,h)||!Qs(p,_):!0}function Gg(r,s,a){var h=!1,p=pi,_=s.contextType;return typeof _=="object"&&_!==null?_=Yt(_):(p=Jn(s)?Xn:Tn.current,h=s.contextTypes,_=(h=h!=null)?Uo(r,p):pi),s=new s(a,_),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ph,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=_),s}function Qg(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Ph.enqueueReplaceState(s,s.state,null)}function Bf(r,s,a,h){var p=r.stateNode;p.props=a,p.state=r.memoizedState,p.refs={},Wu(r);var _=s.contextType;typeof _=="object"&&_!==null?p.context=Yt(_):(_=Jn(s)?Xn:Tn.current,p.context=Uo(r,_)),p.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(zf(r,s,_,a),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Ph.enqueueReplaceState(p,p.state,null),Ha(r,a,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Ql(r,s){try{var a="",h=s;do a+=Qe(h),h=h.return;while(h);var p=a}catch(_){p=`
Error generating stack: `+_.message+`
`+_.stack}return{value:r,source:s,stack:p,digest:null}}function $f(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function qf(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var C0=typeof WeakMap=="function"?WeakMap:Map;function Xg(r,s,a){a=zi(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Oh||(Oh=!0,sp=h),qf(r,s)},a}function Jg(r,s,a){a=zi(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;a.payload=function(){return h(p)},a.callback=function(){qf(r,s)}}var _=r.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(a.callback=function(){qf(r,s),typeof h!="function"&&(qo===null?qo=new Set([this]):qo.add(this));var I=s.stack;this.componentDidCatch(s.value,{componentStack:I!==null?I:""})}),a}function Yg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new C0;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(a)||(p.add(a),r=z0.bind(null,r,s,a),s.then(r,r))}function Zg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function e_(r,s,a,h,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=zi(-1,1),s.tag=2,Bi(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var R0=ne.ReactCurrentOwner,kr=!1;function gr(r,s,a,h){s.child=r===null?pr(s,null,a,h):cn(s,r.child,a,h)}function t_(r,s,a,h,p){a=a.render;var _=s.ref;return dn(s,p),h=Lf(r,s,a,h,_,p),a=Vf(),r!==null&&!kr?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,ro(r,s,p)):(Ae&&a&&Se(s),s.flags|=1,gr(r,s,h,p),s.child)}function n_(r,s,a,h,p){if(r===null){var _=a.type;return typeof _=="function"&&!dp(_)&&_.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=_,r_(r,s,_,h,p)):(r=Fh(a.type,null,h,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(_=r.child,(r.lanes&p)===0){var I=_.memoizedProps;if(a=a.compare,a=a!==null?a:Qs,a(I,h)&&r.ref===s.ref)return ro(r,s,p)}return s.flags|=1,r=Go(_,h),r.ref=s.ref,r.return=s,s.child=r}function r_(r,s,a,h,p){if(r!==null){var _=r.memoizedProps;if(Qs(_,h)&&r.ref===s.ref)if(kr=!1,s.pendingProps=h=_,(r.lanes&p)!==0)(r.flags&131072)!==0&&(kr=!0);else return s.lanes=r.lanes,ro(r,s,p)}return Hf(r,s,a,h,p)}function i_(r,s,a){var h=s.pendingProps,p=h.children,_=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(Jl,Jr),Jr|=a;else{if((a&1073741824)===0)return r=_!==null?_.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,At(Jl,Jr),Jr|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=_!==null?_.baseLanes:a,At(Jl,Jr),Jr|=h}else _!==null?(h=_.baseLanes|a,s.memoizedState=null):h=a,At(Jl,Jr),Jr|=h;return gr(r,s,p,a),s.child}function s_(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Hf(r,s,a,h,p){var _=Jn(a)?Xn:Tn.current;return _=Uo(s,_),dn(s,p),a=Lf(r,s,a,h,_,p),h=Vf(),r!==null&&!kr?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,ro(r,s,p)):(Ae&&h&&Se(s),s.flags|=1,gr(r,s,a,p),s.child)}function o_(r,s,a,h,p){if(Jn(a)){var _=!0;$l(s)}else _=!1;if(dn(s,p),s.stateNode===null)Rh(r,s),Gg(s,a,h),Bf(s,a,h,p),h=!0;else if(r===null){var I=s.stateNode,b=s.memoizedProps;I.props=b;var L=I.context,Y=a.contextType;typeof Y=="object"&&Y!==null?Y=Yt(Y):(Y=Jn(a)?Xn:Tn.current,Y=Uo(s,Y));var he=a.getDerivedStateFromProps,fe=typeof he=="function"||typeof I.getSnapshotBeforeUpdate=="function";fe||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(b!==h||L!==Y)&&Qg(s,I,h,Y),_s=!1;var ue=s.memoizedState;I.state=ue,Ha(s,h,I,p),L=s.memoizedState,b!==h||ue!==L||Ht.current||_s?(typeof he=="function"&&(zf(s,a,he,h),L=s.memoizedState),(b=_s||Kg(s,a,b,h,ue,L,Y))?(fe||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(s.flags|=4194308)):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=L),I.props=h,I.state=L,I.context=Y,h=b):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{I=s.stateNode,Hl(r,s),b=s.memoizedProps,Y=s.type===s.elementType?b:$i(s.type,b),I.props=Y,fe=s.pendingProps,ue=I.context,L=a.contextType,typeof L=="object"&&L!==null?L=Yt(L):(L=Jn(a)?Xn:Tn.current,L=Uo(s,L));var Te=a.getDerivedStateFromProps;(he=typeof Te=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(b!==fe||ue!==L)&&Qg(s,I,h,L),_s=!1,ue=s.memoizedState,I.state=ue,Ha(s,h,I,p);var Re=s.memoizedState;b!==fe||ue!==Re||Ht.current||_s?(typeof Te=="function"&&(zf(s,a,Te,h),Re=s.memoizedState),(Y=_s||Kg(s,a,Y,h,ue,Re,L)||!1)?(he||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(h,Re,L),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(h,Re,L)),typeof I.componentDidUpdate=="function"&&(s.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof I.componentDidUpdate!="function"||b===r.memoizedProps&&ue===r.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&ue===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Re),I.props=h,I.state=Re,I.context=L,h=Y):(typeof I.componentDidUpdate!="function"||b===r.memoizedProps&&ue===r.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&ue===r.memoizedState||(s.flags|=1024),h=!1)}return Wf(r,s,a,h,_,p)}function Wf(r,s,a,h,p,_){s_(r,s);var I=(s.flags&128)!==0;if(!h&&!I)return p&&Eh(s,a,!1),ro(r,s,_);h=s.stateNode,R0.current=s;var b=I&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&I?(s.child=cn(s,r.child,null,_),s.child=cn(s,null,b,_)):gr(r,s,b,_),s.memoizedState=h.state,p&&Eh(s,a,!0),s.child}function a_(r){var s=r.stateNode;s.pendingContext?yh(r,s.pendingContext,s.pendingContext!==s.context):s.context&&yh(r,s.context,!1),Ka(r,s.containerInfo)}function l_(r,s,a,h,p){return rt(),ft(p),s.flags|=256,gr(r,s,a,h),s.child}var Kf={dehydrated:null,treeContext:null,retryLane:0};function Gf(r){return{baseLanes:r,cachePool:null,transitions:null}}function u_(r,s,a){var h=s.pendingProps,p=xt.current,_=!1,I=(s.flags&128)!==0,b;if((b=I)||(b=r!==null&&r.memoizedState===null?!1:(p&2)!==0),b?(_=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),At(xt,p&1),r===null)return Je(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(I=h.children,r=h.fallback,_?(h=s.mode,_=s.child,I={mode:"hidden",children:I},(h&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=I):_=Uh(I,h,0,null),r=tl(r,h,a,null),_.return=s,r.return=s,_.sibling=r,s.child=_,s.child.memoizedState=Gf(a),s.memoizedState=Kf,r):Qf(s,I));if(p=r.memoizedState,p!==null&&(b=p.dehydrated,b!==null))return k0(r,s,I,h,b,p,a);if(_){_=h.fallback,I=s.mode,p=r.child,b=p.sibling;var L={mode:"hidden",children:h.children};return(I&1)===0&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=L,s.deletions=null):(h=Go(p,L),h.subtreeFlags=p.subtreeFlags&14680064),b!==null?_=Go(b,_):(_=tl(_,I,a,null),_.flags|=2),_.return=s,h.return=s,h.sibling=_,s.child=h,h=_,_=s.child,I=r.child.memoizedState,I=I===null?Gf(a):{baseLanes:I.baseLanes|a,cachePool:null,transitions:I.transitions},_.memoizedState=I,_.childLanes=r.childLanes&~a,s.memoizedState=Kf,h}return _=r.child,r=_.sibling,h=Go(_,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Qf(r,s){return s=Uh({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ch(r,s,a,h){return h!==null&&ft(h),cn(s,r.child,null,a),r=Qf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function k0(r,s,a,h,p,_,I){if(a)return s.flags&256?(s.flags&=-257,h=$f(Error(t(422))),Ch(r,s,I,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(_=h.fallback,p=s.mode,h=Uh({mode:"visible",children:h.children},p,0,null),_=tl(_,p,I,null),_.flags|=2,h.return=s,_.return=s,h.sibling=_,s.child=h,(s.mode&1)!==0&&cn(s,r.child,null,I),s.child.memoizedState=Gf(I),s.memoizedState=Kf,_);if((s.mode&1)===0)return Ch(r,s,I,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var b=h.dgst;return h=b,_=Error(t(419)),h=$f(_,h,void 0),Ch(r,s,I,h)}if(b=(I&r.childLanes)!==0,kr||b){if(h=Cn,h!==null){switch(I&-I){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|I))!==0?0:p,p!==0&&p!==_.retryLane&&(_.retryLane=p,Rr(r,p),Wi(h,r,p,-1))}return hp(),h=$f(Error(t(421))),Ch(r,s,I,h)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=B0.bind(null,r),p._reactRetry=s,null):(r=_.treeContext,be=ds(p.nextSibling),Ve=s,Ae=!0,De=null,r!==null&&(A[M++]=Z,A[M++]=re,A[M++]=z,Z=r.id,re=r.overflow,z=s),s=Qf(s,h.children),s.flags|=4096,s)}function c_(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),hn(r.return,s,a)}function Xf(r,s,a,h,p){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:p}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=a,_.tailMode=p)}function h_(r,s,a){var h=s.pendingProps,p=h.revealOrder,_=h.tail;if(gr(r,s,h.children,a),h=xt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&c_(r,a,s);else if(r.tag===19)c_(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(At(xt,h),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(a=s.child,p=null;a!==null;)r=a.alternate,r!==null&&Gl(r)===null&&(p=a),a=a.sibling;a=p,a===null?(p=s.child,s.child=null):(p=a.sibling,a.sibling=null),Xf(s,!1,p,a,_);break;case"backwards":for(a=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Gl(r)===null){s.child=p;break}r=p.sibling,p.sibling=a,a=p,p=r}Xf(s,!0,a,null,_);break;case"together":Xf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Rh(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function ro(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Ja|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Go(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Go(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function b0(r,s,a){switch(s.tag){case 3:a_(s),rt();break;case 5:Gu(s);break;case 1:Jn(s.type)&&$l(s);break;case 4:Ka(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;At(kt,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(At(xt,xt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?u_(r,s,a):(At(xt,xt.current&1),r=ro(r,s,a),r!==null?r.sibling:null);At(xt,xt.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(r.flags&128)!==0){if(h)return h_(r,s,a);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),At(xt,xt.current),h)break;return null;case 22:case 23:return s.lanes=0,i_(r,s,a)}return ro(r,s,a)}var d_,Jf,f_,p_;d_=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Jf=function(){},f_=function(r,s,a,h){var p=r.memoizedProps;if(p!==h){r=s.stateNode,vs(An.current);var _=null;switch(a){case"input":p=Zi(r,p),h=Zi(r,h),_=[];break;case"select":p=H({},p,{value:void 0}),h=H({},h,{value:void 0}),_=[];break;case"textarea":p=ya(r,p),h=ya(r,h),_=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Fl)}Ta(a,h);var I;a=null;for(Y in p)if(!h.hasOwnProperty(Y)&&p.hasOwnProperty(Y)&&p[Y]!=null)if(Y==="style"){var b=p[Y];for(I in b)b.hasOwnProperty(I)&&(a||(a={}),a[I]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(o.hasOwnProperty(Y)?_||(_=[]):(_=_||[]).push(Y,null));for(Y in h){var L=h[Y];if(b=p!=null?p[Y]:void 0,h.hasOwnProperty(Y)&&L!==b&&(L!=null||b!=null))if(Y==="style")if(b){for(I in b)!b.hasOwnProperty(I)||L&&L.hasOwnProperty(I)||(a||(a={}),a[I]="");for(I in L)L.hasOwnProperty(I)&&b[I]!==L[I]&&(a||(a={}),a[I]=L[I])}else a||(_||(_=[]),_.push(Y,a)),a=L;else Y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,b=b?b.__html:void 0,L!=null&&b!==L&&(_=_||[]).push(Y,L)):Y==="children"?typeof L!="string"&&typeof L!="number"||(_=_||[]).push(Y,""+L):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(o.hasOwnProperty(Y)?(L!=null&&Y==="onScroll"&&Ct("scroll",r),_||b===L||(_=[])):(_=_||[]).push(Y,L))}a&&(_=_||[]).push("style",a);var Y=_;(s.updateQueue=Y)&&(s.flags|=4)}},p_=function(r,s,a,h){a!==h&&(s.flags|=4)};function ec(r,s){if(!Ae)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Zn(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var p=r.child;p!==null;)a|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)a|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function x0(r,s,a){var h=s.pendingProps;switch(Ee(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(s),null;case 1:return Jn(s.type)&&Bl(),Zn(s),null;case 3:return h=s.stateNode,no(),St(Ht),St(Tn),Ga(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Ke(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,De!==null&&(lp(De),De=null))),Jf(r,s),Zn(s),null;case 5:Kl(s);var p=vs(Bo.current);if(a=s.type,r!==null&&s.stateNode!=null)f_(r,s,a,h,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Zn(s),null}if(r=vs(An.current),Ke(s)){h=s.stateNode,a=s.type;var _=s.memoizedProps;switch(h[di]=s,h[Ba]=_,r=(s.mode&1)!==0,a){case"dialog":Ct("cancel",h),Ct("close",h);break;case"iframe":case"object":case"embed":Ct("load",h);break;case"video":case"audio":for(p=0;p<Va.length;p++)Ct(Va[p],h);break;case"source":Ct("error",h);break;case"img":case"image":case"link":Ct("error",h),Ct("load",h);break;case"details":Ct("toggle",h);break;case"input":Zr(h,_),Ct("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!_.multiple},Ct("invalid",h);break;case"textarea":Eo(h,_),Ct("invalid",h)}Ta(a,_),p=null;for(var I in _)if(_.hasOwnProperty(I)){var b=_[I];I==="children"?typeof b=="string"?h.textContent!==b&&(_.suppressHydrationWarning!==!0&&Fa(h.textContent,b,r),p=["children",b]):typeof b=="number"&&h.textContent!==""+b&&(_.suppressHydrationWarning!==!0&&Fa(h.textContent,b,r),p=["children",""+b]):o.hasOwnProperty(I)&&b!=null&&I==="onScroll"&&Ct("scroll",h)}switch(a){case"input":Si(h),yl(h,_,!0);break;case"textarea":Si(h),vr(h);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(h.onclick=Fl)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{I=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=$t(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=I.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=I.createElement(a,{is:h.is}):(r=I.createElement(a),a==="select"&&(I=r,h.multiple?I.multiple=!0:h.size&&(I.size=h.size))):r=I.createElementNS(r,a),r[di]=s,r[Ba]=h,d_(r,s,!1,!1),s.stateNode=r;e:{switch(I=Ia(a,h),a){case"dialog":Ct("cancel",r),Ct("close",r),p=h;break;case"iframe":case"object":case"embed":Ct("load",r),p=h;break;case"video":case"audio":for(p=0;p<Va.length;p++)Ct(Va[p],r);p=h;break;case"source":Ct("error",r),p=h;break;case"img":case"image":case"link":Ct("error",r),Ct("load",r),p=h;break;case"details":Ct("toggle",r),p=h;break;case"input":Zr(r,h),p=Zi(r,h),Ct("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=H({},h,{value:void 0}),Ct("invalid",r);break;case"textarea":Eo(r,h),p=ya(r,h),Ct("invalid",r);break;default:p=h}Ta(a,p),b=p;for(_ in b)if(b.hasOwnProperty(_)){var L=b[_];_==="style"?Ea(r,L):_==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&ti(r,L)):_==="children"?typeof L=="string"?(a!=="textarea"||L!=="")&&Vr(r,L):typeof L=="number"&&Vr(r,""+L):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(o.hasOwnProperty(_)?L!=null&&_==="onScroll"&&Ct("scroll",r):L!=null&&oe(r,_,L,I))}switch(a){case"input":Si(r),yl(r,h,!1);break;case"textarea":Si(r),vr(r);break;case"option":h.value!=null&&r.setAttribute("value",""+_e(h.value));break;case"select":r.multiple=!!h.multiple,_=h.value,_!=null?Pi(r,!!h.multiple,_,!1):h.defaultValue!=null&&Pi(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Fl)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Zn(s),null;case 6:if(r&&s.stateNode!=null)p_(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=vs(Bo.current),vs(An.current),Ke(s)){if(h=s.stateNode,a=s.memoizedProps,h[di]=s,(_=h.nodeValue!==a)&&(r=Ve,r!==null))switch(r.tag){case 3:Fa(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Fa(h.nodeValue,a,(r.mode&1)!==0)}_&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[di]=s,s.stateNode=h}return Zn(s),null;case 13:if(St(xt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ae&&be!==null&&(s.mode&1)!==0&&(s.flags&128)===0)et(),rt(),s.flags|=98560,_=!1;else if(_=Ke(s),h!==null&&h.dehydrated!==null){if(r===null){if(!_)throw Error(t(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[di]=s}else rt(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Zn(s),_=!1}else De!==null&&(lp(De),De=null),_=!0;if(!_)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(xt.current&1)!==0?pn===0&&(pn=3):hp())),s.updateQueue!==null&&(s.flags|=4),Zn(s),null);case 4:return no(),Jf(r,s),r===null&&Ys(s.stateNode.containerInfo),Zn(s),null;case 10:return vt(s.type._context),Zn(s),null;case 17:return Jn(s.type)&&Bl(),Zn(s),null;case 19:if(St(xt),_=s.memoizedState,_===null)return Zn(s),null;if(h=(s.flags&128)!==0,I=_.rendering,I===null)if(h)ec(_,!1);else{if(pn!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(I=Gl(r),I!==null){for(s.flags|=128,ec(_,!1),h=I.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)_=a,r=h,_.flags&=14680066,I=_.alternate,I===null?(_.childLanes=0,_.lanes=r,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=I.childLanes,_.lanes=I.lanes,_.child=I.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=I.memoizedProps,_.memoizedState=I.memoizedState,_.updateQueue=I.updateQueue,_.type=I.type,r=I.dependencies,_.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return At(xt,xt.current&1|2),s.child}r=r.sibling}_.tail!==null&&Et()>Yl&&(s.flags|=128,h=!0,ec(_,!1),s.lanes=4194304)}else{if(!h)if(r=Gl(I),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),ec(_,!0),_.tail===null&&_.tailMode==="hidden"&&!I.alternate&&!Ae)return Zn(s),null}else 2*Et()-_.renderingStartTime>Yl&&a!==1073741824&&(s.flags|=128,h=!0,ec(_,!1),s.lanes=4194304);_.isBackwards?(I.sibling=s.child,s.child=I):(a=_.last,a!==null?a.sibling=I:s.child=I,_.last=I)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=Et(),s.sibling=null,a=xt.current,At(xt,h?a&1|2:a&1),s):(Zn(s),null);case 22:case 23:return cp(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(Jr&1073741824)!==0&&(Zn(s),s.subtreeFlags&6&&(s.flags|=8192)):Zn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function N0(r,s){switch(Ee(s),s.tag){case 1:return Jn(s.type)&&Bl(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return no(),St(Ht),St(Tn),Ga(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Kl(s),null;case 13:if(St(xt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));rt()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return St(xt),null;case 4:return no(),null;case 10:return vt(s.type._context),null;case 22:case 23:return cp(),null;case 24:return null;default:return null}}var kh=!1,er=!1,O0=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Xl(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){Kt(r,s,h)}else a.current=null}function Yf(r,s,a){try{a()}catch(h){Kt(r,s,h)}}var m_=!1;function D0(r,s){if(hs=oi,r=ui(),xl(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var p=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{a.nodeType,_.nodeType}catch{a=null;break e}var I=0,b=-1,L=-1,Y=0,he=0,fe=r,ue=null;t:for(;;){for(var Te;fe!==a||p!==0&&fe.nodeType!==3||(b=I+p),fe!==_||h!==0&&fe.nodeType!==3||(L=I+h),fe.nodeType===3&&(I+=fe.nodeValue.length),(Te=fe.firstChild)!==null;)ue=fe,fe=Te;for(;;){if(fe===r)break t;if(ue===a&&++Y===p&&(b=I),ue===_&&++he===h&&(L=I),(Te=fe.nextSibling)!==null)break;fe=ue,ue=fe.parentNode}fe=Te}a=b===-1||L===-1?null:{start:b,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ua={focusedElem:r,selectionRange:a},oi=!1,Ce=s;Ce!==null;)if(s=Ce,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Ce=r;else for(;Ce!==null;){s=Ce;try{var Re=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var xe=Re.memoizedProps,Zt=Re.memoizedState,Q=s.stateNode,j=Q.getSnapshotBeforeUpdate(s.elementType===s.type?xe:$i(s.type,xe),Zt);Q.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var X=s.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){Kt(s,s.return,ge)}if(r=s.sibling,r!==null){r.return=s.return,Ce=r;break}Ce=s.return}return Re=m_,m_=!1,Re}function tc(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var _=p.destroy;p.destroy=void 0,_!==void 0&&Yf(s,a,_)}p=p.next}while(p!==h)}}function bh(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Zf(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function g_(r){var s=r.alternate;s!==null&&(r.alternate=null,g_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[di],delete s[Ba],delete s[qu],delete s[_h],delete s[xf])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function __(r){return r.tag===5||r.tag===3||r.tag===4}function y_(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||__(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ep(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Fl));else if(h!==4&&(r=r.child,r!==null))for(ep(r,s,a),r=r.sibling;r!==null;)ep(r,s,a),r=r.sibling}function tp(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(tp(r,s,a),r=r.sibling;r!==null;)tp(r,s,a),r=r.sibling}var jn=null,qi=!1;function $o(r,s,a){for(a=a.child;a!==null;)v_(r,s,a),a=a.sibling}function v_(r,s,a){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(ts,a)}catch{}switch(a.tag){case 5:er||Xl(a,s);case 6:var h=jn,p=qi;jn=null,$o(r,s,a),jn=h,qi=p,jn!==null&&(qi?(r=jn,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):jn.removeChild(a.stateNode));break;case 18:jn!==null&&(qi?(r=jn,a=a.stateNode,r.nodeType===8?$u(r.parentNode,a):r.nodeType===1&&$u(r,a),wr(r)):$u(jn,a.stateNode));break;case 4:h=jn,p=qi,jn=a.stateNode.containerInfo,qi=!0,$o(r,s,a),jn=h,qi=p;break;case 0:case 11:case 14:case 15:if(!er&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var _=p,I=_.destroy;_=_.tag,I!==void 0&&((_&2)!==0||(_&4)!==0)&&Yf(a,s,I),p=p.next}while(p!==h)}$o(r,s,a);break;case 1:if(!er&&(Xl(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(b){Kt(a,s,b)}$o(r,s,a);break;case 21:$o(r,s,a);break;case 22:a.mode&1?(er=(h=er)||a.memoizedState!==null,$o(r,s,a),er=h):$o(r,s,a);break;default:$o(r,s,a)}}function E_(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new O0),s.forEach(function(h){var p=$0.bind(null,r,h);a.has(h)||(a.add(h),h.then(p,p))})}}function Hi(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var p=a[h];try{var _=r,I=s,b=I;e:for(;b!==null;){switch(b.tag){case 5:jn=b.stateNode,qi=!1;break e;case 3:jn=b.stateNode.containerInfo,qi=!0;break e;case 4:jn=b.stateNode.containerInfo,qi=!0;break e}b=b.return}if(jn===null)throw Error(t(160));v_(_,I,p),jn=null,qi=!1;var L=p.alternate;L!==null&&(L.return=null),p.return=null}catch(Y){Kt(p,s,Y)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)w_(s,r),s=s.sibling}function w_(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Hi(s,r),ws(r),h&4){try{tc(3,r,r.return),bh(3,r)}catch(xe){Kt(r,r.return,xe)}try{tc(5,r,r.return)}catch(xe){Kt(r,r.return,xe)}}break;case 1:Hi(s,r),ws(r),h&512&&a!==null&&Xl(a,a.return);break;case 5:if(Hi(s,r),ws(r),h&512&&a!==null&&Xl(a,a.return),r.flags&32){var p=r.stateNode;try{Vr(p,"")}catch(xe){Kt(r,r.return,xe)}}if(h&4&&(p=r.stateNode,p!=null)){var _=r.memoizedProps,I=a!==null?a.memoizedProps:_,b=r.type,L=r.updateQueue;if(r.updateQueue=null,L!==null)try{b==="input"&&_.type==="radio"&&_.name!=null&&ei(p,_),Ia(b,I);var Y=Ia(b,_);for(I=0;I<L.length;I+=2){var he=L[I],fe=L[I+1];he==="style"?Ea(p,fe):he==="dangerouslySetInnerHTML"?ti(p,fe):he==="children"?Vr(p,fe):oe(p,he,fe,Y)}switch(b){case"input":_a(p,_);break;case"textarea":Ci(p,_);break;case"select":var ue=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!_.multiple;var Te=_.value;Te!=null?Pi(p,!!_.multiple,Te,!1):ue!==!!_.multiple&&(_.defaultValue!=null?Pi(p,!!_.multiple,_.defaultValue,!0):Pi(p,!!_.multiple,_.multiple?[]:"",!1))}p[Ba]=_}catch(xe){Kt(r,r.return,xe)}}break;case 6:if(Hi(s,r),ws(r),h&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,_=r.memoizedProps;try{p.nodeValue=_}catch(xe){Kt(r,r.return,xe)}}break;case 3:if(Hi(s,r),ws(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{wr(s.containerInfo)}catch(xe){Kt(r,r.return,xe)}break;case 4:Hi(s,r),ws(r);break;case 13:Hi(s,r),ws(r),p=r.child,p.flags&8192&&(_=p.memoizedState!==null,p.stateNode.isHidden=_,!_||p.alternate!==null&&p.alternate.memoizedState!==null||(ip=Et())),h&4&&E_(r);break;case 22:if(he=a!==null&&a.memoizedState!==null,r.mode&1?(er=(Y=er)||he,Hi(s,r),er=Y):Hi(s,r),ws(r),h&8192){if(Y=r.memoizedState!==null,(r.stateNode.isHidden=Y)&&!he&&(r.mode&1)!==0)for(Ce=r,he=r.child;he!==null;){for(fe=Ce=he;Ce!==null;){switch(ue=Ce,Te=ue.child,ue.tag){case 0:case 11:case 14:case 15:tc(4,ue,ue.return);break;case 1:Xl(ue,ue.return);var Re=ue.stateNode;if(typeof Re.componentWillUnmount=="function"){h=ue,a=ue.return;try{s=h,Re.props=s.memoizedProps,Re.state=s.memoizedState,Re.componentWillUnmount()}catch(xe){Kt(h,a,xe)}}break;case 5:Xl(ue,ue.return);break;case 22:if(ue.memoizedState!==null){S_(fe);continue}}Te!==null?(Te.return=ue,Ce=Te):S_(fe)}he=he.sibling}e:for(he=null,fe=r;;){if(fe.tag===5){if(he===null){he=fe;try{p=fe.stateNode,Y?(_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(b=fe.stateNode,L=fe.memoizedProps.style,I=L!=null&&L.hasOwnProperty("display")?L.display:null,b.style.display=va("display",I))}catch(xe){Kt(r,r.return,xe)}}}else if(fe.tag===6){if(he===null)try{fe.stateNode.nodeValue=Y?"":fe.memoizedProps}catch(xe){Kt(r,r.return,xe)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===r)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===r)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===r)break e;he===fe&&(he=null),fe=fe.return}he===fe&&(he=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:Hi(s,r),ws(r),h&4&&E_(r);break;case 21:break;default:Hi(s,r),ws(r)}}function ws(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(__(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(Vr(p,""),h.flags&=-33);var _=y_(r);tp(r,_,p);break;case 3:case 4:var I=h.stateNode.containerInfo,b=y_(r);ep(r,b,I);break;default:throw Error(t(161))}}catch(L){Kt(r,r.return,L)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function L0(r,s,a){Ce=r,T_(r)}function T_(r,s,a){for(var h=(r.mode&1)!==0;Ce!==null;){var p=Ce,_=p.child;if(p.tag===22&&h){var I=p.memoizedState!==null||kh;if(!I){var b=p.alternate,L=b!==null&&b.memoizedState!==null||er;b=kh;var Y=er;if(kh=I,(er=L)&&!Y)for(Ce=p;Ce!==null;)I=Ce,L=I.child,I.tag===22&&I.memoizedState!==null?A_(p):L!==null?(L.return=I,Ce=L):A_(p);for(;_!==null;)Ce=_,T_(_),_=_.sibling;Ce=p,kh=b,er=Y}I_(r)}else(p.subtreeFlags&8772)!==0&&_!==null?(_.return=p,Ce=_):I_(r)}}function I_(r){for(;Ce!==null;){var s=Ce;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:er||bh(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!er)if(a===null)h.componentDidMount();else{var p=s.elementType===s.type?a.memoizedProps:$i(s.type,a.memoizedProps);h.componentDidUpdate(p,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var _=s.updateQueue;_!==null&&wh(s,_,h);break;case 3:var I=s.updateQueue;if(I!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}wh(s,I,a)}break;case 5:var b=s.stateNode;if(a===null&&s.flags&4){a=b;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&a.focus();break;case"img":L.src&&(a.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Y=s.alternate;if(Y!==null){var he=Y.memoizedState;if(he!==null){var fe=he.dehydrated;fe!==null&&wr(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}er||s.flags&512&&Zf(s)}catch(ue){Kt(s,s.return,ue)}}if(s===r){Ce=null;break}if(a=s.sibling,a!==null){a.return=s.return,Ce=a;break}Ce=s.return}}function S_(r){for(;Ce!==null;){var s=Ce;if(s===r){Ce=null;break}var a=s.sibling;if(a!==null){a.return=s.return,Ce=a;break}Ce=s.return}}function A_(r){for(;Ce!==null;){var s=Ce;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{bh(4,s)}catch(L){Kt(s,a,L)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(L){Kt(s,p,L)}}var _=s.return;try{Zf(s)}catch(L){Kt(s,_,L)}break;case 5:var I=s.return;try{Zf(s)}catch(L){Kt(s,I,L)}}}catch(L){Kt(s,s.return,L)}if(s===r){Ce=null;break}var b=s.sibling;if(b!==null){b.return=s.return,Ce=b;break}Ce=s.return}}var V0=Math.ceil,xh=ne.ReactCurrentDispatcher,np=ne.ReactCurrentOwner,yi=ne.ReactCurrentBatchConfig,ht=0,Cn=null,rn=null,Fn=0,Jr=0,Jl=Fi(0),pn=0,nc=null,Ja=0,Nh=0,rp=0,rc=null,br=null,ip=0,Yl=1/0,io=null,Oh=!1,sp=null,qo=null,Dh=!1,Ho=null,Lh=0,ic=0,op=null,Vh=-1,Mh=0;function _r(){return(ht&6)!==0?Et():Vh!==-1?Vh:Vh=Et()}function Wo(r){return(r.mode&1)===0?1:(ht&2)!==0&&Fn!==0?Fn&-Fn:yt.transition!==null?(Mh===0&&(Mh=vn()),Mh):(r=Ze,r!==0||(r=window.event,r=r===void 0?16:Co(r.type)),r)}function Wi(r,s,a,h){if(50<ic)throw ic=0,op=null,Error(t(185));$r(r,a,h),((ht&2)===0||r!==Cn)&&(r===Cn&&((ht&2)===0&&(Nh|=a),pn===4&&Ko(r,Fn)),xr(r,h),a===1&&ht===0&&(s.mode&1)===0&&(Yl=Et()+500,$a&&ms()))}function xr(r,s){var a=r.callbackNode;Br(r,s);var h=ur(r,r===Cn?Fn:0);if(h===0)a!==null&&zr(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&zr(a),s===1)r.tag===0?Nf(C_.bind(null,r)):qa(C_.bind(null,r)),za(function(){(ht&6)===0&&ms()}),a=null;else{switch(cr(h)){case 1:a=es;break;case 4:a=ii;break;case 16:a=Hn;break;case 536870912:a=Ra;break;default:a=Hn}a=L_(a,P_.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function P_(r,s){if(Vh=-1,Mh=0,(ht&6)!==0)throw Error(t(327));var a=r.callbackNode;if(Zl()&&r.callbackNode!==a)return null;var h=ur(r,r===Cn?Fn:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=jh(r,h);else{s=h;var p=ht;ht|=2;var _=k_();(Cn!==r||Fn!==s)&&(io=null,Yl=Et()+500,Za(r,s));do try{F0();break}catch(b){R_(r,b)}while(!0);Wt(),xh.current=_,ht=p,rn!==null?s=0:(Cn=null,Fn=0,s=pn)}if(s!==0){if(s===2&&(p=On(r),p!==0&&(h=p,s=ap(r,p))),s===1)throw a=nc,Za(r,0),Ko(r,h),xr(r,Et()),a;if(s===6)Ko(r,h);else{if(p=r.current.alternate,(h&30)===0&&!M0(p)&&(s=jh(r,h),s===2&&(_=On(r),_!==0&&(h=_,s=ap(r,_))),s===1))throw a=nc,Za(r,0),Ko(r,h),xr(r,Et()),a;switch(r.finishedWork=p,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:el(r,br,io);break;case 3:if(Ko(r,h),(h&130023424)===h&&(s=ip+500-Et(),10<s)){if(ur(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){_r(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Bu(el.bind(null,r,br,io),s);break}el(r,br,io);break;case 4:if(Ko(r,h),(h&4194240)===h)break;for(s=r.eventTimes,p=-1;0<h;){var I=31-yn(h);_=1<<I,I=s[I],I>p&&(p=I),h&=~_}if(h=p,h=Et()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*V0(h/1960))-h,10<h){r.timeoutHandle=Bu(el.bind(null,r,br,io),h);break}el(r,br,io);break;case 5:el(r,br,io);break;default:throw Error(t(329))}}}return xr(r,Et()),r.callbackNode===a?P_.bind(null,r):null}function ap(r,s){var a=rc;return r.current.memoizedState.isDehydrated&&(Za(r,s).flags|=256),r=jh(r,s),r!==2&&(s=br,br=a,s!==null&&lp(s)),r}function lp(r){br===null?br=r:br.push.apply(br,r)}function M0(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var p=a[h],_=p.getSnapshot;p=p.value;try{if(!Pr(_(),p))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ko(r,s){for(s&=~rp,s&=~Nh,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-yn(s),h=1<<a;r[a]=-1,s&=~h}}function C_(r){if((ht&6)!==0)throw Error(t(327));Zl();var s=ur(r,0);if((s&1)===0)return xr(r,Et()),null;var a=jh(r,s);if(r.tag!==0&&a===2){var h=On(r);h!==0&&(s=h,a=ap(r,h))}if(a===1)throw a=nc,Za(r,0),Ko(r,s),xr(r,Et()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,el(r,br,io),xr(r,Et()),null}function up(r,s){var a=ht;ht|=1;try{return r(s)}finally{ht=a,ht===0&&(Yl=Et()+500,$a&&ms())}}function Ya(r){Ho!==null&&Ho.tag===0&&(ht&6)===0&&Zl();var s=ht;ht|=1;var a=yi.transition,h=Ze;try{if(yi.transition=null,Ze=1,r)return r()}finally{Ze=h,yi.transition=a,ht=s,(ht&6)===0&&ms()}}function cp(){Jr=Jl.current,St(Jl)}function Za(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,bf(a)),rn!==null)for(a=rn.return;a!==null;){var h=a;switch(Ee(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Bl();break;case 3:no(),St(Ht),St(Tn),Ga();break;case 5:Kl(h);break;case 4:no();break;case 13:St(xt);break;case 19:St(xt);break;case 10:vt(h.type._context);break;case 22:case 23:cp()}a=a.return}if(Cn=r,rn=r=Go(r.current,null),Fn=Jr=s,pn=0,nc=null,rp=Nh=Ja=0,br=rc=null,gi!==null){for(s=0;s<gi.length;s++)if(a=gi[s],h=a.interleaved,h!==null){a.interleaved=null;var p=h.next,_=a.pending;if(_!==null){var I=_.next;_.next=p,h.next=I}a.pending=h}gi=null}return r}function R_(r,s){do{var a=rn;try{if(Wt(),Qa.current=Ah,Th){for(var h=Ut.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Th=!1}if(Xa=0,Pn=fn=Ut=null,Xu=!1,Ju=0,np.current=null,a===null||a.return===null){pn=1,nc=s,rn=null;break}e:{var _=r,I=a.return,b=a,L=s;if(s=Fn,b.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var Y=L,he=b,fe=he.tag;if((he.mode&1)===0&&(fe===0||fe===11||fe===15)){var ue=he.alternate;ue?(he.updateQueue=ue.updateQueue,he.memoizedState=ue.memoizedState,he.lanes=ue.lanes):(he.updateQueue=null,he.memoizedState=null)}var Te=Zg(I);if(Te!==null){Te.flags&=-257,e_(Te,I,b,_,s),Te.mode&1&&Yg(_,Y,s),s=Te,L=Y;var Re=s.updateQueue;if(Re===null){var xe=new Set;xe.add(L),s.updateQueue=xe}else Re.add(L);break e}else{if((s&1)===0){Yg(_,Y,s),hp();break e}L=Error(t(426))}}else if(Ae&&b.mode&1){var Zt=Zg(I);if(Zt!==null){(Zt.flags&65536)===0&&(Zt.flags|=256),e_(Zt,I,b,_,s),ft(Ql(L,b));break e}}_=L=Ql(L,b),pn!==4&&(pn=2),rc===null?rc=[_]:rc.push(_),_=I;do{switch(_.tag){case 3:_.flags|=65536,s&=-s,_.lanes|=s;var Q=Xg(_,L,s);Ku(_,Q);break e;case 1:b=L;var j=_.type,X=_.stateNode;if((_.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(qo===null||!qo.has(X)))){_.flags|=65536,s&=-s,_.lanes|=s;var ge=Jg(_,b,s);Ku(_,ge);break e}}_=_.return}while(_!==null)}x_(a)}catch(Oe){s=Oe,rn===a&&a!==null&&(rn=a=a.return);continue}break}while(!0)}function k_(){var r=xh.current;return xh.current=Ah,r===null?Ah:r}function hp(){(pn===0||pn===3||pn===2)&&(pn=4),Cn===null||(Ja&268435455)===0&&(Nh&268435455)===0||Ko(Cn,Fn)}function jh(r,s){var a=ht;ht|=2;var h=k_();(Cn!==r||Fn!==s)&&(io=null,Za(r,s));do try{j0();break}catch(p){R_(r,p)}while(!0);if(Wt(),ht=a,xh.current=h,rn!==null)throw Error(t(261));return Cn=null,Fn=0,pn}function j0(){for(;rn!==null;)b_(rn)}function F0(){for(;rn!==null&&!Ni();)b_(rn)}function b_(r){var s=D_(r.alternate,r,Jr);r.memoizedProps=r.pendingProps,s===null?x_(r):rn=s,np.current=null}function x_(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=x0(a,s,Jr),a!==null){rn=a;return}}else{if(a=N0(a,s),a!==null){a.flags&=32767,rn=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{pn=6,rn=null;return}}if(s=s.sibling,s!==null){rn=s;return}rn=s=r}while(s!==null);pn===0&&(pn=5)}function el(r,s,a){var h=Ze,p=yi.transition;try{yi.transition=null,Ze=1,U0(r,s,a,h)}finally{yi.transition=p,Ze=h}return null}function U0(r,s,a,h){do Zl();while(Ho!==null);if((ht&6)!==0)throw Error(t(327));a=r.finishedWork;var p=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var _=a.lanes|a.childLanes;if(lt(r,_),r===Cn&&(rn=Cn=null,Fn=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Dh||(Dh=!0,L_(Hn,function(){return Zl(),null})),_=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||_){_=yi.transition,yi.transition=null;var I=Ze;Ze=1;var b=ht;ht|=4,np.current=null,D0(r,a),w_(a,r),Pf(Ua),oi=!!hs,Ua=hs=null,r.current=a,L0(a),El(),ht=b,Ze=I,yi.transition=_}else r.current=a;if(Dh&&(Dh=!1,Ho=r,Lh=p),_=r.pendingLanes,_===0&&(qo=null),ka(a.stateNode),xr(r,Et()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)p=s[a],h(p.value,{componentStack:p.stack,digest:p.digest});if(Oh)throw Oh=!1,r=sp,sp=null,r;return(Lh&1)!==0&&r.tag!==0&&Zl(),_=r.pendingLanes,(_&1)!==0?r===op?ic++:(ic=0,op=r):ic=0,ms(),null}function Zl(){if(Ho!==null){var r=cr(Lh),s=yi.transition,a=Ze;try{if(yi.transition=null,Ze=16>r?16:r,Ho===null)var h=!1;else{if(r=Ho,Ho=null,Lh=0,(ht&6)!==0)throw Error(t(331));var p=ht;for(ht|=4,Ce=r.current;Ce!==null;){var _=Ce,I=_.child;if((Ce.flags&16)!==0){var b=_.deletions;if(b!==null){for(var L=0;L<b.length;L++){var Y=b[L];for(Ce=Y;Ce!==null;){var he=Ce;switch(he.tag){case 0:case 11:case 15:tc(8,he,_)}var fe=he.child;if(fe!==null)fe.return=he,Ce=fe;else for(;Ce!==null;){he=Ce;var ue=he.sibling,Te=he.return;if(g_(he),he===Y){Ce=null;break}if(ue!==null){ue.return=Te,Ce=ue;break}Ce=Te}}}var Re=_.alternate;if(Re!==null){var xe=Re.child;if(xe!==null){Re.child=null;do{var Zt=xe.sibling;xe.sibling=null,xe=Zt}while(xe!==null)}}Ce=_}}if((_.subtreeFlags&2064)!==0&&I!==null)I.return=_,Ce=I;else e:for(;Ce!==null;){if(_=Ce,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:tc(9,_,_.return)}var Q=_.sibling;if(Q!==null){Q.return=_.return,Ce=Q;break e}Ce=_.return}}var j=r.current;for(Ce=j;Ce!==null;){I=Ce;var X=I.child;if((I.subtreeFlags&2064)!==0&&X!==null)X.return=I,Ce=X;else e:for(I=j;Ce!==null;){if(b=Ce,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:bh(9,b)}}catch(Oe){Kt(b,b.return,Oe)}if(b===I){Ce=null;break e}var ge=b.sibling;if(ge!==null){ge.return=b.return,Ce=ge;break e}Ce=b.return}}if(ht=p,ms(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(ts,r)}catch{}h=!0}return h}finally{Ze=a,yi.transition=s}}return!1}function N_(r,s,a){s=Ql(a,s),s=Xg(r,s,1),r=Bi(r,s,1),s=_r(),r!==null&&($r(r,1,s),xr(r,s))}function Kt(r,s,a){if(r.tag===3)N_(r,r,a);else for(;s!==null;){if(s.tag===3){N_(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(qo===null||!qo.has(h))){r=Ql(a,r),r=Jg(s,r,1),s=Bi(s,r,1),r=_r(),s!==null&&($r(s,1,r),xr(s,r));break}}s=s.return}}function z0(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=_r(),r.pingedLanes|=r.suspendedLanes&a,Cn===r&&(Fn&a)===a&&(pn===4||pn===3&&(Fn&130023424)===Fn&&500>Et()-ip?Za(r,0):rp|=a),xr(r,s)}function O_(r,s){s===0&&((r.mode&1)===0?s=1:(s=Nn,Nn<<=1,(Nn&130023424)===0&&(Nn=4194304)));var a=_r();r=Rr(r,s),r!==null&&($r(r,s,a),xr(r,a))}function B0(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),O_(r,a)}function $0(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(a=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),O_(r,a)}var D_;D_=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Ht.current)kr=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return kr=!1,b0(r,s,a);kr=(r.flags&131072)!==0}else kr=!1,Ae&&(s.flags&1048576)!==0&&Ie(s,v,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Rh(r,s),r=s.pendingProps;var p=Uo(s,Tn.current);dn(s,a),p=Lf(null,s,h,r,p,a);var _=Vf();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Jn(h)?(_=!0,$l(s)):_=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Wu(s),p.updater=Ph,s.stateNode=p,p._reactInternals=s,Bf(s,h,r,a),s=Wf(null,s,h,!0,_,a)):(s.tag=0,Ae&&_&&Se(s),gr(null,s,p,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Rh(r,s),r=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=H0(h),r=$i(h,r),p){case 0:s=Hf(null,s,h,r,a);break e;case 1:s=o_(null,s,h,r,a);break e;case 11:s=t_(null,s,h,r,a);break e;case 14:s=n_(null,s,h,$i(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:$i(h,p),Hf(r,s,h,p,a);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:$i(h,p),o_(r,s,h,p,a);case 3:e:{if(a_(s),r===null)throw Error(t(387));h=s.pendingProps,_=s.memoizedState,p=_.element,Hl(r,s),Ha(s,h,null,a);var I=s.memoizedState;if(h=I.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){p=Ql(Error(t(423)),s),s=l_(r,s,h,a,p);break e}else if(h!==p){p=Ql(Error(t(424)),s),s=l_(r,s,h,a,p);break e}else for(be=ds(s.stateNode.containerInfo.firstChild),Ve=s,Ae=!0,De=null,a=pr(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(rt(),h===p){s=ro(r,s,a);break e}gr(r,s,h,a)}s=s.child}return s;case 5:return Gu(s),r===null&&Je(s),h=s.type,p=s.pendingProps,_=r!==null?r.memoizedProps:null,I=p.children,Ul(h,p)?I=null:_!==null&&Ul(h,_)&&(s.flags|=32),s_(r,s),gr(r,s,I,a),s.child;case 6:return r===null&&Je(s),null;case 13:return u_(r,s,a);case 4:return Ka(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=cn(s,null,h,a):gr(r,s,h,a),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:$i(h,p),t_(r,s,h,p,a);case 7:return gr(r,s,s.pendingProps,a),s.child;case 8:return gr(r,s,s.pendingProps.children,a),s.child;case 12:return gr(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,_=s.memoizedProps,I=p.value,At(kt,h._currentValue),h._currentValue=I,_!==null)if(Pr(_.value,I)){if(_.children===p.children&&!Ht.current){s=ro(r,s,a);break e}}else for(_=s.child,_!==null&&(_.return=s);_!==null;){var b=_.dependencies;if(b!==null){I=_.child;for(var L=b.firstContext;L!==null;){if(L.context===h){if(_.tag===1){L=zi(-1,a&-a),L.tag=2;var Y=_.updateQueue;if(Y!==null){Y=Y.shared;var he=Y.pending;he===null?L.next=L:(L.next=he.next,he.next=L),Y.pending=L}}_.lanes|=a,L=_.alternate,L!==null&&(L.lanes|=a),hn(_.return,a,s),b.lanes|=a;break}L=L.next}}else if(_.tag===10)I=_.type===s.type?null:_.child;else if(_.tag===18){if(I=_.return,I===null)throw Error(t(341));I.lanes|=a,b=I.alternate,b!==null&&(b.lanes|=a),hn(I,a,s),I=_.sibling}else I=_.child;if(I!==null)I.return=_;else for(I=_;I!==null;){if(I===s){I=null;break}if(_=I.sibling,_!==null){_.return=I.return,I=_;break}I=I.return}_=I}gr(r,s,p.children,a),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,dn(s,a),p=Yt(p),h=h(p),s.flags|=1,gr(r,s,h,a),s.child;case 14:return h=s.type,p=$i(h,s.pendingProps),p=$i(h.type,p),n_(r,s,h,p,a);case 15:return r_(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:$i(h,p),Rh(r,s),s.tag=1,Jn(h)?(r=!0,$l(s)):r=!1,dn(s,a),Gg(s,h,p),Bf(s,h,p,a),Wf(null,s,h,!0,r,a);case 19:return h_(r,s,a);case 22:return i_(r,s,a)}throw Error(t(156,s.tag))};function L_(r,s){return Ur(r,s)}function q0(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(r,s,a,h){return new q0(r,s,a,h)}function dp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function H0(r){if(typeof r=="function")return dp(r)?1:0;if(r!=null){if(r=r.$$typeof,r===q)return 11;if(r===ln)return 14}return 2}function Go(r,s){var a=r.alternate;return a===null?(a=vi(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Fh(r,s,a,h,p,_){var I=2;if(h=r,typeof r=="function")dp(r)&&(I=1);else if(typeof r=="string")I=5;else e:switch(r){case V:return tl(a.children,p,_,s);case k:I=8,p|=8;break;case x:return r=vi(12,a,s,p|2),r.elementType=x,r.lanes=_,r;case O:return r=vi(13,a,s,p),r.elementType=O,r.lanes=_,r;case Lt:return r=vi(19,a,s,p),r.elementType=Lt,r.lanes=_,r;case dt:return Uh(a,p,_,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:I=10;break e;case U:I=9;break e;case q:I=11;break e;case ln:I=14;break e;case un:I=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=vi(I,a,s,p),s.elementType=r,s.type=h,s.lanes=_,s}function tl(r,s,a,h){return r=vi(7,r,h,s),r.lanes=a,r}function Uh(r,s,a,h){return r=vi(22,r,h,s),r.elementType=dt,r.lanes=a,r.stateNode={isHidden:!1},r}function fp(r,s,a){return r=vi(6,r,null,s),r.lanes=a,r}function pp(r,s,a){return s=vi(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function W0(r,s,a,h,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gn(0),this.expirationTimes=Gn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gn(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function mp(r,s,a,h,p,_,I,b,L){return r=new W0(r,s,a,b,L),s===1?(s=1,_===!0&&(s|=8)):s=0,_=vi(3,null,null,s),r.current=_,_.stateNode=r,_.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wu(_),r}function K0(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:je,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function V_(r){if(!r)return pi;r=r._reactInternals;e:{if(gn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Jn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Jn(a))return vh(r,a,s)}return s}function M_(r,s,a,h,p,_,I,b,L){return r=mp(a,h,!0,r,p,_,I,b,L),r.context=V_(null),a=r.current,h=_r(),p=Wo(a),_=zi(h,p),_.callback=s??null,Bi(a,_,p),r.current.lanes=p,$r(r,p,h),xr(r,h),r}function zh(r,s,a,h){var p=s.current,_=_r(),I=Wo(p);return a=V_(a),s.context===null?s.context=a:s.pendingContext=a,s=zi(_,I),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Bi(p,s,I),r!==null&&(Wi(r,p,I,_),Wl(r,p,I)),I}function Bh(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function j_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function gp(r,s){j_(r,s),(r=r.alternate)&&j_(r,s)}function G0(){return null}var F_=typeof reportError=="function"?reportError:function(r){console.error(r)};function _p(r){this._internalRoot=r}$h.prototype.render=_p.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));zh(r,s,null,null)},$h.prototype.unmount=_p.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ya(function(){zh(null,r,null,null)}),s[ji]=null}};function $h(r){this._internalRoot=r}$h.prototype.unstable_scheduleHydration=function(r){if(r){var s=wl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Wr.length&&s!==0&&s<Wr[a].priority;a++);Wr.splice(a,0,r),a===0&&Us(r)}};function yp(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function qh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function U_(){}function Q0(r,s,a,h,p){if(p){if(typeof h=="function"){var _=h;h=function(){var Y=Bh(I);_.call(Y)}}var I=M_(s,h,r,0,null,!1,!1,"",U_);return r._reactRootContainer=I,r[ji]=I.current,Ys(r.nodeType===8?r.parentNode:r),Ya(),I}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var b=h;h=function(){var Y=Bh(L);b.call(Y)}}var L=mp(r,0,!1,null,null,!1,!1,"",U_);return r._reactRootContainer=L,r[ji]=L.current,Ys(r.nodeType===8?r.parentNode:r),Ya(function(){zh(s,L,a,h)}),L}function Hh(r,s,a,h,p){var _=a._reactRootContainer;if(_){var I=_;if(typeof p=="function"){var b=p;p=function(){var L=Bh(I);b.call(L)}}zh(s,I,r,p)}else I=Q0(a,s,r,p,h);return Bh(I)}Po=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=qt(s.pendingLanes);a!==0&&(si(s,a|1),xr(s,Et()),(ht&6)===0&&(Yl=Et()+500,ms()))}break;case 13:Ya(function(){var h=Rr(r,1);if(h!==null){var p=_r();Wi(h,r,1,p)}}),gp(r,1)}},Fs=function(r){if(r.tag===13){var s=Rr(r,134217728);if(s!==null){var a=_r();Wi(s,r,134217728,a)}gp(r,134217728)}},Er=function(r){if(r.tag===13){var s=Wo(r),a=Rr(r,s);if(a!==null){var h=_r();Wi(a,r,s,h)}gp(r,s)}},wl=function(){return Ze},qr=function(r,s){var a=Ze;try{return Ze=r,s()}finally{Ze=a}},ki=function(r,s,a){switch(s){case"input":if(_a(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var p=fi(h);if(!p)throw Error(t(90));yo(h),_a(h,p)}}}break;case"textarea":Ci(r,a);break;case"select":s=a.value,s!=null&&Pi(r,!!a.multiple,s,!1)}},Vs=up,ri=Ya;var X0={usingClientEntryPoint:!1,Events:[eo,to,fi,ni,Sa,up]},sc={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J0={bundleType:sc.bundleType,version:sc.version,rendererPackageName:sc.rendererPackageName,rendererConfig:sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Qt(r),r===null?null:r.stateNode},findFiberByHostInstance:sc.findFiberByHostInstance||G0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wh.isDisabled&&Wh.supportsFiber)try{ts=Wh.inject(J0),Wn=Wh}catch{}}return Nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X0,Nr.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yp(s))throw Error(t(200));return K0(r,s,null,a)},Nr.createRoot=function(r,s){if(!yp(r))throw Error(t(299));var a=!1,h="",p=F_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=mp(r,1,!1,null,null,a,!1,h,p),r[ji]=s.current,Ys(r.nodeType===8?r.parentNode:r),new _p(s)},Nr.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Qt(s),r=r===null?null:r.stateNode,r},Nr.flushSync=function(r){return Ya(r)},Nr.hydrate=function(r,s,a){if(!qh(s))throw Error(t(200));return Hh(null,r,s,!0,a)},Nr.hydrateRoot=function(r,s,a){if(!yp(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,p=!1,_="",I=F_;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(_=a.identifierPrefix),a.onRecoverableError!==void 0&&(I=a.onRecoverableError)),s=M_(s,null,r,1,a??null,p,!1,_,I),r[ji]=s.current,Ys(r),h)for(r=0;r<h.length;r++)a=h[r],p=a._getVersion,p=p(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,p]:s.mutableSourceEagerHydrationData.push(a,p);return new $h(s)},Nr.render=function(r,s,a){if(!qh(s))throw Error(t(200));return Hh(null,r,s,!1,a)},Nr.unmountComponentAtNode=function(r){if(!qh(r))throw Error(t(40));return r._reactRootContainer?(Ya(function(){Hh(null,null,r,!1,function(){r._reactRootContainer=null,r[ji]=null})}),!0):!1},Nr.unstable_batchedUpdates=up,Nr.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!qh(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Hh(r,s,a,!1,h)},Nr.version="18.3.1-next-f1338f8080-20240426",Nr}var G_;function eE(){if(G_)return wp.exports;G_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wp.exports=oI(),wp.exports}var Q_;function aI(){if(Q_)return Kh;Q_=1;var n=eE();return Kh.createRoot=n.createRoot,Kh.hydrateRoot=n.hydrateRoot,Kh}var lI=aI(),uI=eE();const PD=Zv(uI);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wc(){return wc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wc.apply(this,arguments)}var ea;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ea||(ea={}));const X_="popstate";function cI(n){n===void 0&&(n={});function e(i,o){let{pathname:l,search:c,hash:f}=i.location;return Bp("",{pathname:l,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:_d(o)}return dI(e,t,null,n)}function zt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function tE(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hI(){return Math.random().toString(36).substr(2,8)}function J_(n,e){return{usr:n.state,key:n.key,idx:e}}function Bp(n,e,t,i){return t===void 0&&(t=null),wc({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?vu(e):e,{state:t,key:e&&e.key||i||hI()})}function _d(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function vu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function dI(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,f=ea.Pop,m=null,y=w();y==null&&(y=0,c.replaceState(wc({},c.state,{idx:y}),""));function w(){return(c.state||{idx:null}).idx}function S(){f=ea.Pop;let N=w(),G=N==null?null:N-y;y=N,m&&m({action:f,location:K.location,delta:G})}function R(N,G){f=ea.Push;let J=Bp(K.location,N,G);y=w()+1;let oe=J_(J,y),ne=K.createHref(J);try{c.pushState(oe,"",ne)}catch(ke){if(ke instanceof DOMException&&ke.name==="DataCloneError")throw ke;o.location.assign(ne)}l&&m&&m({action:f,location:K.location,delta:1})}function B(N,G){f=ea.Replace;let J=Bp(K.location,N,G);y=w();let oe=J_(J,y),ne=K.createHref(J);c.replaceState(oe,"",ne),l&&m&&m({action:f,location:K.location,delta:0})}function F(N){let G=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof N=="string"?N:_d(N);return J=J.replace(/ $/,"%20"),zt(G,"No window.location.(origin|href) available to create URL for href: "+J),new URL(J,G)}let K={get action(){return f},get location(){return n(o,c)},listen(N){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(X_,S),m=N,()=>{o.removeEventListener(X_,S),m=null}},createHref(N){return e(o,N)},createURL:F,encodeLocation(N){let G=F(N);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:R,replace:B,go(N){return c.go(N)}};return K}var Y_;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Y_||(Y_={}));function fI(n,e,t){return t===void 0&&(t="/"),pI(n,e,t)}function pI(n,e,t,i){let o=typeof e=="string"?vu(e):e,l=cu(o.pathname||"/",t);if(l==null)return null;let c=nE(n);mI(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let y=PI(l);f=SI(c[m],y)}return f}function nE(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(zt(m.relativePath.startsWith(i),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(i.length));let y=na([i,m.relativePath]),w=t.concat(m);l.children&&l.children.length>0&&(zt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),nE(l.children,e,w,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:TI(y,l.index),routesMeta:w})};return n.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,c);else for(let m of rE(l.path))o(l,c,m)}),e}function rE(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=rE(i.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),o&&f.push(...c),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function mI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:II(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const gI=/^:[\w-]+$/,_I=3,yI=2,vI=1,EI=10,wI=-2,Z_=n=>n==="*";function TI(n,e){let t=n.split("/"),i=t.length;return t.some(Z_)&&(i+=wI),e&&(i+=yI),t.filter(o=>!Z_(o)).reduce((o,l)=>o+(gI.test(l)?_I:l===""?vI:EI),i)}function II(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function SI(n,e,t){let{routesMeta:i}=n,o={},l="/",c=[];for(let f=0;f<i.length;++f){let m=i[f],y=f===i.length-1,w=l==="/"?e:e.slice(l.length)||"/",S=$p({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},w),R=m.route;if(!S)return null;Object.assign(o,S.params),c.push({params:o,pathname:na([l,S.pathname]),pathnameBase:bI(na([l,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(l=na([l,S.pathnameBase]))}return c}function $p(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=AI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,w,S)=>{let{paramName:R,isOptional:B}=w;if(R==="*"){let K=f[S]||"";c=l.slice(0,l.length-K.length).replace(/(.)\/+$/,"$1")}const F=f[S];return B&&!F?y[R]=void 0:y[R]=(F||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:n}}function AI(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),tE(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function PI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tE(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function cu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function CI(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?vu(n):n;return{pathname:t?t.startsWith("/")?t:RI(t,e):e,search:xI(i),hash:NI(o)}}function RI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Sp(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Am(n,e){let t=kI(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function Pm(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=vu(n):(o=wc({},n),zt(!o.pathname||!o.pathname.includes("?"),Sp("?","pathname","search",o)),zt(!o.pathname||!o.pathname.includes("#"),Sp("#","pathname","hash",o)),zt(!o.search||!o.search.includes("#"),Sp("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,f;if(c==null)f=t;else{let S=e.length-1;if(!i&&c.startsWith("..")){let R=c.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}f=S>=0?e[S]:"/"}let m=CI(o,f),y=c&&c!=="/"&&c.endsWith("/"),w=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(y||w)&&(m.pathname+="/"),m}const na=n=>n.join("/").replace(/\/\/+/g,"/"),bI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),xI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,NI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function OI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const iE=["post","put","patch","delete"];new Set(iE);const DI=["get",...iE];new Set(DI);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tc(){return Tc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Tc.apply(this,arguments)}const $d=le.createContext(null),sE=le.createContext(null),po=le.createContext(null),qd=le.createContext(null),ma=le.createContext({outlet:null,matches:[],isDataRoute:!1}),oE=le.createContext(null);function LI(n,e){let{relative:t}=e===void 0?{}:e;Eu()||zt(!1);let{basename:i,navigator:o}=le.useContext(po),{hash:l,pathname:c,search:f}=Hd(n,{relative:t}),m=c;return i!=="/"&&(m=c==="/"?i:na([i,c])),o.createHref({pathname:m,search:f,hash:l})}function Eu(){return le.useContext(qd)!=null}function Ii(){return Eu()||zt(!1),le.useContext(qd).location}function aE(n){le.useContext(po).static||le.useLayoutEffect(n)}function Dc(){let{isDataRoute:n}=le.useContext(ma);return n?GI():VI()}function VI(){Eu()||zt(!1);let n=le.useContext($d),{basename:e,future:t,navigator:i}=le.useContext(po),{matches:o}=le.useContext(ma),{pathname:l}=Ii(),c=JSON.stringify(Am(o,t.v7_relativeSplatPath)),f=le.useRef(!1);return aE(()=>{f.current=!0}),le.useCallback(function(y,w){if(w===void 0&&(w={}),!f.current)return;if(typeof y=="number"){i.go(y);return}let S=Pm(y,JSON.parse(c),l,w.relative==="path");n==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:na([e,S.pathname])),(w.replace?i.replace:i.push)(S,w.state,w)},[e,i,c,l,n])}function Hd(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=le.useContext(po),{matches:o}=le.useContext(ma),{pathname:l}=Ii(),c=JSON.stringify(Am(o,i.v7_relativeSplatPath));return le.useMemo(()=>Pm(n,JSON.parse(c),l,t==="path"),[n,c,l,t])}function MI(n,e){return jI(n,e)}function jI(n,e,t,i){Eu()||zt(!1);let{navigator:o,static:l}=le.useContext(po),{matches:c}=le.useContext(ma),f=c[c.length-1],m=f?f.params:{};f&&f.pathname;let y=f?f.pathnameBase:"/";f&&f.route;let w=Ii(),S;if(e){var R;let G=typeof e=="string"?vu(e):e;y==="/"||(R=G.pathname)!=null&&R.startsWith(y)||zt(!1),S=G}else S=w;let B=S.pathname||"/",F=B;if(y!=="/"){let G=y.replace(/^\//,"").split("/");F="/"+B.replace(/^\//,"").split("/").slice(G.length).join("/")}let K=fI(n,{pathname:F}),N=$I(K&&K.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:na([y,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:na([y,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),c,t,i);return e&&N?le.createElement(qd.Provider,{value:{location:Tc({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:ea.Pop}},N):N}function FI(){let n=KI(),e=OI(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return le.createElement(le.Fragment,null,le.createElement("h2",null,"Unexpected Application Error!"),le.createElement("h3",{style:{fontStyle:"italic"}},e),t?le.createElement("pre",{style:o},t):null,null)}const UI=le.createElement(FI,null);class zI extends le.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?le.createElement(ma.Provider,{value:this.props.routeContext},le.createElement(oE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BI(n){let{routeContext:e,match:t,children:i}=n,o=le.useContext($d);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),le.createElement(ma.Provider,{value:e},i)}function $I(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var l;if(!t)return null;if(t.errors)n=t.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,f=(o=t)==null?void 0:o.errors;if(f!=null){let w=c.findIndex(S=>S.route.id&&(f==null?void 0:f[S.route.id])!==void 0);w>=0||zt(!1),c=c.slice(0,Math.min(c.length,w+1))}let m=!1,y=-1;if(t&&i&&i.v7_partialHydration)for(let w=0;w<c.length;w++){let S=c[w];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(y=w),S.route.id){let{loaderData:R,errors:B}=t,F=S.route.loader&&R[S.route.id]===void 0&&(!B||B[S.route.id]===void 0);if(S.route.lazy||F){m=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((w,S,R)=>{let B,F=!1,K=null,N=null;t&&(B=f&&S.route.id?f[S.route.id]:void 0,K=S.route.errorElement||UI,m&&(y<0&&R===0?(QI("route-fallback"),F=!0,N=null):y===R&&(F=!0,N=S.route.hydrateFallbackElement||null)));let G=e.concat(c.slice(0,R+1)),J=()=>{let oe;return B?oe=K:F?oe=N:S.route.Component?oe=le.createElement(S.route.Component,null):S.route.element?oe=S.route.element:oe=w,le.createElement(BI,{match:S,routeContext:{outlet:w,matches:G,isDataRoute:t!=null},children:oe})};return t&&(S.route.ErrorBoundary||S.route.errorElement||R===0)?le.createElement(zI,{location:t.location,revalidation:t.revalidation,component:K,error:B,children:J(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):J()},null)}var lE=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(lE||{}),uE=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(uE||{});function qI(n){let e=le.useContext($d);return e||zt(!1),e}function HI(n){let e=le.useContext(sE);return e||zt(!1),e}function WI(n){let e=le.useContext(ma);return e||zt(!1),e}function cE(n){let e=WI(),t=e.matches[e.matches.length-1];return t.route.id||zt(!1),t.route.id}function KI(){var n;let e=le.useContext(oE),t=HI(),i=cE();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function GI(){let{router:n}=qI(lE.UseNavigateStable),e=cE(uE.UseNavigateStable),t=le.useRef(!1);return aE(()=>{t.current=!0}),le.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Tc({fromRouteId:e},l)))},[n,e])}const ey={};function QI(n,e,t){ey[n]||(ey[n]=!0)}function XI(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function nd(n){let{to:e,replace:t,state:i,relative:o}=n;Eu()||zt(!1);let{future:l,static:c}=le.useContext(po),{matches:f}=le.useContext(ma),{pathname:m}=Ii(),y=Dc(),w=Pm(e,Am(f,l.v7_relativeSplatPath),m,o==="path"),S=JSON.stringify(w);return le.useEffect(()=>y(JSON.parse(S),{replace:t,state:i,relative:o}),[y,S,o,t,i]),null}function ce(n){zt(!1)}function JI(n){let{basename:e="/",children:t=null,location:i,navigationType:o=ea.Pop,navigator:l,static:c=!1,future:f}=n;Eu()&&zt(!1);let m=e.replace(/^\/*/,"/"),y=le.useMemo(()=>({basename:m,navigator:l,static:c,future:Tc({v7_relativeSplatPath:!1},f)}),[m,f,l,c]);typeof i=="string"&&(i=vu(i));let{pathname:w="/",search:S="",hash:R="",state:B=null,key:F="default"}=i,K=le.useMemo(()=>{let N=cu(w,m);return N==null?null:{location:{pathname:N,search:S,hash:R,state:B,key:F},navigationType:o}},[m,w,S,R,B,F,o]);return K==null?null:le.createElement(po.Provider,{value:y},le.createElement(qd.Provider,{children:t,value:K}))}function YI(n){let{children:e,location:t}=n;return MI(qp(e),t)}new Promise(()=>{});function qp(n,e){e===void 0&&(e=[]);let t=[];return le.Children.forEach(n,(i,o)=>{if(!le.isValidElement(i))return;let l=[...e,o];if(i.type===le.Fragment){t.push.apply(t,qp(i.props.children,l));return}i.type!==ce&&zt(!1),!i.props.index||!i.props.children||zt(!1);let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=qp(i.props.children,l)),t.push(c)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yd(){return yd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yd.apply(this,arguments)}function hE(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function ZI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function eS(n,e){return n.button===0&&(!e||e==="_self")&&!ZI(n)}function Hp(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(o=>[t,o]):[[t,i]])},[]))}function tS(n,e){let t=Hp(n);return e&&e.forEach((i,o)=>{t.has(o)||e.getAll(o).forEach(l=>{t.append(o,l)})}),t}const nS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],iS="6";try{window.__reactRouterVersion=iS}catch{}const sS=le.createContext({isTransitioning:!1}),oS="startTransition",ty=rI[oS];function aS(n){let{basename:e,children:t,future:i,window:o}=n,l=le.useRef();l.current==null&&(l.current=cI({window:o,v5Compat:!0}));let c=l.current,[f,m]=le.useState({action:c.action,location:c.location}),{v7_startTransition:y}=i||{},w=le.useCallback(S=>{y&&ty?ty(()=>m(S)):m(S)},[m,y]);return le.useLayoutEffect(()=>c.listen(w),[c,w]),le.useEffect(()=>XI(i),[i]),le.createElement(JI,{basename:e,children:t,location:f.location,navigationType:f.action,navigator:c,future:i})}const lS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lc=le.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:l,replace:c,state:f,target:m,to:y,preventScrollReset:w,viewTransition:S}=e,R=hE(e,nS),{basename:B}=le.useContext(po),F,K=!1;if(typeof y=="string"&&uS.test(y)&&(F=y,lS))try{let oe=new URL(window.location.href),ne=y.startsWith("//")?new URL(oe.protocol+y):new URL(y),ke=cu(ne.pathname,B);ne.origin===oe.origin&&ke!=null?y=ke+ne.search+ne.hash:K=!0}catch{}let N=LI(y,{relative:o}),G=hS(y,{replace:c,state:f,target:m,preventScrollReset:w,relative:o,viewTransition:S});function J(oe){i&&i(oe),oe.defaultPrevented||G(oe)}return le.createElement("a",yd({},R,{href:F||N,onClick:K||l?i:J,ref:t,target:m}))}),CD=le.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:o=!1,className:l="",end:c=!1,style:f,to:m,viewTransition:y,children:w}=e,S=hE(e,rS),R=Hd(m,{relative:S.relative}),B=Ii(),F=le.useContext(sE),{navigator:K,basename:N}=le.useContext(po),G=F!=null&&dS(R)&&y===!0,J=K.encodeLocation?K.encodeLocation(R).pathname:R.pathname,oe=B.pathname,ne=F&&F.navigation&&F.navigation.location?F.navigation.location.pathname:null;o||(oe=oe.toLowerCase(),ne=ne?ne.toLowerCase():null,J=J.toLowerCase()),ne&&N&&(ne=cu(ne,N)||ne);const ke=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let je=oe===J||!c&&oe.startsWith(J)&&oe.charAt(ke)==="/",V=ne!=null&&(ne===J||!c&&ne.startsWith(J)&&ne.charAt(J.length)==="/"),k={isActive:je,isPending:V,isTransitioning:G},x=je?i:void 0,D;typeof l=="function"?D=l(k):D=[l,je?"active":null,V?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let U=typeof f=="function"?f(k):f;return le.createElement(lc,yd({},S,{"aria-current":x,className:D,ref:t,style:U,to:m,viewTransition:y}),typeof w=="function"?w(k):w)});var Wp;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Wp||(Wp={}));var ny;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(ny||(ny={}));function cS(n){let e=le.useContext($d);return e||zt(!1),e}function hS(n,e){let{target:t,replace:i,state:o,preventScrollReset:l,relative:c,viewTransition:f}=e===void 0?{}:e,m=Dc(),y=Ii(),w=Hd(n,{relative:c});return le.useCallback(S=>{if(eS(S,t)){S.preventDefault();let R=i!==void 0?i:_d(y)===_d(w);m(n,{replace:R,state:o,preventScrollReset:l,relative:c,viewTransition:f})}},[y,m,w,i,o,t,n,l,c,f])}function RD(n){let e=le.useRef(Hp(n)),t=le.useRef(!1),i=Ii(),o=le.useMemo(()=>tS(i.search,t.current?null:e.current),[i.search]),l=Dc(),c=le.useCallback((f,m)=>{const y=Hp(typeof f=="function"?f(o):f);t.current=!0,l("?"+y,m)},[l,o]);return[o,c]}function dS(n,e){e===void 0&&(e={});let t=le.useContext(sS);t==null&&zt(!1);let{basename:i}=cS(Wp.useViewTransitionState),o=Hd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=cu(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=cu(t.nextLocation.pathname,i)||t.nextLocation.pathname;return $p(o.pathname,c)!=null||$p(o.pathname,l)!=null}const fS="modulepreload",pS=function(n){return"/"+n},ry={},pe=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let c=function(y){return Promise.all(y.map(w=>Promise.resolve(w).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=c(t.map(y=>{if(y=pS(y),y in ry)return;ry[y]=!0;const w=y.endsWith(".css"),S=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${S}`))return;const R=document.createElement("link");if(R.rel=w?"stylesheet":fS,w||(R.as="script"),R.crossOrigin="",R.href=y,m&&R.setAttribute("nonce",m),document.head.appendChild(R),w)return new Promise((B,F)=>{R.addEventListener("load",B),R.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return o.then(c=>{for(const f of c||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})},mS=()=>{const n=Ii();return le.useEffect(()=>{console.warn=()=>{},window.scrollTo(0,0)},[n]),null},gS=()=>{};var iy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},_S=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],f=n[t++],m=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},fE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,f=c?n[o+1]:0,m=o+2<n.length,y=m?n[o+2]:0,w=l>>2,S=(l&3)<<4|f>>4;let R=(f&15)<<2|y>>6,B=y&63;m||(B=64,c||(R=64)),i.push(t[w],t[S],t[R],t[B])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(dE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_S(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const S=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||y==null||S==null)throw new yS;const R=l<<2|f>>4;if(i.push(R),y!==64){const B=f<<4&240|y>>2;if(i.push(B),S!==64){const F=y<<6&192|S;i.push(F)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class yS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vS=function(n){const e=dE(n);return fE.encodeByteArray(e,!0)},vd=function(n){return vS(n).replace(/\./g,"")},pE=function(n){try{return fE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=()=>ES().__FIREBASE_DEFAULTS__,TS=()=>{if(typeof process>"u"||typeof iy>"u")return;const n=iy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},IS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&pE(n[1]);return e&&JSON.parse(e)},Wd=()=>{try{return gS()||wS()||TS()||IS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},mE=n=>{var e,t;return(t=(e=Wd())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},SS=n=>{const e=mE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},gE=()=>{var n;return(n=Wd())==null?void 0:n.config},_E=n=>{var e;return(e=Wd())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[vd(JSON.stringify(t)),vd(JSON.stringify(c)),""].join(".")}const mc={};function CS(){const n={prod:[],emulator:[]};for(const e of Object.keys(mc))mc[e]?n.emulator.push(e):n.prod.push(e);return n}function RS(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let sy=!1;function vE(n,e){if(typeof window>"u"||typeof document>"u"||!wu(window.location.host)||mc[n]===e||mc[n]||sy)return;mc[n]=e;function t(R){return`__firebase__banner__${R}`}const i="__firebase__banner",l=CS().prod.length>0;function c(){const R=document.getElementById(i);R&&R.remove()}function f(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function m(R,B){R.setAttribute("width","24"),R.setAttribute("id",B),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{sy=!0,c()},R}function w(R,B){R.setAttribute("id",B),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=RS(i),B=t("text"),F=document.getElementById(B)||document.createElement("span"),K=t("learnmore"),N=document.getElementById(K)||document.createElement("a"),G=t("preprendIcon"),J=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const oe=R.element;f(oe),w(N,K);const ne=y();m(J,G),oe.append(J,F,N,ne),document.body.appendChild(oe)}l?(F.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sr())}function bS(){var e;const n=(e=Wd())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function OS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DS(){const n=sr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function LS(){return!bS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VS(){try{return typeof indexedDB=="object"}catch{return!1}}function MS(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="FirebaseError";class mo extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=jS,Object.setPrototypeOf(this,mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lc.prototype.create)}}class Lc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?FS(l,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new mo(o,f,i)}}function FS(n,e){return n.replace(US,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const US=/\{\$([^}]+)}/g;function zS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function al(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(oy(l)&&oy(c)){if(!al(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function oy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function uc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function cc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function BS(n,e){const t=new $S(n,e);return t.subscribe.bind(t)}class $S{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");qS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Ap),o.error===void 0&&(o.error=Ap),o.complete===void 0&&(o.complete=Ap);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ap(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(n){return n&&n._delegate?n._delegate:n}class ll{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new AS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KS(e))try{this.getOrInitializeService({instanceIdentifier:nl})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=nl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=nl){return this.instances.has(e)}getOptions(e=nl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:WS(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=nl){return this.component?this.component.multipleInstances?e:nl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WS(n){return n===nl?void 0:n}function KS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new HS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(it||(it={}));const QS={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},XS=it.INFO,JS={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},YS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=JS[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=XS,this._logHandler=YS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const ZS=(n,e)=>e.some(t=>n instanceof t);let ay,ly;function eA(){return ay||(ay=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tA(){return ly||(ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EE=new WeakMap,Kp=new WeakMap,wE=new WeakMap,Pp=new WeakMap,Rm=new WeakMap;function nA(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ra(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&EE.set(t,n)}).catch(()=>{}),Rm.set(e,n),e}function rA(n){if(Kp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Kp.set(n,e)}let Gp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Kp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||wE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ra(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function iA(n){Gp=n(Gp)}function sA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Cp(this),e,...t);return wE.set(i,e.sort?e.sort():[e]),ra(i)}:tA().includes(n)?function(...e){return n.apply(Cp(this),e),ra(EE.get(this))}:function(...e){return ra(n.apply(Cp(this),e))}}function oA(n){return typeof n=="function"?sA(n):(n instanceof IDBTransaction&&rA(n),ZS(n,eA())?new Proxy(n,Gp):n)}function ra(n){if(n instanceof IDBRequest)return nA(n);if(Pp.has(n))return Pp.get(n);const e=oA(n);return e!==n&&(Pp.set(n,e),Rm.set(e,n)),e}const Cp=n=>Rm.get(n);function aA(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),f=ra(c);return i&&c.addEventListener("upgradeneeded",m=>{i(ra(c.result),m.oldVersion,m.newVersion,ra(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const lA=["get","getKey","getAll","getAllKeys","count"],uA=["put","add","delete","clear"],Rp=new Map;function uy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Rp.get(e))return Rp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=uA.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||lA.includes(t)))return;const l=async function(c,...f){const m=this.transaction(c,o?"readwrite":"readonly");let y=m.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&m.done]))[0]};return Rp.set(e,l),l}iA(n=>({...n,get:(e,t,i)=>uy(e,t)||n.get(e,t,i),has:(e,t)=>!!uy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hA(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function hA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qp="@firebase/app",cy="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new Cm("@firebase/app"),dA="@firebase/app-compat",fA="@firebase/analytics-compat",pA="@firebase/analytics",mA="@firebase/app-check-compat",gA="@firebase/app-check",_A="@firebase/auth",yA="@firebase/auth-compat",vA="@firebase/database",EA="@firebase/data-connect",wA="@firebase/database-compat",TA="@firebase/functions",IA="@firebase/functions-compat",SA="@firebase/installations",AA="@firebase/installations-compat",PA="@firebase/messaging",CA="@firebase/messaging-compat",RA="@firebase/performance",kA="@firebase/performance-compat",bA="@firebase/remote-config",xA="@firebase/remote-config-compat",NA="@firebase/storage",OA="@firebase/storage-compat",DA="@firebase/firestore",LA="@firebase/ai",VA="@firebase/firestore-compat",MA="firebase",jA="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="[DEFAULT]",FA={[Qp]:"fire-core",[dA]:"fire-core-compat",[pA]:"fire-analytics",[fA]:"fire-analytics-compat",[gA]:"fire-app-check",[mA]:"fire-app-check-compat",[_A]:"fire-auth",[yA]:"fire-auth-compat",[vA]:"fire-rtdb",[EA]:"fire-data-connect",[wA]:"fire-rtdb-compat",[TA]:"fire-fn",[IA]:"fire-fn-compat",[SA]:"fire-iid",[AA]:"fire-iid-compat",[PA]:"fire-fcm",[CA]:"fire-fcm-compat",[RA]:"fire-perf",[kA]:"fire-perf-compat",[bA]:"fire-rc",[xA]:"fire-rc-compat",[NA]:"fire-gcs",[OA]:"fire-gcs-compat",[DA]:"fire-fst",[VA]:"fire-fst-compat",[LA]:"fire-vertex","fire-js":"fire-js",[MA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new Map,UA=new Map,Jp=new Map;function hy(n,e){try{n.container.addComponent(e)}catch(t){uo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function hu(n){const e=n.name;if(Jp.has(e))return uo.debug(`There were multiple attempts to register component ${e}.`),!1;Jp.set(e,n);for(const t of Ed.values())hy(t,n);for(const t of UA.values())hy(t,n);return!0}function km(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Yr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ia=new Lc("app","Firebase",zA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ll("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=jA;function bm(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Xp,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw ia.create("bad-app-name",{appName:String(o)});if(t||(t=gE()),!t)throw ia.create("no-options");const l=Ed.get(o);if(l){if(al(t,l.options)&&al(i,l.config))return l;throw ia.create("duplicate-app",{appName:o})}const c=new GS(o);for(const m of Jp.values())c.addComponent(m);const f=new BA(t,i,c);return Ed.set(o,f),f}function TE(n=Xp){const e=Ed.get(n);if(!e&&n===Xp&&gE())return bm();if(!e)throw ia.create("no-app",{appName:n});return e}function sa(n,e,t){let i=FA[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),uo.warn(c.join(" "));return}hu(new ll(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="firebase-heartbeat-database",qA=1,Ic="firebase-heartbeat-store";let kp=null;function IE(){return kp||(kp=aA($A,qA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ic)}catch(t){console.warn(t)}}}}).catch(n=>{throw ia.create("idb-open",{originalErrorMessage:n.message})})),kp}async function HA(n){try{const t=(await IE()).transaction(Ic),i=await t.objectStore(Ic).get(SE(n));return await t.done,i}catch(e){if(e instanceof mo)uo.warn(e.message);else{const t=ia.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});uo.warn(t.message)}}}async function dy(n,e){try{const i=(await IE()).transaction(Ic,"readwrite");await i.objectStore(Ic).put(e,SE(n)),await i.done}catch(t){if(t instanceof mo)uo.warn(t.message);else{const i=ia.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});uo.warn(i.message)}}}function SE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=1024,KA=30;class GA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new XA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=fy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>KA){const c=JA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){uo.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=fy(),{heartbeatsToSend:i,unsentEntries:o}=QA(this._heartbeatsCache.heartbeats),l=vd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return uo.warn(t),""}}}function fy(){return new Date().toISOString().substring(0,10)}function QA(n,e=WA){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),py(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),py(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class XA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VS()?MS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await HA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return dy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return dy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function py(n){return vd(JSON.stringify({version:2,heartbeats:n})).length}function JA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(n){hu(new ll("platform-logger",e=>new cA(e),"PRIVATE")),hu(new ll("heartbeat",e=>new GA(e),"PRIVATE")),sa(Qp,cy,n),sa(Qp,cy,"esm2020"),sa("fire-js","")}YA("");var ZA="firebase",eP="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sa(ZA,eP,"app");function AE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tP=AE,PE=new Lc("auth","Firebase",AE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new Cm("@firebase/auth");function nP(n,...e){wd.logLevel<=it.WARN&&wd.warn(`Auth (${Tu}): ${n}`,...e)}function rd(n,...e){wd.logLevel<=it.ERROR&&wd.error(`Auth (${Tu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(n,...e){throw Nm(n,...e)}function Xi(n,...e){return Nm(n,...e)}function xm(n,e,t){const i={...tP(),[e]:t};return new Lc("auth","Firebase",i).create(e,{appName:n.name})}function ao(n){return xm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rP(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Ti(n,"argument-error"),xm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return PE.create(n,...e)}function Be(n,e,...t){if(!n)throw Nm(e,...t)}function so(n){const e="INTERNAL ASSERTION FAILED: "+n;throw rd(e),new Error(e)}function co(n,e){n||so(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function iP(){return my()==="http:"||my()==="https:"}function my(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iP()||NS()||"connection"in navigator)?navigator.onLine:!0}function oP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,t){this.shortDelay=e,this.longDelay=t,co(t>e,"Short delay should be less than long delay!"),this.isMobile=kS()||OS()}get(){return sP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(n,e){co(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;so("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;so("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;so("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uP=new Mc(3e4,6e4);function go(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ns(n,e,t,i,o={}){return RE(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=Vc({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:m,...l};return xS()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&wu(n.emulatorConfig.host)&&(y.credentials="include"),CE.fetch()(await kE(n,n.config.apiHost,t,f),y)})}async function RE(n,e,t){n._canInitEmulator=!1;const i={...aP,...e};try{const o=new hP(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Gh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,y]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gh(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Gh(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Gh(n,"user-disabled",c);const w=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw xm(n,w,y);Ti(n,w)}}catch(o){if(o instanceof mo)throw o;Ti(n,"network-request-failed",{message:String(o)})}}async function jc(n,e,t,i,o={}){const l=await Ns(n,e,t,i,o);return"mfaPendingCredential"in l&&Ti(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function kE(n,e,t,i){const o=`${e}${t}?${i}`,l=n,c=l.config.emulator?Om(n.config,o):`${n.config.apiScheme}://${o}`;return lP.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function cP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Xi(this.auth,"network-request-failed")),uP.get())})}}function Gh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Xi(n,e,i);return o.customData._tokenResponse=t,o}function gy(n){return n!==void 0&&n.enterprise!==void 0}class dP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return cP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fP(n,e){return Ns(n,"GET","/v2/recaptchaConfig",go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(n,e){return Ns(n,"POST","/v1/accounts:delete",e)}async function Td(n,e){return Ns(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mP(n,e=!1){const t=or(n),i=await t.getIdToken(e),o=Dm(i);Be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:gc(bp(o.auth_time)),issuedAtTime:gc(bp(o.iat)),expirationTime:gc(bp(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function bp(n){return Number(n)*1e3}function Dm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return rd("JWT malformed, contained fewer than 3 sections"),null;try{const o=pE(t);return o?JSON.parse(o):(rd("Failed to decode base64 JWT payload"),null)}catch(o){return rd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function _y(n){const e=Dm(n);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof mo&&gP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function gP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(n){var S;const e=n.auth,t=await n.getIdToken(),i=await du(n,Td(e,{idToken:t}));Be(i==null?void 0:i.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=(S=o.providerUserInfo)!=null&&S.length?bE(o.providerUserInfo):[],c=vP(n.providerData,l),f=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),y=f?m:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Zp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,w)}async function yP(n){const e=or(n);await Id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vP(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function bE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(n,e){const t=await RE(n,{},async()=>{const i=Vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await kE(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return n.emulatorConfig&&wu(n.emulatorConfig.host)&&(m.credentials="include"),CE.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wP(n,e){return Ns(n,"POST","/v2/accounts:revokeToken",go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_y(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const t=_y(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await EP(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new iu;return i&&(Be(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Be(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Be(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new iu,this.toJSON())}_performRefresh(){return so("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(n,e){Be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ki{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new _P(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await du(this,this.stsTokenManager.getToken(this.auth,e));return Be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return mP(this,e)}reload(){return yP(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ki({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Id(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yr(this.auth.app))return Promise.reject(ao(this.auth));const e=await this.getIdToken();return await du(this,pP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,m=t._redirectEventId??void 0,y=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:S,emailVerified:R,isAnonymous:B,providerData:F,stsTokenManager:K}=t;Be(S&&K,e,"internal-error");const N=iu.fromJSON(this.name,K);Be(typeof S=="string",e,"internal-error"),Xo(i,e.name),Xo(o,e.name),Be(typeof R=="boolean",e,"internal-error"),Be(typeof B=="boolean",e,"internal-error"),Xo(l,e.name),Xo(c,e.name),Xo(f,e.name),Xo(m,e.name),Xo(y,e.name),Xo(w,e.name);const G=new Ki({uid:S,auth:e,email:o,emailVerified:R,displayName:i,isAnonymous:B,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:N,createdAt:y,lastLoginAt:w});return F&&Array.isArray(F)&&(G.providerData=F.map(J=>({...J}))),m&&(G._redirectEventId=m),G}static async _fromIdTokenResponse(e,t,i=!1){const o=new iu;o.updateFromServerResponse(t);const l=new Ki({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Id(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Be(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?bE(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new iu;f.updateFromIdToken(i);const m=new Ki({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Zp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,y),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=new Map;function oo(n){co(n instanceof Function,"Expected a class definition");let e=yy.get(n);return e?(co(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,yy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}xE.type="NONE";const vy=xE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(n,e,t){return`firebase:${n}:${e}:${t}`}class su{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=id(this.userKey,o.apiKey,l),this.fullPersistenceKey=id("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Td(this.auth,{idToken:e}).catch(()=>{});return t?Ki._fromGetAccountInfoResponse(this.auth,t,e):null}return Ki._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new su(oo(vy),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||oo(vy);const c=id(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const w=await y._get(c);if(w){let S;if(typeof w=="string"){const R=await Td(e,{idToken:w}).catch(()=>{});if(!R)break;S=await Ki._fromGetAccountInfoResponse(e,R,w)}else S=Ki._fromJSON(e,w);y!==l&&(f=S),l=y;break}}catch{}const m=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new su(l,e,i):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new su(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ME(e))return"Blackberry";if(jE(e))return"Webos";if(OE(e))return"Safari";if((e.includes("chrome/")||DE(e))&&!e.includes("edge/"))return"Chrome";if(VE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function NE(n=sr()){return/firefox\//i.test(n)}function OE(n=sr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DE(n=sr()){return/crios\//i.test(n)}function LE(n=sr()){return/iemobile/i.test(n)}function VE(n=sr()){return/android/i.test(n)}function ME(n=sr()){return/blackberry/i.test(n)}function jE(n=sr()){return/webos/i.test(n)}function Lm(n=sr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function TP(n=sr()){var e;return Lm(n)&&!!((e=window.navigator)!=null&&e.standalone)}function IP(){return DS()&&document.documentMode===10}function FE(n=sr()){return Lm(n)||VE(n)||jE(n)||ME(n)||/windows phone/i.test(n)||LE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n,e=[]){let t;switch(n){case"Browser":t=Ey(sr());break;case"Worker":t=`${Ey(sr())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Tu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP(n,e={}){return Ns(n,"GET","/v2/passwordPolicy",go(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=6;class CP{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??PP,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wy(this),this.idTokenSubscription=new wy(this),this.beforeStateQueue=new SP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oo(t)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await su.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Td(this,{idToken:e}),i=await Ki._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Yr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=i==null?void 0:i._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(i=m.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Id(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yr(this.app))return Promise.reject(ao(this));const t=e?or(e):null;return t&&Be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yr(this.app)?Promise.reject(ao(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yr(this.app)?Promise.reject(ao(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AP(this),t=new CP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await wP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&oo(e)||this._popupRedirectResolver;Be(t,this,"argument-error"),this.redirectPersistenceManager=await su.create(this,[oo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,o);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&nP(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function _o(n){return or(n)}class wy{constructor(e){this.auth=e,this.observer=null,this.addObserver=BS(t=>this.observer=t)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kP(n){Kd=n}function zE(n){return Kd.loadJS(n)}function bP(){return Kd.recaptchaEnterpriseScript}function xP(){return Kd.gapiScript}function NP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class OP{constructor(){this.enterprise=new DP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class DP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const LP="recaptcha-enterprise",BE="NO_RECAPTCHA";class VP{constructor(e){this.type=LP,this.auth=_o(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{fP(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new dP(m);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,c(y.siteKey)}}).catch(m=>{f(m)})})}function o(l,c,f){const m=window.grecaptcha;gy(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(y=>{c(y)}).catch(()=>{c(BE)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OP().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(f=>{if(!t&&gy(window.grecaptcha))o(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=bP();m.length!==0&&(m+=f),zE(m).then(()=>{o(f,l,c)}).catch(y=>{c(y)})}}).catch(f=>{c(f)})})}}async function Ty(n,e,t,i=!1,o=!1){const l=new VP(n);let c;if(o)c=BE;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Sd(n,e,t,i,o){var l;if((l=n._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Ty(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Ty(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(n,e){const t=km(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(al(l,e??{}))return o;Ti(o,"already-initialized")}return t.initialize({options:e})}function jP(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(oo);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function FP(n,e,t){const i=_o(n);Be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=$E(e),{host:c,port:f}=UP(e),m=f===null?"":`:${f}`,y={url:`${l}//${c}${m}/`},w=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Be(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Be(al(y,i.config.emulator)&&al(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,wu(c)?(yE(`${l}//${c}${m}`),vE("Auth",!0)):zP()}function $E(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function UP(n){const e=$E(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Iy(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Iy(c)}}}function Iy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function zP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return so("not implemented")}_getIdTokenResponse(e){return so("not implemented")}_linkToIdToken(e,t){return so("not implemented")}_getReauthenticationResolver(e){return so("not implemented")}}async function BP(n,e){return Ns(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P(n,e){return jc(n,"POST","/v1/accounts:signInWithPassword",go(n,e))}async function qP(n,e){return Ns(n,"POST","/v1/accounts:sendOobCode",go(n,e))}async function HP(n,e){return qP(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WP(n,e){return jc(n,"POST","/v1/accounts:signInWithEmailLink",go(n,e))}async function KP(n,e){return jc(n,"POST","/v1/accounts:signInWithEmailLink",go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends Vm{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Sc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Sc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sd(e,t,"signInWithPassword",$P);case"emailLink":return WP(e,{email:this._email,oobCode:this._password});default:Ti(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sd(e,i,"signUpPassword",BP);case"emailLink":return KP(e,{idToken:t,email:this._email,oobCode:this._password});default:Ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(n,e){return jc(n,"POST","/v1/accounts:signInWithIdp",go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="http://localhost";class ul extends Vm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ul(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ti("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=t;if(!i||!o)return null;const c=new ul(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ou(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ou(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ou(e,t)}buildRequest(){const e={requestUri:GP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XP(n){const e=uc(cc(n)).link,t=e?uc(cc(e)).deep_link_id:null,i=uc(cc(n)).deep_link_id;return(i?uc(cc(i)).link:null)||i||t||e||n}class Mm{constructor(e){const t=uc(cc(e)),i=t.apiKey??null,o=t.oobCode??null,l=QP(t.mode??null);Be(i&&o&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=XP(e);try{return new Mm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(){this.providerId=Iu.PROVIDER_ID}static credential(e,t){return Sc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Mm.parseLink(t);return Be(i,"argument-error"),Sc._fromEmailAndCode(e,i.code,i.tenantId)}}Iu.PROVIDER_ID="password";Iu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Iu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends jm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends Fc{constructor(){super("facebook.com")}static credential(e){return ul._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jo.credentialFromTaggedObject(e)}static credentialFromError(e){return Jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jo.credential(e.oauthAccessToken)}catch{return null}}}Jo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ul._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return As.credential(t,i)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Fc{constructor(){super("github.com")}static credential(e){return ul._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yo.credential(e.oauthAccessToken)}catch{return null}}}Yo.GITHUB_SIGN_IN_METHOD="github.com";Yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends Fc{constructor(){super("twitter.com")}static credential(e,t){return ul._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Zo.credential(t,i)}catch{return null}}}Zo.TWITTER_SIGN_IN_METHOD="twitter.com";Zo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JP(n,e){return jc(n,"POST","/v1/accounts:signUp",go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Ki._fromIdTokenResponse(e,i,o),c=Sy(i);return new cl({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Sy(i);return new cl({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Sy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends mo{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Ad.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Ad(e,t,i,o)}}function qE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ad._fromErrorAndOperation(n,l,e,i):l})}async function YP(n,e,t=!1){const i=await du(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return cl._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(n,e,t=!1){const{auth:i}=n;if(Yr(i.app))return Promise.reject(ao(i));const o="reauthenticate";try{const l=await du(n,qE(i,o,e,n),t);Be(l.idToken,i,"internal-error");const c=Dm(l.idToken);Be(c,i,"internal-error");const{sub:f}=c;return Be(n.uid===f,i,"user-mismatch"),cl._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ti(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HE(n,e,t=!1){if(Yr(n.app))return Promise.reject(ao(n));const i="signIn",o=await qE(n,i,e),l=await cl._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function eC(n,e){return HE(_o(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WE(n){const e=_o(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tC(n,e,t){const i=_o(n);await Sd(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",HP)}async function nC(n,e,t){if(Yr(n.app))return Promise.reject(ao(n));const i=_o(n),c=await Sd(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JP).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&WE(n),m}),f=await cl._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(f.user),f}function KE(n,e,t){return Yr(n.app)?Promise.reject(ao(n)):eC(or(n),Iu.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&WE(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(n,e){return Ns(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xp(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=or(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await du(i,rC(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const f=i.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=i.displayName,f.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function Gd(n,e,t,i){return or(n).onIdTokenChanged(e,t,i)}function iC(n,e,t){return or(n).beforeAuthStateChanged(e,t)}function sC(n,e,t,i){return or(n).onAuthStateChanged(e,t,i)}function GE(n){return or(n).signOut()}const Pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pd,"1"),this.storage.removeItem(Pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=1e3,aC=10;class XE extends QE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);IP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,aC):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},oC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}XE.type="LOCAL";const lC=XE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends QE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}JE.type="SESSION";const YE=JE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Qd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(c).map(async y=>y(t.origin,l)),m=await uC(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const y=Fm("",20);o.port1.start();const w=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(R.data.response);break;default:clearTimeout(w),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(){return window}function hC(n){Ps().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(){return typeof Ps().WorkerGlobalScope<"u"&&typeof Ps().importScripts=="function"}async function dC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function pC(){return ZE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="firebaseLocalStorageDb",mC=1,Cd="firebaseLocalStorage",tw="fbase_key";class Uc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xd(n,e){return n.transaction([Cd],e?"readwrite":"readonly").objectStore(Cd)}function gC(){const n=indexedDB.deleteDatabase(ew);return new Uc(n).toPromise()}function em(){const n=indexedDB.open(ew,mC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Cd,{keyPath:tw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Cd)?e(i):(i.close(),await gC(),e(await em()))})})}async function Ay(n,e,t){const i=Xd(n,!0).put({[tw]:e,value:t});return new Uc(i).toPromise()}async function _C(n,e){const t=Xd(n,!1).get(e),i=await new Uc(t).toPromise();return i===void 0?null:i.value}function Py(n,e){const t=Xd(n,!0).delete(e);return new Uc(t).toPromise()}const yC=800,vC=3;class nw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>vC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qd._getInstance(pC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await dC(),!this.activeServiceWorker)return;this.sender=new cC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await em();return await Ay(e,Pd,"1"),await Py(e,Pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ay(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>_C(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Py(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Xd(o,!1).getAll();return new Uc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nw.type="LOCAL";const EC=nw;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(n,e){return e?oo(e):(Be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends Vm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ou(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ou(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ou(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wC(n){return HE(n.auth,new Um(n),n.bypassAuthState)}function TC(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),ZP(t,new Um(n),n.bypassAuthState)}async function IC(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),YP(t,new Um(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wC;case"linkViaPopup":case"linkViaRedirect":return IC;case"reauthViaPopup":case"reauthViaRedirect":return TC;default:Ti(this.auth,"internal-error")}}resolve(e){co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new Mc(2e3,1e4);async function sw(n,e,t){if(Yr(n.app))return Promise.reject(Xi(n,"operation-not-supported-in-this-environment"));const i=_o(n);rP(n,e,jm);const o=rw(i,t);return new rl(i,"signInViaPopup",e,o).executeNotNull()}class rl extends iw{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){co(this.filter.length===1,"Popup operations only handle one event");const e=Fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SC.get())};e()}}rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="pendingRedirect",sd=new Map;class PC extends iw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=sd.get(this.auth._key());if(!e){try{const i=await CC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}sd.set(this.auth._key(),e)}return this.bypassAuthState||sd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CC(n,e){const t=bC(e),i=kC(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function RC(n,e){sd.set(n._key(),e)}function kC(n){return oo(n._redirectPersistence)}function bC(n){return id(AC,n.config.apiKey,n.name)}async function xC(n,e,t=!1){if(Yr(n.app))return Promise.reject(ao(n));const i=_o(n),o=rw(i,e),c=await new PC(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=10*60*1e3;class OC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!ow(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(Xi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cy(e))}saveEventToCache(e){this.cachedEventUids.add(Cy(e)),this.lastProcessedEventTime=Date.now()}}function Cy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ow({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ow(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(n,e={}){return Ns(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MC=/^https?/;async function jC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await LC(n);for(const t of e)try{if(FC(t))return}catch{}Ti(n,"unauthorized-domain")}function FC(n){const e=Yp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!MC.test(t))return!1;if(VC.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new Mc(3e4,6e4);function Ry(){const n=Ps().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function zC(n){return new Promise((e,t)=>{var o,l,c;function i(){Ry(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ry(),t(Xi(n,"network-request-failed"))},timeout:UC.get()})}if((l=(o=Ps().gapi)==null?void 0:o.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=Ps().gapi)!=null&&c.load)i();else{const f=NP("iframefcb");return Ps()[f]=()=>{gapi.load?i():t(Xi(n,"network-request-failed"))},zE(`${xP()}?onload=${f}`).catch(m=>t(m))}}).catch(e=>{throw od=null,e})}let od=null;function BC(n){return od=od||zC(n),od}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new Mc(5e3,15e3),qC="__/auth/iframe",HC="emulator/auth/iframe",WC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GC(n){const e=n.config;Be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Om(e,HC):`https://${n.config.authDomain}/${qC}`,i={apiKey:e.apiKey,appName:n.name,v:Tu},o=KC.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Vc(i).slice(1)}`}async function QC(n){const e=await BC(n),t=Ps().gapi;return Be(t,n,"internal-error"),e.open({where:document.body,url:GC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WC,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=Xi(n,"network-request-failed"),f=Ps().setTimeout(()=>{l(c)},$C.get());function m(){Ps().clearTimeout(f),o(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JC=500,YC=600,ZC="_blank",eR="http://localhost";class ky{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tR(n,e,t,i=JC,o=YC){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m={...XC,width:i.toString(),height:o.toString(),top:l,left:c},y=sr().toLowerCase();t&&(f=DE(y)?ZC:t),NE(y)&&(e=e||eR,m.scrollbars="yes");const w=Object.entries(m).reduce((R,[B,F])=>`${R}${B}=${F},`,"");if(TP(y)&&f!=="_self")return nR(e||"",f),new ky(null);const S=window.open(e||"",f,w);Be(S,n,"popup-blocked");try{S.focus()}catch{}return new ky(S)}function nR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="__/auth/handler",iR="emulator/auth/handler",sR=encodeURIComponent("fac");async function by(n,e,t,i,o,l){Be(n.config.authDomain,n,"auth-domain-config-required"),Be(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Tu,eventId:o};if(e instanceof jm){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",zS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,S]of Object.entries({}))c[w]=S}if(e instanceof Fc){const w=e.getScopes().filter(S=>S!=="");w.length>0&&(c.scopes=w.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const m=await n._getAppCheckToken(),y=m?`#${sR}=${encodeURIComponent(m)}`:"";return`${oR(n)}?${Vc(f).slice(1)}${y}`}function oR({config:n}){return n.emulator?Om(n,iR):`https://${n.authDomain}/${rR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="webStorageSupport";class aR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YE,this._completeRedirectFn=xC,this._overrideRedirectResult=RC}async _openPopup(e,t,i,o){var c;co((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await by(e,t,i,Yp(),o);return tR(e,l,Fm())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await by(e,t,i,Yp(),o);return hC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(co(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await QC(e),i=new OC(e);return t.register("authEvent",o=>(Be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Np,{type:Np},o=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c[Np];l!==void 0&&t(!!l),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=jC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return FE()||OE()||Lm()}}const lR=aR;var xy="@firebase/auth",Ny="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hR(n){hu(new ll("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Be(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UE(n)},y=new RP(i,o,l,m);return jP(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),hu(new ll("auth-internal",e=>{const t=_o(e.getProvider("auth").getImmediate());return(i=>new uR(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),sa(xy,Ny,cR(n)),sa(xy,Ny,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=5*60,fR=_E("authIdTokenMaxAge")||dR;let Oy=null;const pR=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>fR)return;const o=t==null?void 0:t.token;Oy!==o&&(Oy=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function mR(n=TE()){const e=km(n,"auth");if(e.isInitialized())return e.getImmediate();const t=MP(n,{popupRedirectResolver:lR,persistence:[EC,lC,YE]}),i=_E("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=pR(l.toString());iC(t,c,()=>c(t.currentUser)),Gd(t,f=>c(f))}}const o=mE("auth");return o&&FP(t,`http://${o}`),t}function gR(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}kP({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=Xi("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",gR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hR("Browser");const _R={apiKey:"AIzaSyDFzUfv1enm5_lucOMz4tWh26GJfIG751M",authDomain:"sloane-hub.firebaseapp.com",projectId:"sloane-hub",storageBucket:"sloane-hub.firebasestorage.app",messagingSenderId:"664957061898",appId:"1:664957061898:web:71a4e19471132ef7ba88f3"},yR=bm(_R),bn=mR(yR);function aw(n,e){return function(){return n.apply(e,arguments)}}const{toString:vR}=Object.prototype,{getPrototypeOf:zm}=Object,{iterator:Jd,toStringTag:lw}=Symbol,Yd=(n=>e=>{const t=vR.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Yi=n=>(n=n.toLowerCase(),e=>Yd(e)===n),Zd=n=>e=>typeof e===n,{isArray:Su}=Array,Ac=Zd("undefined");function zc(n){return n!==null&&!Ac(n)&&n.constructor!==null&&!Ac(n.constructor)&&Dr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const uw=Yi("ArrayBuffer");function ER(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&uw(n.buffer),e}const wR=Zd("string"),Dr=Zd("function"),cw=Zd("number"),Bc=n=>n!==null&&typeof n=="object",TR=n=>n===!0||n===!1,ad=n=>{if(Yd(n)!=="object")return!1;const e=zm(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(lw in n)&&!(Jd in n)},IR=n=>{if(!Bc(n)||zc(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},SR=Yi("Date"),AR=Yi("File"),PR=Yi("Blob"),CR=Yi("FileList"),RR=n=>Bc(n)&&Dr(n.pipe),kR=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Dr(n.append)&&((e=Yd(n))==="formdata"||e==="object"&&Dr(n.toString)&&n.toString()==="[object FormData]"))},bR=Yi("URLSearchParams"),[xR,NR,OR,DR]=["ReadableStream","Request","Response","Headers"].map(Yi),LR=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $c(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,o;if(typeof n!="object"&&(n=[n]),Su(n))for(i=0,o=n.length;i<o;i++)e.call(null,n[i],i,n);else{if(zc(n))return;const l=t?Object.getOwnPropertyNames(n):Object.keys(n),c=l.length;let f;for(i=0;i<c;i++)f=l[i],e.call(null,n[f],f,n)}}function hw(n,e){if(zc(n))return null;e=e.toLowerCase();const t=Object.keys(n);let i=t.length,o;for(;i-- >0;)if(o=t[i],e===o.toLowerCase())return o;return null}const il=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dw=n=>!Ac(n)&&n!==il;function tm(){const{caseless:n}=dw(this)&&this||{},e={},t=(i,o)=>{const l=n&&hw(e,o)||o;ad(e[l])&&ad(i)?e[l]=tm(e[l],i):ad(i)?e[l]=tm({},i):Su(i)?e[l]=i.slice():e[l]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&$c(arguments[i],t);return e}const VR=(n,e,t,{allOwnKeys:i}={})=>($c(e,(o,l)=>{t&&Dr(o)?n[l]=aw(o,t):n[l]=o},{allOwnKeys:i}),n),MR=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),jR=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},FR=(n,e,t,i)=>{let o,l,c;const f={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),l=o.length;l-- >0;)c=o[l],(!i||i(c,n,e))&&!f[c]&&(e[c]=n[c],f[c]=!0);n=t!==!1&&zm(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},UR=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},zR=n=>{if(!n)return null;if(Su(n))return n;let e=n.length;if(!cw(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},BR=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&zm(Uint8Array)),$R=(n,e)=>{const i=(n&&n[Jd]).call(n);let o;for(;(o=i.next())&&!o.done;){const l=o.value;e.call(n,l[0],l[1])}},qR=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},HR=Yi("HTMLFormElement"),WR=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,o){return i.toUpperCase()+o}),Dy=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),KR=Yi("RegExp"),fw=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};$c(t,(o,l)=>{let c;(c=e(o,l,n))!==!1&&(i[l]=c||o)}),Object.defineProperties(n,i)},GR=n=>{fw(n,(e,t)=>{if(Dr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Dr(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},QR=(n,e)=>{const t={},i=o=>{o.forEach(l=>{t[l]=!0})};return Su(n)?i(n):i(String(n).split(e)),t},XR=()=>{},JR=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function YR(n){return!!(n&&Dr(n.append)&&n[lw]==="FormData"&&n[Jd])}const ZR=n=>{const e=new Array(10),t=(i,o)=>{if(Bc(i)){if(e.indexOf(i)>=0)return;if(zc(i))return i;if(!("toJSON"in i)){e[o]=i;const l=Su(i)?[]:{};return $c(i,(c,f)=>{const m=t(c,o+1);!Ac(m)&&(l[f]=m)}),e[o]=void 0,l}}return i};return t(n,0)},e1=Yi("AsyncFunction"),t1=n=>n&&(Bc(n)||Dr(n))&&Dr(n.then)&&Dr(n.catch),pw=((n,e)=>n?setImmediate:e?((t,i)=>(il.addEventListener("message",({source:o,data:l})=>{o===il&&l===t&&i.length&&i.shift()()},!1),o=>{i.push(o),il.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Dr(il.postMessage)),n1=typeof queueMicrotask<"u"?queueMicrotask.bind(il):typeof process<"u"&&process.nextTick||pw,r1=n=>n!=null&&Dr(n[Jd]),te={isArray:Su,isArrayBuffer:uw,isBuffer:zc,isFormData:kR,isArrayBufferView:ER,isString:wR,isNumber:cw,isBoolean:TR,isObject:Bc,isPlainObject:ad,isEmptyObject:IR,isReadableStream:xR,isRequest:NR,isResponse:OR,isHeaders:DR,isUndefined:Ac,isDate:SR,isFile:AR,isBlob:PR,isRegExp:KR,isFunction:Dr,isStream:RR,isURLSearchParams:bR,isTypedArray:BR,isFileList:CR,forEach:$c,merge:tm,extend:VR,trim:LR,stripBOM:MR,inherits:jR,toFlatObject:FR,kindOf:Yd,kindOfTest:Yi,endsWith:UR,toArray:zR,forEachEntry:$R,matchAll:qR,isHTMLForm:HR,hasOwnProperty:Dy,hasOwnProp:Dy,reduceDescriptors:fw,freezeMethods:GR,toObjectSet:QR,toCamelCase:WR,noop:XR,toFiniteNumber:JR,findKey:hw,global:il,isContextDefined:dw,isSpecCompliantForm:YR,toJSONObject:ZR,isAsyncFn:e1,isThenable:t1,setImmediate:pw,asap:n1,isIterable:r1};function Ye(n,e,t,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}te.inherits(Ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const mw=Ye.prototype,gw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{gw[n]={value:n}});Object.defineProperties(Ye,gw);Object.defineProperty(mw,"isAxiosError",{value:!0});Ye.from=(n,e,t,i,o,l)=>{const c=Object.create(mw);return te.toFlatObject(n,c,function(m){return m!==Error.prototype},f=>f!=="isAxiosError"),Ye.call(c,n.message,e,t,i,o),c.cause=n,c.name=n.name,l&&Object.assign(c,l),c};const i1=null;function nm(n){return te.isPlainObject(n)||te.isArray(n)}function _w(n){return te.endsWith(n,"[]")?n.slice(0,-2):n}function Ly(n,e,t){return n?n.concat(e).map(function(o,l){return o=_w(o),!t&&l?"["+o+"]":o}).join(t?".":""):e}function s1(n){return te.isArray(n)&&!n.some(nm)}const o1=te.toFlatObject(te,{},null,function(e){return/^is[A-Z]/.test(e)});function ef(n,e,t){if(!te.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=te.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(K,N){return!te.isUndefined(N[K])});const i=t.metaTokens,o=t.visitor||w,l=t.dots,c=t.indexes,m=(t.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(e);if(!te.isFunction(o))throw new TypeError("visitor must be a function");function y(F){if(F===null)return"";if(te.isDate(F))return F.toISOString();if(te.isBoolean(F))return F.toString();if(!m&&te.isBlob(F))throw new Ye("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(F)||te.isTypedArray(F)?m&&typeof Blob=="function"?new Blob([F]):Buffer.from(F):F}function w(F,K,N){let G=F;if(F&&!N&&typeof F=="object"){if(te.endsWith(K,"{}"))K=i?K:K.slice(0,-2),F=JSON.stringify(F);else if(te.isArray(F)&&s1(F)||(te.isFileList(F)||te.endsWith(K,"[]"))&&(G=te.toArray(F)))return K=_w(K),G.forEach(function(oe,ne){!(te.isUndefined(oe)||oe===null)&&e.append(c===!0?Ly([K],ne,l):c===null?K:K+"[]",y(oe))}),!1}return nm(F)?!0:(e.append(Ly(N,K,l),y(F)),!1)}const S=[],R=Object.assign(o1,{defaultVisitor:w,convertValue:y,isVisitable:nm});function B(F,K){if(!te.isUndefined(F)){if(S.indexOf(F)!==-1)throw Error("Circular reference detected in "+K.join("."));S.push(F),te.forEach(F,function(G,J){(!(te.isUndefined(G)||G===null)&&o.call(e,G,te.isString(J)?J.trim():J,K,R))===!0&&B(G,K?K.concat(J):[J])}),S.pop()}}if(!te.isObject(n))throw new TypeError("data must be an object");return B(n),e}function Vy(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Bm(n,e){this._pairs=[],n&&ef(n,this,e)}const yw=Bm.prototype;yw.append=function(e,t){this._pairs.push([e,t])};yw.toString=function(e){const t=e?function(i){return e.call(this,i,Vy)}:Vy;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function a1(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vw(n,e,t){if(!e)return n;const i=t&&t.encode||a1;te.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let l;if(o?l=o(e,t):l=te.isURLSearchParams(e)?e.toString():new Bm(e,t).toString(i),l){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class My{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){te.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Ew={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},l1=typeof URLSearchParams<"u"?URLSearchParams:Bm,u1=typeof FormData<"u"?FormData:null,c1=typeof Blob<"u"?Blob:null,h1={isBrowser:!0,classes:{URLSearchParams:l1,FormData:u1,Blob:c1},protocols:["http","https","file","blob","url","data"]},$m=typeof window<"u"&&typeof document<"u",rm=typeof navigator=="object"&&navigator||void 0,d1=$m&&(!rm||["ReactNative","NativeScript","NS"].indexOf(rm.product)<0),f1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",p1=$m&&window.location.href||"http://localhost",m1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$m,hasStandardBrowserEnv:d1,hasStandardBrowserWebWorkerEnv:f1,navigator:rm,origin:p1},Symbol.toStringTag,{value:"Module"})),ir={...m1,...h1};function g1(n,e){return ef(n,new ir.classes.URLSearchParams,{visitor:function(t,i,o,l){return ir.isNode&&te.isBuffer(t)?(this.append(i,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...e})}function _1(n){return te.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function y1(n){const e={},t=Object.keys(n);let i;const o=t.length;let l;for(i=0;i<o;i++)l=t[i],e[l]=n[l];return e}function ww(n){function e(t,i,o,l){let c=t[l++];if(c==="__proto__")return!0;const f=Number.isFinite(+c),m=l>=t.length;return c=!c&&te.isArray(o)?o.length:c,m?(te.hasOwnProp(o,c)?o[c]=[o[c],i]:o[c]=i,!f):((!o[c]||!te.isObject(o[c]))&&(o[c]=[]),e(t,i,o[c],l)&&te.isArray(o[c])&&(o[c]=y1(o[c])),!f)}if(te.isFormData(n)&&te.isFunction(n.entries)){const t={};return te.forEachEntry(n,(i,o)=>{e(_1(i),o,t,0)}),t}return null}function v1(n,e,t){if(te.isString(n))try{return(e||JSON.parse)(n),te.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const qc={transitional:Ew,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",o=i.indexOf("application/json")>-1,l=te.isObject(e);if(l&&te.isHTMLForm(e)&&(e=new FormData(e)),te.isFormData(e))return o?JSON.stringify(ww(e)):e;if(te.isArrayBuffer(e)||te.isBuffer(e)||te.isStream(e)||te.isFile(e)||te.isBlob(e)||te.isReadableStream(e))return e;if(te.isArrayBufferView(e))return e.buffer;if(te.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return g1(e,this.formSerializer).toString();if((f=te.isFileList(e))||i.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return ef(f?{"files[]":e}:e,m&&new m,this.formSerializer)}}return l||o?(t.setContentType("application/json",!1),v1(e)):e}],transformResponse:[function(e){const t=this.transitional||qc.transitional,i=t&&t.forcedJSONParsing,o=this.responseType==="json";if(te.isResponse(e)||te.isReadableStream(e))return e;if(e&&te.isString(e)&&(i&&!this.responseType||o)){const c=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(f){if(c)throw f.name==="SyntaxError"?Ye.from(f,Ye.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ir.classes.FormData,Blob:ir.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],n=>{qc.headers[n]={}});const E1=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),w1=n=>{const e={};let t,i,o;return n&&n.split(`
`).forEach(function(c){o=c.indexOf(":"),t=c.substring(0,o).trim().toLowerCase(),i=c.substring(o+1).trim(),!(!t||e[t]&&E1[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},jy=Symbol("internals");function ac(n){return n&&String(n).trim().toLowerCase()}function ld(n){return n===!1||n==null?n:te.isArray(n)?n.map(ld):String(n)}function T1(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const I1=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Op(n,e,t,i,o){if(te.isFunction(i))return i.call(this,e,t);if(o&&(e=t),!!te.isString(e)){if(te.isString(i))return e.indexOf(i)!==-1;if(te.isRegExp(i))return i.test(e)}}function S1(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function A1(n,e){const t=te.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(o,l,c){return this[i].call(this,e,o,l,c)},configurable:!0})})}let Lr=class{constructor(e){e&&this.set(e)}set(e,t,i){const o=this;function l(f,m,y){const w=ac(m);if(!w)throw new Error("header name must be a non-empty string");const S=te.findKey(o,w);(!S||o[S]===void 0||y===!0||y===void 0&&o[S]!==!1)&&(o[S||m]=ld(f))}const c=(f,m)=>te.forEach(f,(y,w)=>l(y,w,m));if(te.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(te.isString(e)&&(e=e.trim())&&!I1(e))c(w1(e),t);else if(te.isObject(e)&&te.isIterable(e)){let f={},m,y;for(const w of e){if(!te.isArray(w))throw TypeError("Object iterator must return a key-value pair");f[y=w[0]]=(m=f[y])?te.isArray(m)?[...m,w[1]]:[m,w[1]]:w[1]}c(f,t)}else e!=null&&l(t,e,i);return this}get(e,t){if(e=ac(e),e){const i=te.findKey(this,e);if(i){const o=this[i];if(!t)return o;if(t===!0)return T1(o);if(te.isFunction(t))return t.call(this,o,i);if(te.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ac(e),e){const i=te.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Op(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let o=!1;function l(c){if(c=ac(c),c){const f=te.findKey(i,c);f&&(!t||Op(i,i[f],f,t))&&(delete i[f],o=!0)}}return te.isArray(e)?e.forEach(l):l(e),o}clear(e){const t=Object.keys(this);let i=t.length,o=!1;for(;i--;){const l=t[i];(!e||Op(this,this[l],l,e,!0))&&(delete this[l],o=!0)}return o}normalize(e){const t=this,i={};return te.forEach(this,(o,l)=>{const c=te.findKey(i,l);if(c){t[c]=ld(o),delete t[l];return}const f=e?S1(l):String(l).trim();f!==l&&delete t[l],t[f]=ld(o),i[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return te.forEach(this,(i,o)=>{i!=null&&i!==!1&&(t[o]=e&&te.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(o=>i.set(o)),i}static accessor(e){const i=(this[jy]=this[jy]={accessors:{}}).accessors,o=this.prototype;function l(c){const f=ac(c);i[f]||(A1(o,c),i[f]=!0)}return te.isArray(e)?e.forEach(l):l(e),this}};Lr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(Lr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});te.freezeMethods(Lr);function Dp(n,e){const t=this||qc,i=e||t,o=Lr.from(i.headers);let l=i.data;return te.forEach(n,function(f){l=f.call(t,l,o.normalize(),e?e.status:void 0)}),o.normalize(),l}function Tw(n){return!!(n&&n.__CANCEL__)}function Au(n,e,t){Ye.call(this,n??"canceled",Ye.ERR_CANCELED,e,t),this.name="CanceledError"}te.inherits(Au,Ye,{__CANCEL__:!0});function Iw(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new Ye("Request failed with status code "+t.status,[Ye.ERR_BAD_REQUEST,Ye.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function P1(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function C1(n,e){n=n||10;const t=new Array(n),i=new Array(n);let o=0,l=0,c;return e=e!==void 0?e:1e3,function(m){const y=Date.now(),w=i[l];c||(c=y),t[o]=m,i[o]=y;let S=l,R=0;for(;S!==o;)R+=t[S++],S=S%n;if(o=(o+1)%n,o===l&&(l=(l+1)%n),y-c<e)return;const B=w&&y-w;return B?Math.round(R*1e3/B):void 0}}function R1(n,e){let t=0,i=1e3/e,o,l;const c=(y,w=Date.now())=>{t=w,o=null,l&&(clearTimeout(l),l=null),n(...y)};return[(...y)=>{const w=Date.now(),S=w-t;S>=i?c(y,w):(o=y,l||(l=setTimeout(()=>{l=null,c(o)},i-S)))},()=>o&&c(o)]}const Rd=(n,e,t=3)=>{let i=0;const o=C1(50,250);return R1(l=>{const c=l.loaded,f=l.lengthComputable?l.total:void 0,m=c-i,y=o(m),w=c<=f;i=c;const S={loaded:c,total:f,progress:f?c/f:void 0,bytes:m,rate:y||void 0,estimated:y&&f&&w?(f-c)/y:void 0,event:l,lengthComputable:f!=null,[e?"download":"upload"]:!0};n(S)},t)},Fy=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},Uy=n=>(...e)=>te.asap(()=>n(...e)),k1=ir.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ir.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ir.origin),ir.navigator&&/(msie|trident)/i.test(ir.navigator.userAgent)):()=>!0,b1=ir.hasStandardBrowserEnv?{write(n,e,t,i,o,l){const c=[n+"="+encodeURIComponent(e)];te.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),te.isString(i)&&c.push("path="+i),te.isString(o)&&c.push("domain="+o),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function x1(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function N1(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Sw(n,e,t){let i=!x1(e);return n&&(i||t==!1)?N1(n,e):e}const zy=n=>n instanceof Lr?{...n}:n;function hl(n,e){e=e||{};const t={};function i(y,w,S,R){return te.isPlainObject(y)&&te.isPlainObject(w)?te.merge.call({caseless:R},y,w):te.isPlainObject(w)?te.merge({},w):te.isArray(w)?w.slice():w}function o(y,w,S,R){if(te.isUndefined(w)){if(!te.isUndefined(y))return i(void 0,y,S,R)}else return i(y,w,S,R)}function l(y,w){if(!te.isUndefined(w))return i(void 0,w)}function c(y,w){if(te.isUndefined(w)){if(!te.isUndefined(y))return i(void 0,y)}else return i(void 0,w)}function f(y,w,S){if(S in e)return i(y,w);if(S in n)return i(void 0,y)}const m={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:f,headers:(y,w,S)=>o(zy(y),zy(w),S,!0)};return te.forEach(Object.keys({...n,...e}),function(w){const S=m[w]||o,R=S(n[w],e[w],w);te.isUndefined(R)&&S!==f||(t[w]=R)}),t}const Aw=n=>{const e=hl({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:l,headers:c,auth:f}=e;e.headers=c=Lr.from(c),e.url=vw(Sw(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),f&&c.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let m;if(te.isFormData(t)){if(ir.hasStandardBrowserEnv||ir.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((m=c.getContentType())!==!1){const[y,...w]=m?m.split(";").map(S=>S.trim()).filter(Boolean):[];c.setContentType([y||"multipart/form-data",...w].join("; "))}}if(ir.hasStandardBrowserEnv&&(i&&te.isFunction(i)&&(i=i(e)),i||i!==!1&&k1(e.url))){const y=o&&l&&b1.read(l);y&&c.set(o,y)}return e},O1=typeof XMLHttpRequest<"u",D1=O1&&function(n){return new Promise(function(t,i){const o=Aw(n);let l=o.data;const c=Lr.from(o.headers).normalize();let{responseType:f,onUploadProgress:m,onDownloadProgress:y}=o,w,S,R,B,F;function K(){B&&B(),F&&F(),o.cancelToken&&o.cancelToken.unsubscribe(w),o.signal&&o.signal.removeEventListener("abort",w)}let N=new XMLHttpRequest;N.open(o.method.toUpperCase(),o.url,!0),N.timeout=o.timeout;function G(){if(!N)return;const oe=Lr.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),ke={data:!f||f==="text"||f==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:oe,config:n,request:N};Iw(function(V){t(V),K()},function(V){i(V),K()},ke),N=null}"onloadend"in N?N.onloadend=G:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(G)},N.onabort=function(){N&&(i(new Ye("Request aborted",Ye.ECONNABORTED,n,N)),N=null)},N.onerror=function(){i(new Ye("Network Error",Ye.ERR_NETWORK,n,N)),N=null},N.ontimeout=function(){let ne=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ke=o.transitional||Ew;o.timeoutErrorMessage&&(ne=o.timeoutErrorMessage),i(new Ye(ne,ke.clarifyTimeoutError?Ye.ETIMEDOUT:Ye.ECONNABORTED,n,N)),N=null},l===void 0&&c.setContentType(null),"setRequestHeader"in N&&te.forEach(c.toJSON(),function(ne,ke){N.setRequestHeader(ke,ne)}),te.isUndefined(o.withCredentials)||(N.withCredentials=!!o.withCredentials),f&&f!=="json"&&(N.responseType=o.responseType),y&&([R,F]=Rd(y,!0),N.addEventListener("progress",R)),m&&N.upload&&([S,B]=Rd(m),N.upload.addEventListener("progress",S),N.upload.addEventListener("loadend",B)),(o.cancelToken||o.signal)&&(w=oe=>{N&&(i(!oe||oe.type?new Au(null,n,N):oe),N.abort(),N=null)},o.cancelToken&&o.cancelToken.subscribe(w),o.signal&&(o.signal.aborted?w():o.signal.addEventListener("abort",w)));const J=P1(o.url);if(J&&ir.protocols.indexOf(J)===-1){i(new Ye("Unsupported protocol "+J+":",Ye.ERR_BAD_REQUEST,n));return}N.send(l||null)})},L1=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,o;const l=function(y){if(!o){o=!0,f();const w=y instanceof Error?y:this.reason;i.abort(w instanceof Ye?w:new Au(w instanceof Error?w.message:w))}};let c=e&&setTimeout(()=>{c=null,l(new Ye(`timeout ${e} of ms exceeded`,Ye.ETIMEDOUT))},e);const f=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(y=>{y.unsubscribe?y.unsubscribe(l):y.removeEventListener("abort",l)}),n=null)};n.forEach(y=>y.addEventListener("abort",l));const{signal:m}=i;return m.unsubscribe=()=>te.asap(f),m}},V1=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,o;for(;i<t;)o=i+e,yield n.slice(i,o),i=o},M1=async function*(n,e){for await(const t of j1(n))yield*V1(t,e)},j1=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},By=(n,e,t,i)=>{const o=M1(n,e);let l=0,c,f=m=>{c||(c=!0,i&&i(m))};return new ReadableStream({async pull(m){try{const{done:y,value:w}=await o.next();if(y){f(),m.close();return}let S=w.byteLength;if(t){let R=l+=S;t(R)}m.enqueue(new Uint8Array(w))}catch(y){throw f(y),y}},cancel(m){return f(m),o.return()}},{highWaterMark:2})},tf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Pw=tf&&typeof ReadableStream=="function",F1=tf&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Cw=(n,...e)=>{try{return!!n(...e)}catch{return!1}},U1=Pw&&Cw(()=>{let n=!1;const e=new Request(ir.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),$y=64*1024,im=Pw&&Cw(()=>te.isReadableStream(new Response("").body)),kd={stream:im&&(n=>n.body)};tf&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!kd[e]&&(kd[e]=te.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new Ye(`Response type '${e}' is not supported`,Ye.ERR_NOT_SUPPORT,i)})})})(new Response);const z1=async n=>{if(n==null)return 0;if(te.isBlob(n))return n.size;if(te.isSpecCompliantForm(n))return(await new Request(ir.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(te.isArrayBufferView(n)||te.isArrayBuffer(n))return n.byteLength;if(te.isURLSearchParams(n)&&(n=n+""),te.isString(n))return(await F1(n)).byteLength},B1=async(n,e)=>{const t=te.toFiniteNumber(n.getContentLength());return t??z1(e)},$1=tf&&(async n=>{let{url:e,method:t,data:i,signal:o,cancelToken:l,timeout:c,onDownloadProgress:f,onUploadProgress:m,responseType:y,headers:w,withCredentials:S="same-origin",fetchOptions:R}=Aw(n);y=y?(y+"").toLowerCase():"text";let B=L1([o,l&&l.toAbortSignal()],c),F;const K=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let N;try{if(m&&U1&&t!=="get"&&t!=="head"&&(N=await B1(w,i))!==0){let ke=new Request(e,{method:"POST",body:i,duplex:"half"}),je;if(te.isFormData(i)&&(je=ke.headers.get("content-type"))&&w.setContentType(je),ke.body){const[V,k]=Fy(N,Rd(Uy(m)));i=By(ke.body,$y,V,k)}}te.isString(S)||(S=S?"include":"omit");const G="credentials"in Request.prototype;F=new Request(e,{...R,signal:B,method:t.toUpperCase(),headers:w.normalize().toJSON(),body:i,duplex:"half",credentials:G?S:void 0});let J=await fetch(F,R);const oe=im&&(y==="stream"||y==="response");if(im&&(f||oe&&K)){const ke={};["status","statusText","headers"].forEach(x=>{ke[x]=J[x]});const je=te.toFiniteNumber(J.headers.get("content-length")),[V,k]=f&&Fy(je,Rd(Uy(f),!0))||[];J=new Response(By(J.body,$y,V,()=>{k&&k(),K&&K()}),ke)}y=y||"text";let ne=await kd[te.findKey(kd,y)||"text"](J,n);return!oe&&K&&K(),await new Promise((ke,je)=>{Iw(ke,je,{data:ne,headers:Lr.from(J.headers),status:J.status,statusText:J.statusText,config:n,request:F})})}catch(G){throw K&&K(),G&&G.name==="TypeError"&&/Load failed|fetch/i.test(G.message)?Object.assign(new Ye("Network Error",Ye.ERR_NETWORK,n,F),{cause:G.cause||G}):Ye.from(G,G&&G.code,n,F)}}),sm={http:i1,xhr:D1,fetch:$1};te.forEach(sm,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const qy=n=>`- ${n}`,q1=n=>te.isFunction(n)||n===null||n===!1,Rw={getAdapter:n=>{n=te.isArray(n)?n:[n];const{length:e}=n;let t,i;const o={};for(let l=0;l<e;l++){t=n[l];let c;if(i=t,!q1(t)&&(i=sm[(c=String(t)).toLowerCase()],i===void 0))throw new Ye(`Unknown adapter '${c}'`);if(i)break;o[c||"#"+l]=i}if(!i){const l=Object.entries(o).map(([f,m])=>`adapter ${f} `+(m===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(qy).join(`
`):" "+qy(l[0]):"as no adapter specified";throw new Ye("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:sm};function Lp(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Au(null,n)}function Hy(n){return Lp(n),n.headers=Lr.from(n.headers),n.data=Dp.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Rw.getAdapter(n.adapter||qc.adapter)(n).then(function(i){return Lp(n),i.data=Dp.call(n,n.transformResponse,i),i.headers=Lr.from(i.headers),i},function(i){return Tw(i)||(Lp(n),i&&i.response&&(i.response.data=Dp.call(n,n.transformResponse,i.response),i.response.headers=Lr.from(i.response.headers))),Promise.reject(i)})}const kw="1.11.0",nf={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{nf[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const Wy={};nf.transitional=function(e,t,i){function o(l,c){return"[Axios v"+kw+"] Transitional option '"+l+"'"+c+(i?". "+i:"")}return(l,c,f)=>{if(e===!1)throw new Ye(o(c," has been removed"+(t?" in "+t:"")),Ye.ERR_DEPRECATED);return t&&!Wy[c]&&(Wy[c]=!0,console.warn(o(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,c,f):!0}};nf.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function H1(n,e,t){if(typeof n!="object")throw new Ye("options must be an object",Ye.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let o=i.length;for(;o-- >0;){const l=i[o],c=e[l];if(c){const f=n[l],m=f===void 0||c(f,l,n);if(m!==!0)throw new Ye("option "+l+" must be "+m,Ye.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ye("Unknown option "+l,Ye.ERR_BAD_OPTION)}}const ud={assertOptions:H1,validators:nf},Ts=ud.validators;let ol=class{constructor(e){this.defaults=e||{},this.interceptors={request:new My,response:new My}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=hl(this.defaults,t);const{transitional:i,paramsSerializer:o,headers:l}=t;i!==void 0&&ud.assertOptions(i,{silentJSONParsing:Ts.transitional(Ts.boolean),forcedJSONParsing:Ts.transitional(Ts.boolean),clarifyTimeoutError:Ts.transitional(Ts.boolean)},!1),o!=null&&(te.isFunction(o)?t.paramsSerializer={serialize:o}:ud.assertOptions(o,{encode:Ts.function,serialize:Ts.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ud.assertOptions(t,{baseUrl:Ts.spelling("baseURL"),withXsrfToken:Ts.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=l&&te.merge(l.common,l[t.method]);l&&te.forEach(["delete","get","head","post","put","patch","common"],F=>{delete l[F]}),t.headers=Lr.concat(c,l);const f=[];let m=!0;this.interceptors.request.forEach(function(K){typeof K.runWhen=="function"&&K.runWhen(t)===!1||(m=m&&K.synchronous,f.unshift(K.fulfilled,K.rejected))});const y=[];this.interceptors.response.forEach(function(K){y.push(K.fulfilled,K.rejected)});let w,S=0,R;if(!m){const F=[Hy.bind(this),void 0];for(F.unshift(...f),F.push(...y),R=F.length,w=Promise.resolve(t);S<R;)w=w.then(F[S++],F[S++]);return w}R=f.length;let B=t;for(S=0;S<R;){const F=f[S++],K=f[S++];try{B=F(B)}catch(N){K.call(this,N);break}}try{w=Hy.call(this,B)}catch(F){return Promise.reject(F)}for(S=0,R=y.length;S<R;)w=w.then(y[S++],y[S++]);return w}getUri(e){e=hl(this.defaults,e);const t=Sw(e.baseURL,e.url,e.allowAbsoluteUrls);return vw(t,e.params,e.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(e){ol.prototype[e]=function(t,i){return this.request(hl(i||{},{method:e,url:t,data:(i||{}).data}))}});te.forEach(["post","put","patch"],function(e){function t(i){return function(l,c,f){return this.request(hl(f||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}ol.prototype[e]=t(),ol.prototype[e+"Form"]=t(!0)});let W1=class bw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const i=this;this.promise.then(o=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](o);i._listeners=null}),this.promise.then=o=>{let l;const c=new Promise(f=>{i.subscribe(f),l=f}).then(o);return c.cancel=function(){i.unsubscribe(l)},c},e(function(l,c,f){i.reason||(i.reason=new Au(l,c,f),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new bw(function(o){e=o}),cancel:e}}};function K1(n){return function(t){return n.apply(null,t)}}function G1(n){return te.isObject(n)&&n.isAxiosError===!0}const om={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(om).forEach(([n,e])=>{om[e]=n});function xw(n){const e=new ol(n),t=aw(ol.prototype.request,e);return te.extend(t,ol.prototype,e,{allOwnKeys:!0}),te.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return xw(hl(n,o))},t}const tn=xw(qc);tn.Axios=ol;tn.CanceledError=Au;tn.CancelToken=W1;tn.isCancel=Tw;tn.VERSION=kw;tn.toFormData=ef;tn.AxiosError=Ye;tn.Cancel=tn.CanceledError;tn.all=function(e){return Promise.all(e)};tn.spread=K1;tn.isAxiosError=G1;tn.mergeConfig=hl;tn.AxiosHeaders=Lr;tn.formToJSON=n=>ww(te.isHTMLForm(n)?new FormData(n):n);tn.getAdapter=Rw.getAdapter;tn.HttpStatusCode=om;tn.default=tn;const{Axios:xD,AxiosError:ND,CanceledError:OD,isCancel:DD,CancelToken:LD,VERSION:VD,all:MD,Cancel:jD,isAxiosError:FD,spread:UD,toFormData:zD,AxiosHeaders:BD,HttpStatusCode:$D,formToJSON:qD,getAdapter:HD,mergeConfig:WD}=tn;function Q1(){const n=typeof window<"u"?window.location.hostname:"localhost",e=typeof window<"u"?window.location.protocol:"http:",t=i=>`${e}//${n}:${i}`;return[t(5e3),t(5001),t(5500)]}const hc=Q1();let am=0,Nw=hc[am];const Gi=tn.create({baseURL:Nw});Gi.interceptors.request.use(async n=>{const e=bn.currentUser;if(e){const i=await e.getIdToken();n.headers.Authorization=`Bearer ${i}`}const t=sessionStorage.getItem("tenantId")||"public";return n.headers["x-tenant-id"]||(n.headers["x-tenant-id"]=t),n});Gi.interceptors.response.use(null,async n=>{var l,c,f;const e=n.config||{};if(((l=n.response)==null?void 0:l.status)===401&&!e._retriedAuth)return e._retriedAuth=!0,await((c=bn.currentUser)==null?void 0:c.getIdToken(!0)),Gi(e);const t=(f=n.response)==null?void 0:f.status;if((!n.response||n.code==="ERR_NETWORK"||t&&t!==401)&&hc.length>1){const m=Number(e._switchAttempts||0);if(m<hc.length-1){e._switchAttempts=m+1;const y=Math.min(am+1,hc.length-1),w=hc[y];return am=y,Nw=w,Gi.defaults.baseURL=w,e.baseURL=w,Gi(e)}}throw n});const KD=Object.freeze(Object.defineProperty({__proto__:null,api:Gi},Symbol.toStringTag,{value:"Module"})),X1={apiKey:"AIzaSyDFzUfv1enm5_lucOMz4tWh26GJfIG751M",authDomain:"sloane-hub.firebaseapp.com",projectId:"sloane-hub",storageBucket:"sloane-hub.firebasestorage.app",messagingSenderId:"664957061898",appId:"1:664957061898:web:71a4e19471132ef7ba88f3"},J1=bm(X1);var Ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oa,Ow;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,k){function x(){}x.prototype=k.prototype,V.D=k.prototype,V.prototype=new x,V.prototype.constructor=V,V.C=function(D,U,q){for(var O=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)O[Lt-2]=arguments[Lt];return k.prototype[U].apply(D,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,k,x){x||(x=0);var D=Array(16);if(typeof k=="string")for(var U=0;16>U;++U)D[U]=k.charCodeAt(x++)|k.charCodeAt(x++)<<8|k.charCodeAt(x++)<<16|k.charCodeAt(x++)<<24;else for(U=0;16>U;++U)D[U]=k[x++]|k[x++]<<8|k[x++]<<16|k[x++]<<24;k=V.g[0],x=V.g[1],U=V.g[2];var q=V.g[3],O=k+(q^x&(U^q))+D[0]+3614090360&4294967295;k=x+(O<<7&4294967295|O>>>25),O=q+(U^k&(x^U))+D[1]+3905402710&4294967295,q=k+(O<<12&4294967295|O>>>20),O=U+(x^q&(k^x))+D[2]+606105819&4294967295,U=q+(O<<17&4294967295|O>>>15),O=x+(k^U&(q^k))+D[3]+3250441966&4294967295,x=U+(O<<22&4294967295|O>>>10),O=k+(q^x&(U^q))+D[4]+4118548399&4294967295,k=x+(O<<7&4294967295|O>>>25),O=q+(U^k&(x^U))+D[5]+1200080426&4294967295,q=k+(O<<12&4294967295|O>>>20),O=U+(x^q&(k^x))+D[6]+2821735955&4294967295,U=q+(O<<17&4294967295|O>>>15),O=x+(k^U&(q^k))+D[7]+4249261313&4294967295,x=U+(O<<22&4294967295|O>>>10),O=k+(q^x&(U^q))+D[8]+1770035416&4294967295,k=x+(O<<7&4294967295|O>>>25),O=q+(U^k&(x^U))+D[9]+2336552879&4294967295,q=k+(O<<12&4294967295|O>>>20),O=U+(x^q&(k^x))+D[10]+4294925233&4294967295,U=q+(O<<17&4294967295|O>>>15),O=x+(k^U&(q^k))+D[11]+2304563134&4294967295,x=U+(O<<22&4294967295|O>>>10),O=k+(q^x&(U^q))+D[12]+1804603682&4294967295,k=x+(O<<7&4294967295|O>>>25),O=q+(U^k&(x^U))+D[13]+4254626195&4294967295,q=k+(O<<12&4294967295|O>>>20),O=U+(x^q&(k^x))+D[14]+2792965006&4294967295,U=q+(O<<17&4294967295|O>>>15),O=x+(k^U&(q^k))+D[15]+1236535329&4294967295,x=U+(O<<22&4294967295|O>>>10),O=k+(U^q&(x^U))+D[1]+4129170786&4294967295,k=x+(O<<5&4294967295|O>>>27),O=q+(x^U&(k^x))+D[6]+3225465664&4294967295,q=k+(O<<9&4294967295|O>>>23),O=U+(k^x&(q^k))+D[11]+643717713&4294967295,U=q+(O<<14&4294967295|O>>>18),O=x+(q^k&(U^q))+D[0]+3921069994&4294967295,x=U+(O<<20&4294967295|O>>>12),O=k+(U^q&(x^U))+D[5]+3593408605&4294967295,k=x+(O<<5&4294967295|O>>>27),O=q+(x^U&(k^x))+D[10]+38016083&4294967295,q=k+(O<<9&4294967295|O>>>23),O=U+(k^x&(q^k))+D[15]+3634488961&4294967295,U=q+(O<<14&4294967295|O>>>18),O=x+(q^k&(U^q))+D[4]+3889429448&4294967295,x=U+(O<<20&4294967295|O>>>12),O=k+(U^q&(x^U))+D[9]+568446438&4294967295,k=x+(O<<5&4294967295|O>>>27),O=q+(x^U&(k^x))+D[14]+3275163606&4294967295,q=k+(O<<9&4294967295|O>>>23),O=U+(k^x&(q^k))+D[3]+4107603335&4294967295,U=q+(O<<14&4294967295|O>>>18),O=x+(q^k&(U^q))+D[8]+1163531501&4294967295,x=U+(O<<20&4294967295|O>>>12),O=k+(U^q&(x^U))+D[13]+2850285829&4294967295,k=x+(O<<5&4294967295|O>>>27),O=q+(x^U&(k^x))+D[2]+4243563512&4294967295,q=k+(O<<9&4294967295|O>>>23),O=U+(k^x&(q^k))+D[7]+1735328473&4294967295,U=q+(O<<14&4294967295|O>>>18),O=x+(q^k&(U^q))+D[12]+2368359562&4294967295,x=U+(O<<20&4294967295|O>>>12),O=k+(x^U^q)+D[5]+4294588738&4294967295,k=x+(O<<4&4294967295|O>>>28),O=q+(k^x^U)+D[8]+2272392833&4294967295,q=k+(O<<11&4294967295|O>>>21),O=U+(q^k^x)+D[11]+1839030562&4294967295,U=q+(O<<16&4294967295|O>>>16),O=x+(U^q^k)+D[14]+4259657740&4294967295,x=U+(O<<23&4294967295|O>>>9),O=k+(x^U^q)+D[1]+2763975236&4294967295,k=x+(O<<4&4294967295|O>>>28),O=q+(k^x^U)+D[4]+1272893353&4294967295,q=k+(O<<11&4294967295|O>>>21),O=U+(q^k^x)+D[7]+4139469664&4294967295,U=q+(O<<16&4294967295|O>>>16),O=x+(U^q^k)+D[10]+3200236656&4294967295,x=U+(O<<23&4294967295|O>>>9),O=k+(x^U^q)+D[13]+681279174&4294967295,k=x+(O<<4&4294967295|O>>>28),O=q+(k^x^U)+D[0]+3936430074&4294967295,q=k+(O<<11&4294967295|O>>>21),O=U+(q^k^x)+D[3]+3572445317&4294967295,U=q+(O<<16&4294967295|O>>>16),O=x+(U^q^k)+D[6]+76029189&4294967295,x=U+(O<<23&4294967295|O>>>9),O=k+(x^U^q)+D[9]+3654602809&4294967295,k=x+(O<<4&4294967295|O>>>28),O=q+(k^x^U)+D[12]+3873151461&4294967295,q=k+(O<<11&4294967295|O>>>21),O=U+(q^k^x)+D[15]+530742520&4294967295,U=q+(O<<16&4294967295|O>>>16),O=x+(U^q^k)+D[2]+3299628645&4294967295,x=U+(O<<23&4294967295|O>>>9),O=k+(U^(x|~q))+D[0]+4096336452&4294967295,k=x+(O<<6&4294967295|O>>>26),O=q+(x^(k|~U))+D[7]+1126891415&4294967295,q=k+(O<<10&4294967295|O>>>22),O=U+(k^(q|~x))+D[14]+2878612391&4294967295,U=q+(O<<15&4294967295|O>>>17),O=x+(q^(U|~k))+D[5]+4237533241&4294967295,x=U+(O<<21&4294967295|O>>>11),O=k+(U^(x|~q))+D[12]+1700485571&4294967295,k=x+(O<<6&4294967295|O>>>26),O=q+(x^(k|~U))+D[3]+2399980690&4294967295,q=k+(O<<10&4294967295|O>>>22),O=U+(k^(q|~x))+D[10]+4293915773&4294967295,U=q+(O<<15&4294967295|O>>>17),O=x+(q^(U|~k))+D[1]+2240044497&4294967295,x=U+(O<<21&4294967295|O>>>11),O=k+(U^(x|~q))+D[8]+1873313359&4294967295,k=x+(O<<6&4294967295|O>>>26),O=q+(x^(k|~U))+D[15]+4264355552&4294967295,q=k+(O<<10&4294967295|O>>>22),O=U+(k^(q|~x))+D[6]+2734768916&4294967295,U=q+(O<<15&4294967295|O>>>17),O=x+(q^(U|~k))+D[13]+1309151649&4294967295,x=U+(O<<21&4294967295|O>>>11),O=k+(U^(x|~q))+D[4]+4149444226&4294967295,k=x+(O<<6&4294967295|O>>>26),O=q+(x^(k|~U))+D[11]+3174756917&4294967295,q=k+(O<<10&4294967295|O>>>22),O=U+(k^(q|~x))+D[2]+718787259&4294967295,U=q+(O<<15&4294967295|O>>>17),O=x+(q^(U|~k))+D[9]+3951481745&4294967295,V.g[0]=V.g[0]+k&4294967295,V.g[1]=V.g[1]+(U+(O<<21&4294967295|O>>>11))&4294967295,V.g[2]=V.g[2]+U&4294967295,V.g[3]=V.g[3]+q&4294967295}i.prototype.u=function(V,k){k===void 0&&(k=V.length);for(var x=k-this.blockSize,D=this.B,U=this.h,q=0;q<k;){if(U==0)for(;q<=x;)o(this,V,q),q+=this.blockSize;if(typeof V=="string"){for(;q<k;)if(D[U++]=V.charCodeAt(q++),U==this.blockSize){o(this,D),U=0;break}}else for(;q<k;)if(D[U++]=V[q++],U==this.blockSize){o(this,D),U=0;break}}this.h=U,this.o+=k},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var k=1;k<V.length-8;++k)V[k]=0;var x=8*this.o;for(k=V.length-8;k<V.length;++k)V[k]=x&255,x/=256;for(this.u(V),V=Array(16),k=x=0;4>k;++k)for(var D=0;32>D;D+=8)V[x++]=this.g[k]>>>D&255;return V};function l(V,k){var x=f;return Object.prototype.hasOwnProperty.call(x,V)?x[V]:x[V]=k(V)}function c(V,k){this.h=k;for(var x=[],D=!0,U=V.length-1;0<=U;U--){var q=V[U]|0;D&&q==k||(x[U]=q,D=!1)}this.g=x}var f={};function m(V){return-128<=V&&128>V?l(V,function(k){return new c([k|0],0>k?-1:0)}):new c([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return S;if(0>V)return N(y(-V));for(var k=[],x=1,D=0;V>=x;D++)k[D]=V/x|0,x*=4294967296;return new c(k,0)}function w(V,k){if(V.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(V.charAt(0)=="-")return N(w(V.substring(1),k));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=y(Math.pow(k,8)),D=S,U=0;U<V.length;U+=8){var q=Math.min(8,V.length-U),O=parseInt(V.substring(U,U+q),k);8>q?(q=y(Math.pow(k,q)),D=D.j(q).add(y(O))):(D=D.j(x),D=D.add(y(O)))}return D}var S=m(0),R=m(1),B=m(16777216);n=c.prototype,n.m=function(){if(K(this))return-N(this).m();for(var V=0,k=1,x=0;x<this.g.length;x++){var D=this.i(x);V+=(0<=D?D:4294967296+D)*k,k*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(F(this))return"0";if(K(this))return"-"+N(this).toString(V);for(var k=y(Math.pow(V,6)),x=this,D="";;){var U=ne(x,k).g;x=G(x,U.j(k));var q=((0<x.g.length?x.g[0]:x.h)>>>0).toString(V);if(x=U,F(x))return q+D;for(;6>q.length;)q="0"+q;D=q+D}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function F(V){if(V.h!=0)return!1;for(var k=0;k<V.g.length;k++)if(V.g[k]!=0)return!1;return!0}function K(V){return V.h==-1}n.l=function(V){return V=G(this,V),K(V)?-1:F(V)?0:1};function N(V){for(var k=V.g.length,x=[],D=0;D<k;D++)x[D]=~V.g[D];return new c(x,~V.h).add(R)}n.abs=function(){return K(this)?N(this):this},n.add=function(V){for(var k=Math.max(this.g.length,V.g.length),x=[],D=0,U=0;U<=k;U++){var q=D+(this.i(U)&65535)+(V.i(U)&65535),O=(q>>>16)+(this.i(U)>>>16)+(V.i(U)>>>16);D=O>>>16,q&=65535,O&=65535,x[U]=O<<16|q}return new c(x,x[x.length-1]&-2147483648?-1:0)};function G(V,k){return V.add(N(k))}n.j=function(V){if(F(this)||F(V))return S;if(K(this))return K(V)?N(this).j(N(V)):N(N(this).j(V));if(K(V))return N(this.j(N(V)));if(0>this.l(B)&&0>V.l(B))return y(this.m()*V.m());for(var k=this.g.length+V.g.length,x=[],D=0;D<2*k;D++)x[D]=0;for(D=0;D<this.g.length;D++)for(var U=0;U<V.g.length;U++){var q=this.i(D)>>>16,O=this.i(D)&65535,Lt=V.i(U)>>>16,ln=V.i(U)&65535;x[2*D+2*U]+=O*ln,J(x,2*D+2*U),x[2*D+2*U+1]+=q*ln,J(x,2*D+2*U+1),x[2*D+2*U+1]+=O*Lt,J(x,2*D+2*U+1),x[2*D+2*U+2]+=q*Lt,J(x,2*D+2*U+2)}for(D=0;D<k;D++)x[D]=x[2*D+1]<<16|x[2*D];for(D=k;D<2*k;D++)x[D]=0;return new c(x,0)};function J(V,k){for(;(V[k]&65535)!=V[k];)V[k+1]+=V[k]>>>16,V[k]&=65535,k++}function oe(V,k){this.g=V,this.h=k}function ne(V,k){if(F(k))throw Error("division by zero");if(F(V))return new oe(S,S);if(K(V))return k=ne(N(V),k),new oe(N(k.g),N(k.h));if(K(k))return k=ne(V,N(k)),new oe(N(k.g),k.h);if(30<V.g.length){if(K(V)||K(k))throw Error("slowDivide_ only works with positive integers.");for(var x=R,D=k;0>=D.l(V);)x=ke(x),D=ke(D);var U=je(x,1),q=je(D,1);for(D=je(D,2),x=je(x,2);!F(D);){var O=q.add(D);0>=O.l(V)&&(U=U.add(x),q=O),D=je(D,1),x=je(x,1)}return k=G(V,U.j(k)),new oe(U,k)}for(U=S;0<=V.l(k);){for(x=Math.max(1,Math.floor(V.m()/k.m())),D=Math.ceil(Math.log(x)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),q=y(x),O=q.j(k);K(O)||0<O.l(V);)x-=D,q=y(x),O=q.j(k);F(q)&&(q=R),U=U.add(q),V=G(V,O)}return new oe(U,V)}n.A=function(V){return ne(this,V).h},n.and=function(V){for(var k=Math.max(this.g.length,V.g.length),x=[],D=0;D<k;D++)x[D]=this.i(D)&V.i(D);return new c(x,this.h&V.h)},n.or=function(V){for(var k=Math.max(this.g.length,V.g.length),x=[],D=0;D<k;D++)x[D]=this.i(D)|V.i(D);return new c(x,this.h|V.h)},n.xor=function(V){for(var k=Math.max(this.g.length,V.g.length),x=[],D=0;D<k;D++)x[D]=this.i(D)^V.i(D);return new c(x,this.h^V.h)};function ke(V){for(var k=V.g.length+1,x=[],D=0;D<k;D++)x[D]=V.i(D)<<1|V.i(D-1)>>>31;return new c(x,V.h)}function je(V,k){var x=k>>5;k%=32;for(var D=V.g.length-x,U=[],q=0;q<D;q++)U[q]=0<k?V.i(q+x)>>>k|V.i(q+x+1)<<32-k:V.i(q+x);return new c(U,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Ow=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=w,oa=c}).apply(typeof Ky<"u"?Ky:typeof self<"u"?self:typeof window<"u"?window:{});var Qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dw,dc,Lw,cd,lm,Vw,Mw,jw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,E){return u==Array.prototype||u==Object.prototype||(u[g]=E.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qh=="object"&&Qh];for(var g=0;g<u.length;++g){var E=u[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function o(u,g){if(g)e:{var E=i;u=u.split(".");for(var P=0;P<u.length-1;P++){var W=u[P];if(!(W in E))break e;E=E[W]}u=u[u.length-1],P=E[u],g=g(P),g!=P&&g!=null&&e(E,u,{configurable:!0,writable:!0,value:g})}}function l(u,g){u instanceof String&&(u+="");var E=0,P=!1,W={next:function(){if(!P&&E<u.length){var ee=E++;return{value:g(ee,u[ee]),done:!1}}return P=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}o("Array.prototype.values",function(u){return u||function(){return l(this,function(g,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function w(u,g,E){return u.call.apply(u.bind,arguments)}function S(u,g,E){if(!u)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,P),u.apply(g,W)}}return function(){return u.apply(g,arguments)}}function R(u,g,E){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:S,R.apply(null,arguments)}function B(u,g){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function F(u,g){function E(){}E.prototype=g.prototype,u.aa=g.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(P,W,ee){for(var ye=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)ye[gt-2]=arguments[gt];return g.prototype[W].apply(P,ye)}}function K(u){const g=u.length;if(0<g){const E=Array(g);for(let P=0;P<g;P++)E[P]=u[P];return E}return[]}function N(u,g){for(let E=1;E<arguments.length;E++){const P=arguments[E];if(m(P)){const W=u.length||0,ee=P.length||0;u.length=W+ee;for(let ye=0;ye<ee;ye++)u[W+ye]=P[ye]}else u.push(P)}}class G{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function J(u){return/^[\s\xa0]*$/.test(u)}function oe(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ne(u){return ne[" "](u),u}ne[" "]=function(){};var ke=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function je(u,g,E){for(const P in u)g.call(E,u[P],P,u)}function V(u,g){for(const E in u)g.call(void 0,u[E],E,u)}function k(u){const g={};for(const E in u)g[E]=u[E];return g}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,g){let E,P;for(let W=1;W<arguments.length;W++){P=arguments[W];for(E in P)u[E]=P[E];for(let ee=0;ee<x.length;ee++)E=x[ee],Object.prototype.hasOwnProperty.call(P,E)&&(u[E]=P[E])}}function U(u){var g=1;u=u.split(":");const E=[];for(;0<g&&u.length;)E.push(u.shift()),g--;return u.length&&E.push(u.join(":")),E}function q(u){f.setTimeout(()=>{throw u},0)}function O(){var u=Le;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Lt{constructor(){this.h=this.g=null}add(g,E){const P=ln.get();P.set(g,E),this.h?this.h.next=P:this.g=P,this.h=P}}var ln=new G(()=>new un,u=>u.reset());class un{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,ve=!1,Le=new Lt,H=()=>{const u=f.Promise.resolve(void 0);dt=()=>{u.then($)}};var $=()=>{for(var u;u=O();){try{u.h.call(u.g)}catch(E){q(E)}var g=ln;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ve=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ne(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}Ne.prototype.h=function(){this.defaultPrevented=!0};var ze=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};f.addEventListener("test",E,g),f.removeEventListener("test",E,g)}catch{}return u}();function Qe(u,g){if(Ne.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ke){e:{try{ne(g.nodeName);var W=!0;break e}catch{}W=!1}W||(g=null)}}else E=="mouseover"?g=u.fromElement:E=="mouseout"&&(g=u.toElement);this.relatedTarget=g,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:We[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Qe.aa.h.call(this)}}F(Qe,Ne);var We={2:"touch",3:"pen",4:"mouse"};Qe.prototype.h=function(){Qe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),_e=0;function mt(u,g,E,P,W){this.listener=u,this.proxy=null,this.src=g,this.type=E,this.capture=!!P,this.ha=W,this.key=++_e,this.da=this.fa=!1}function Gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Si(u){this.src=u,this.g={},this.h=0}Si.prototype.add=function(u,g,E,P,W){var ee=u.toString();u=this.g[ee],u||(u=this.g[ee]=[],this.h++);var ye=yr(u,g,P,W);return-1<ye?(g=u[ye],E||(g.fa=!1)):(g=new mt(g,this.src,ee,!!P,W),g.fa=E,u.push(g)),g};function yo(u,g){var E=g.type;if(E in u.g){var P=u.g[E],W=Array.prototype.indexOf.call(P,g,void 0),ee;(ee=0<=W)&&Array.prototype.splice.call(P,W,1),ee&&(Gt(g),u.g[E].length==0&&(delete u.g[E],u.h--))}}function yr(u,g,E,P){for(var W=0;W<u.length;++W){var ee=u[W];if(!ee.da&&ee.listener==g&&ee.capture==!!E&&ee.ha==P)return W}return-1}var Zi="closure_lm_"+(1e6*Math.random()|0),Zr={};function ei(u,g,E,P,W){if(Array.isArray(g)){for(var ee=0;ee<g.length;ee++)ei(u,g[ee],E,P,W);return null}return E=vr(E),u&&u[at]?u.K(g,E,y(P)?!!P.capture:!1,W):_a(u,g,E,!1,P,W)}function _a(u,g,E,P,W,ee){if(!g)throw Error("Invalid event type");var ye=y(W)?!!W.capture:!!W,gt=Eo(u);if(gt||(u[Zi]=gt=new Si(u)),E=gt.add(g,E,P,ye,ee),E.proxy)return E;if(P=yl(),E.proxy=P,P.src=u,P.listener=E,u.addEventListener)ze||(W=ye),W===void 0&&(W=!1),u.addEventListener(g.toString(),P,W);else if(u.attachEvent)u.attachEvent(Pi(g.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function yl(){function u(E){return g.call(u.src,u.listener,E)}const g=ya;return u}function vo(u,g,E,P,W){if(Array.isArray(g))for(var ee=0;ee<g.length;ee++)vo(u,g[ee],E,P,W);else P=y(P)?!!P.capture:!!P,E=vr(E),u&&u[at]?(u=u.i,g=String(g).toString(),g in u.g&&(ee=u.g[g],E=yr(ee,E,P,W),-1<E&&(Gt(ee[E]),Array.prototype.splice.call(ee,E,1),ee.length==0&&(delete u.g[g],u.h--)))):u&&(u=Eo(u))&&(g=u.g[g.toString()],u=-1,g&&(u=yr(g,E,P,W)),(E=-1<u?g[u]:null)&&Ai(E))}function Ai(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[at])yo(g.i,u);else{var E=u.type,P=u.proxy;g.removeEventListener?g.removeEventListener(E,P,u.capture):g.detachEvent?g.detachEvent(Pi(E),P):g.addListener&&g.removeListener&&g.removeListener(P),(E=Eo(g))?(yo(E,u),E.h==0&&(E.src=null,g[Zi]=null)):Gt(u)}}}function Pi(u){return u in Zr?Zr[u]:Zr[u]="on"+u}function ya(u,g){if(u.da)u=!0;else{g=new Qe(g,this);var E=u.listener,P=u.ha||u.src;u.fa&&Ai(u),u=E.call(P,g)}return u}function Eo(u){return u=u[Zi],u instanceof Si?u:null}var Ci="__closure_events_fn_"+(1e9*Math.random()>>>0);function vr(u){return typeof u=="function"?u:(u[Ci]||(u[Ci]=function(g){return u.handleEvent(g)}),u[Ci])}function $t(){se.call(this),this.i=new Si(this),this.M=this,this.F=null}F($t,se),$t.prototype[at]=!0,$t.prototype.removeEventListener=function(u,g,E,P){vo(this,u,g,E,P)};function Ot(u,g){var E,P=u.F;if(P)for(E=[];P;P=P.F)E.push(P);if(u=u.M,P=g.type||g,typeof g=="string")g=new Ne(g,u);else if(g instanceof Ne)g.target=g.target||u;else{var W=g;g=new Ne(P,u),D(g,W)}if(W=!0,E)for(var ee=E.length-1;0<=ee;ee--){var ye=g.g=E[ee];W=$n(ye,P,!0,g)&&W}if(ye=g.g=u,W=$n(ye,P,!0,g)&&W,W=$n(ye,P,!1,g)&&W,E)for(ee=0;ee<E.length;ee++)ye=g.g=E[ee],W=$n(ye,P,!1,g)&&W}$t.prototype.N=function(){if($t.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var E=u.g[g],P=0;P<E.length;P++)Gt(E[P]);delete u.g[g],u.h--}}this.F=null},$t.prototype.K=function(u,g,E,P){return this.i.add(String(u),g,!1,E,P)},$t.prototype.L=function(u,g,E,P){return this.i.add(String(u),g,!0,E,P)};function $n(u,g,E,P){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var W=!0,ee=0;ee<g.length;++ee){var ye=g[ee];if(ye&&!ye.da&&ye.capture==E){var gt=ye.listener,Jt=ye.ha||ye.src;ye.fa&&yo(u.i,ye),W=gt.call(Jt,P)!==!1&&W}}return W&&!P.defaultPrevented}function ti(u,g,E){if(typeof u=="function")E&&(u=R(u,E));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(u,g||0)}function Vr(u){u.g=ti(()=>{u.g=null,u.i&&(u.i=!1,Vr(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Os extends se{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Vr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ri(u){se.call(this),this.h=u,this.g={}}F(Ri,se);var va=[];function Ea(u){je(u.g,function(g,E){this.g.hasOwnProperty(E)&&Ai(g)},u),u.g={}}Ri.prototype.N=function(){Ri.aa.N.call(this),Ea(this)},Ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wa=f.JSON.stringify,Ta=f.JSON.parse,Ia=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Ds(){}Ds.prototype.h=null;function Ls(u){return u.h||(u.h=u.i())}function ki(){}var ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mr(){Ne.call(this,"d")}F(Mr,Ne);function wo(){Ne.call(this,"c")}F(wo,Ne);var ni={},Sa=null;function Vs(){return Sa=Sa||new $t}ni.La="serverreachability";function ri(u){Ne.call(this,ni.La,u)}F(ri,Ne);function lr(u){const g=Vs();Ot(g,new ri(g))}ni.STAT_EVENT="statevent";function Aa(u,g){Ne.call(this,ni.STAT_EVENT,u),this.stat=g}F(Aa,Ne);function Vt(u){const g=Vs();Ot(g,new Aa(g,u))}ni.Ma="timingevent";function To(u,g){Ne.call(this,ni.Ma,u),this.size=g}F(To,Ne);function jr(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},g)}function Ms(){this.g=!0}Ms.prototype.xa=function(){this.g=!1};function bi(u,g,E,P,W,ee){u.info(function(){if(u.g)if(ee)for(var ye="",gt=ee.split("&"),Jt=0;Jt<gt.length;Jt++){var nt=gt[Jt].split("=");if(1<nt.length){var wt=nt[0];nt=nt[1];var Ft=wt.split("_");ye=2<=Ft.length&&Ft[1]=="type"?ye+(wt+"="+nt+"&"):ye+(wt+"=redacted&")}}else ye=null;else ye=ee;return"XMLHTTP REQ ("+P+") [attempt "+W+"]: "+g+`
`+E+`
`+ye})}function Fr(u,g,E,P,W,ee,ye){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+W+"]: "+g+`
`+E+`
`+ee+" "+ye})}function qn(u,g,E,P){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ca(u,E)+(P?" "+P:"")})}function Pa(u,g){u.info(function(){return"TIMEOUT: "+g})}Ms.prototype.info=function(){};function Ca(u,g){if(!u.g)return g;if(!g)return null;try{var E=JSON.parse(g);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var P=E[u];if(!(2>P.length)){var W=P[1];if(Array.isArray(W)&&!(1>W.length)){var ee=W[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ye=1;ye<W.length;ye++)W[ye]=""}}}}return wa(E)}catch{return g}}var Io={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gn;function Mt(){}F(Mt,Ds),Mt.prototype.g=function(){return new XMLHttpRequest},Mt.prototype.i=function(){return{}},gn=new Mt;function Dt(u,g,E,P){this.j=u,this.i=g,this.l=E,this.R=P||1,this.U=new Ri(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _n}function _n(){this.i=null,this.g="",this.h=!1}var Qt={},xi={};function Ur(u,g,E){u.L=1,u.v=si(On(g)),u.m=E,u.P=!0,zr(u,null)}function zr(u,g){u.F=Date.now(),Et(u),u.A=On(u.v);var E=u.A,P=u.R;Array.isArray(P)||(P=[String(P)]),Di(E.i,"t",P),u.C=0,E=u.j.J,u.h=new _n,u.g=Rl(u.j,E?g:null,!u.m),0<u.O&&(u.M=new Os(R(u.Y,u,u.g),u.O)),g=u.U,E=u.g,P=u.ca;var W="readystatechange";Array.isArray(W)||(W&&(va[0]=W.toString()),W=va);for(var ee=0;ee<W.length;ee++){var ye=ei(E,W[ee],P||g.handleEvent,!1,g.h||g);if(!ye)break;g.g[ye.key]=ye}g=u.H?k(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),lr(),bi(u.i,u.u,u.A,u.l,u.R,u.m)}Dt.prototype.ca=function(u){u=u.target;const g=this.M;g&&Vn(u)==3?g.j():this.Y(u)},Dt.prototype.Y=function(u){try{if(u==this.g)e:{const Ft=Vn(this.g);var g=this.g.Ba();const fr=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||ko(this.g)))){this.J||Ft!=4||g==7||(g==8||0>=fr?lr(3):lr(2)),es(this);var E=this.g.Z();this.X=E;t:if(Ni(this)){var P=ko(this.g);u="";var W=P.length,ee=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),ii(this);var ye="";break t}this.h.i=new f.TextDecoder}for(g=0;g<W;g++)this.h.h=!0,u+=this.h.i.decode(P[g],{stream:!(ee&&g==W-1)});P.length=0,this.h.g+=u,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=E==200,Fr(this.i,this.u,this.A,this.l,this.R,Ft,E),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,Jt=this.g;if((gt=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(gt)){var nt=gt;break t}}nt=null}if(E=nt)qn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,So(this,E);else{this.o=!1,this.s=3,Vt(12),Hn(this),ii(this);break e}}if(this.P){E=!0;let Qn;for(;!this.J&&this.C<ye.length;)if(Qn=El(this,ye),Qn==xi){Ft==4&&(this.s=4,Vt(14),E=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Qn==Qt){this.s=4,Vt(15),qn(this.i,this.l,ye,"[Invalid Chunk]"),E=!1;break}else qn(this.i,this.l,Qn,null),So(this,Qn);if(Ni(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||ye.length!=0||this.h.h||(this.s=1,Vt(16),E=!1),this.o=this.o&&E,!E)qn(this.i,this.l,ye,"[Invalid Chunked Response]"),Hn(this),ii(this);else if(0<ye.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),No(wt),wt.M=!0,Vt(11))}}else qn(this.i,this.l,ye,null),So(this,ye);Ft==4&&Hn(this),this.o&&!this.J&&(Ft==4?os(this.j,this):(this.o=!1,Et(this)))}else qs(this.g),E==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Hn(this),ii(this)}}}catch{}finally{}};function Ni(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function El(u,g){var E=u.C,P=g.indexOf(`
`,E);return P==-1?xi:(E=Number(g.substring(E,P)),isNaN(E)?Qt:(P+=1,P+E>g.length?xi:(g=g.slice(P,P+E),u.C=P+E,g)))}Dt.prototype.cancel=function(){this.J=!0,Hn(this)};function Et(u){u.S=Date.now()+u.I,Oi(u,u.I)}function Oi(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=jr(R(u.ba,u),g)}function es(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Dt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Pa(this.i,this.A),this.L!=2&&(lr(),Vt(17)),Hn(this),this.s=2,ii(this)):Oi(this,this.S-u)};function ii(u){u.j.G==0||u.J||os(u.j,u)}function Hn(u){es(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Ea(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function So(u,g){try{var E=u.j;if(E.G!=0&&(E.g==u||yn(E.h,u))){if(!u.K&&yn(E.h,u)&&E.G==3){try{var P=E.Da.g.parse(g)}catch{P=null}if(Array.isArray(P)&&P.length==3){var W=P;if(W[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)Sr(E),Tr(E);else break e;ss(E),Vt(18)}}else E.za=W[1],0<E.za-E.T&&37500>W[2]&&E.F&&E.v==0&&!E.C&&(E.C=jr(R(E.Za,E),6e3));if(1>=ka(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else li(E,11)}else if((u.K||E.g==u)&&Sr(E),!J(g))for(W=E.Da.g.parse(g),g=0;g<W.length;g++){let nt=W[g];if(E.T=nt[0],nt=nt[1],E.G==2)if(nt[0]=="c"){E.K=nt[1],E.ia=nt[2];const wt=nt[3];wt!=null&&(E.la=wt,E.j.info("VER="+E.la));const Ft=nt[4];Ft!=null&&(E.Aa=Ft,E.j.info("SVER="+E.Aa));const fr=nt[5];fr!=null&&typeof fr=="number"&&0<fr&&(P=1.5*fr,E.L=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const Qn=u.g;if(Qn){const Gs=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var ee=P.h;ee.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Ao(ee,ee.h),ee.h=null))}if(P.D){const Oo=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Oo&&(P.ya=Oo,lt(P.I,P.D,Oo))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),P=E;var ye=u;if(P.qa=Cl(P,P.J?P.ia:null,P.W),ye.K){ba(P.h,ye);var gt=ye,Jt=P.L;Jt&&(gt.I=Jt),gt.B&&(es(gt),Et(gt)),P.g=ye}else Ws(P);0<E.i.length&&ai(E)}else nt[0]!="stop"&&nt[0]!="close"||li(E,7);else E.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?li(E,7):Xt(E):nt[0]!="noop"&&E.l&&E.l.ta(nt),E.v=0)}}lr(4)}catch{}}var Ra=class{constructor(u,g){this.g=u,this.map=g}};function ts(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ka(u){return u.h?1:u.g?u.g.size:0}function yn(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Ao(u,g){u.g?u.g.add(g):u.h=g}function ba(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}ts.prototype.cancel=function(){if(this.i=xa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xa(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const E of u.g.values())g=g.concat(E.D);return g}return K(u.i)}function js(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(m(u)){for(var g=[],E=u.length,P=0;P<E;P++)g.push(u[P]);return g}g=[],E=0;for(P in u)g[E++]=u[P];return g}function Nn(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(m(u)||typeof u=="string"){var g=[];u=u.length;for(var E=0;E<u;E++)g.push(E);return g}g=[],E=0;for(const P in u)g[E++]=P;return g}}}function qt(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(m(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var E=Nn(u),P=js(u),W=P.length,ee=0;ee<W;ee++)g.call(void 0,P[ee],E&&E[ee],u)}var ur=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kn(u,g){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var P=u[E].indexOf("="),W=null;if(0<=P){var ee=u[E].substring(0,P);W=u[E].substring(P+1)}else ee=u[E];g(ee,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Br(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Br){this.h=u.h,vn(this,u.j),this.o=u.o,this.g=u.g,Gn(this,u.s),this.l=u.l;var g=u.i,E=new Hr;E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),$r(this,E),this.m=u.m}else u&&(g=String(u).match(ur))?(this.h=!1,vn(this,g[1]||"",!0),this.o=Ze(g[2]||""),this.g=Ze(g[3]||"",!0),Gn(this,g[4]),this.l=Ze(g[5]||"",!0),$r(this,g[6]||"",!0),this.m=Ze(g[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}Br.prototype.toString=function(){var u=[],g=this.j;g&&u.push(cr(g,Fs,!0),":");var E=this.g;return(E||g=="file")&&(u.push("//"),(g=this.o)&&u.push(cr(g,Fs,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(cr(E,E.charAt(0)=="/"?wl:Er,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",cr(E,ns)),u.join("")};function On(u){return new Br(u)}function vn(u,g,E){u.j=E?Ze(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Gn(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function $r(u,g,E){g instanceof Hr?(u.i=g,Wr(u.i,u.h)):(E||(g=cr(g,qr)),u.i=new Hr(g,u.h))}function lt(u,g,E){u.i.set(g,E)}function si(u){return lt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ze(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function cr(u,g,E){return typeof u=="string"?(u=encodeURI(u).replace(g,Po),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Po(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Fs=/[#\/\?@]/g,Er=/[#\?:]/g,wl=/[#\?]/g,qr=/[#\?@]/g,ns=/#/g;function Hr(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function jt(u){u.g||(u.g=new Map,u.h=0,u.i&&Kn(u.i,function(g,E){u.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}n=Hr.prototype,n.add=function(u,g){jt(this),this.i=null,u=dr(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(g),this.h+=1,this};function hr(u,g){jt(u),g=dr(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Dn(u,g){return jt(u),g=dr(u,g),u.g.has(g)}n.forEach=function(u,g){jt(this),this.g.forEach(function(E,P){E.forEach(function(W){u.call(g,W,P,this)},this)},this)},n.na=function(){jt(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),E=[];for(let P=0;P<g.length;P++){const W=u[P];for(let ee=0;ee<W.length;ee++)E.push(g[P])}return E},n.V=function(u){jt(this);let g=[];if(typeof u=="string")Dn(this,u)&&(g=g.concat(this.g.get(dr(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)g=g.concat(u[E])}return g},n.set=function(u,g){return jt(this),this.i=null,u=dr(this,u),Dn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Di(u,g,E){hr(u,g),0<E.length&&(u.i=null,u.g.set(dr(u,g),K(E)),u.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var E=0;E<g.length;E++){var P=g[E];const ee=encodeURIComponent(String(P)),ye=this.V(P);for(P=0;P<ye.length;P++){var W=ee;ye[P]!==""&&(W+="="+encodeURIComponent(String(ye[P]))),u.push(W)}}return this.i=u.join("&")};function dr(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Wr(u,g){g&&!u.j&&(jt(u),u.i=null,u.g.forEach(function(E,P){var W=P.toLowerCase();P!=W&&(hr(this,P),Di(this,W,E))},u)),u.j=g}function rs(u,g){const E=new Ms;if(f.Image){const P=new Image;P.onload=B(Ln,E,"TestLoadImage: loaded",!0,g,P),P.onerror=B(Ln,E,"TestLoadImage: error",!1,g,P),P.onabort=B(Ln,E,"TestLoadImage: abort",!1,g,P),P.ontimeout=B(Ln,E,"TestLoadImage: timeout",!1,g,P),f.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else g(!1)}function Tl(u,g){const E=new Ms,P=new AbortController,W=setTimeout(()=>{P.abort(),Ln(E,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:P.signal}).then(ee=>{clearTimeout(W),ee.ok?Ln(E,"TestPingServer: ok",!0,g):Ln(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(W),Ln(E,"TestPingServer: error",!1,g)})}function Ln(u,g,E,P,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),P(E)}catch{}}function Na(){this.g=new Ia}function Us(u,g,E){const P=E||"";try{qt(u,function(W,ee){let ye=W;y(W)&&(ye=wa(W)),g.push(P+ee+"="+encodeURIComponent(ye))})}catch(W){throw g.push(P+"type="+encodeURIComponent("_badmap")),W}}function Kr(u){this.l=u.Ub||null,this.j=u.eb||!1}F(Kr,Ds),Kr.prototype.g=function(){return new zs(this.l,this.j)},Kr.prototype.i=function(u){return function(){return u}}({});function zs(u,g){$t.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(zs,$t),n=zs.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,wr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,wr(this)),this.g&&(this.readyState=3,wr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Gr(this):wr(this),this.readyState==3&&Bs(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Gr(this))},n.Qa=function(u){this.g&&(this.response=u,Gr(this))},n.ga=function(){this.g&&Gr(this)};function Gr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,wr(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=g.next();return u.join(`\r
`)};function wr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qr(u){let g="";return je(u,function(E,P){g+=P,g+=":",g+=E,g+=`\r
`}),g}function oi(u,g,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=Qr(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):lt(u,g,E))}function Pt(u){$t.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Pt,$t);var Il=/^https?$/i,Li=["POST","PUT"];n=Pt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gn.g(),this.v=this.o?Ls(this.o):Ls(gn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(ee){Vi(this,ee);return}if(u=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var W in P)E.set(W,P[W]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const ee of P.keys())E.set(ee,P.get(ee));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(ee=>ee.toLowerCase()=="content-type"),W=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Li,g,void 0))||P||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ye]of E)this.g.setRequestHeader(ee,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ro(this),this.u=!0,this.g.send(u),this.u=!1}catch(ee){Vi(this,ee)}};function Vi(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,$s(u),nn(u)}function $s(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ot(this,"complete"),Ot(this,"abort"),nn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nn(this,!0)),Pt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Co(this):this.bb())},n.bb=function(){Co(this)};function Co(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Vn(u)!=4||u.Z()!=2)){if(u.u&&Vn(u)==4)ti(u.Ea,0,u);else if(Ot(u,"readystatechange"),Vn(u)==4){u.h=!1;try{const ye=u.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var P;if(P=ye===0){var W=String(u.D).match(ur)[1]||null;!W&&f.self&&f.self.location&&(W=f.self.location.protocol.slice(0,-1)),P=!Il.test(W?W.toLowerCase():"")}E=P}if(E)Ot(u,"complete"),Ot(u,"success");else{u.m=6;try{var ee=2<Vn(u)?u.g.statusText:""}catch{ee=""}u.l=ee+" ["+u.Z()+"]",$s(u)}}finally{nn(u)}}}}function nn(u,g){if(u.g){Ro(u);const E=u.g,P=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ot(u,"ready");try{E.onreadystatechange=P}catch{}}}function Ro(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Vn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Ta(g)}};function ko(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qs(u){const g={};u=(u.g&&2<=Vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(J(u[P]))continue;var E=U(u[P]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ee=g[W]||[];g[W]=ee,ee.push(E)}V(g,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xr(u,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||g}function bo(u){this.Aa=0,this.i=[],this.j=new Ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xr("baseRetryDelayMs",5e3,u),this.cb=Xr("retryDelaySeedMs",1e4,u),this.Wa=Xr("forwardChannelMaxRetries",2,u),this.wa=Xr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ts(u&&u.concurrentRequestLimit),this.Da=new Na,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=bo.prototype,n.la=8,n.G=1,n.connect=function(u,g,E,P){Vt(0),this.W=u,this.H=g||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.I=Cl(this,null,this.W),ai(this)};function Xt(u){if(xo(u),u.G==3){var g=u.U++,E=On(u.I);if(lt(E,"SID",u.K),lt(E,"RID",g),lt(E,"TYPE","terminate"),Ir(u,E),g=new Dt(u,u.j,g),g.L=2,g.v=si(On(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=g.v,E=!0),E||(g.g=Rl(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Et(g)}Pl(u)}function Tr(u){u.g&&(No(u),u.g.cancel(),u.g=null)}function xo(u){Tr(u),u.u&&(f.clearTimeout(u.u),u.u=null),Sr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function ai(u){if(!Wn(u.h)&&!u.s){u.s=!0;var g=u.Ga;dt||H(),ve||(dt(),ve=!0),Le.add(g,u),u.B=0}}function Sl(u,g){return ka(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=jr(R(u.Ga,u,g),Al(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const W=new Dt(this,this.j,u);let ee=this.o;if(this.S&&(ee?(ee=k(ee),D(ee,this.S)):ee=this.S),this.m!==null||this.O||(W.H=ee,ee=null),this.P)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(g+=P,4096<g){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=is(this,W,g),E=On(this.I),lt(E,"RID",u),lt(E,"CVER",22),this.D&&lt(E,"X-HTTP-Session-Id",this.D),Ir(this,E),ee&&(this.O?g="headers="+encodeURIComponent(String(Qr(ee)))+"&"+g:this.m&&oi(E,this.m,ee)),Ao(this.h,W),this.Ua&&lt(E,"TYPE","init"),this.P?(lt(E,"$req",g),lt(E,"SID","null"),W.T=!0,Ur(W,E,null)):Ur(W,E,g),this.G=2}}else this.G==3&&(u?Hs(this,u):this.i.length==0||Wn(this.h)||Hs(this))};function Hs(u,g){var E;g?E=g.l:E=u.U++;const P=On(u.I);lt(P,"SID",u.K),lt(P,"RID",E),lt(P,"AID",u.T),Ir(u,P),u.m&&u.o&&oi(P,u.m,u.o),E=new Dt(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),g&&(u.i=g.D.concat(u.i)),g=is(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ao(u.h,E),Ur(E,P,g)}function Ir(u,g){u.H&&je(u.H,function(E,P){lt(g,P,E)}),u.l&&qt({},function(E,P){lt(g,P,E)})}function is(u,g,E){E=Math.min(u.i.length,E);var P=u.l?R(u.l.Na,u.l,u):null;e:{var W=u.i;let ee=-1;for(;;){const ye=["count="+E];ee==-1?0<E?(ee=W[0].g,ye.push("ofs="+ee)):ee=0:ye.push("ofs="+ee);let gt=!0;for(let Jt=0;Jt<E;Jt++){let nt=W[Jt].g;const wt=W[Jt].map;if(nt-=ee,0>nt)ee=Math.max(0,W[Jt].g-100),gt=!1;else try{Us(wt,ye,"req"+nt+"_")}catch{P&&P(wt)}}if(gt){P=ye.join("&");break e}}}return u=u.i.splice(0,E),g.D=u,P}function Ws(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;dt||H(),ve||(dt(),ve=!0),Le.add(g,u),u.v=0}}function ss(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=jr(R(u.Fa,u),Al(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Oa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=jr(R(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),Tr(this),Oa(this))};function No(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Oa(u){u.g=new Dt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=On(u.qa);lt(g,"RID","rpc"),lt(g,"SID",u.K),lt(g,"AID",u.T),lt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&lt(g,"TO",u.ja),lt(g,"TYPE","xmlhttp"),Ir(u,g),u.m&&u.o&&oi(g,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=si(On(g)),E.m=null,E.P=!0,zr(E,u)}n.Za=function(){this.C!=null&&(this.C=null,Tr(this),ss(this),Vt(19))};function Sr(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function os(u,g){var E=null;if(u.g==g){Sr(u),No(u),u.g=null;var P=2}else if(yn(u.h,g))E=g.D,ba(u.h,g),P=1;else return;if(u.G!=0){if(g.o)if(P==1){E=g.m?g.m.length:0,g=Date.now()-g.F;var W=u.B;P=Vs(),Ot(P,new To(P,E)),ai(u)}else Ws(u);else if(W=g.s,W==3||W==0&&0<g.X||!(P==1&&Sl(u,g)||P==2&&ss(u)))switch(E&&0<E.length&&(g=u.h,g.i=g.i.concat(E)),W){case 1:li(u,5);break;case 4:li(u,10);break;case 3:li(u,6);break;default:li(u,2)}}}function Al(u,g){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*g}function li(u,g){if(u.j.info("Error code "+g),g==2){var E=R(u.fb,u),P=u.Xa;const W=!P;P=new Br(P||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||vn(P,"https"),si(P),W?rs(P.toString(),E):Tl(P.toString(),E)}else Vt(2);u.G=0,u.l&&u.l.sa(g),Pl(u),xo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Pl(u){if(u.G=0,u.ka=[],u.l){const g=xa(u.h);(g.length!=0||u.i.length!=0)&&(N(u.ka,g),N(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function Cl(u,g,E){var P=E instanceof Br?On(E):new Br(E);if(P.g!="")g&&(P.g=g+"."+P.g),Gn(P,P.s);else{var W=f.location;P=W.protocol,g=g?g+"."+W.hostname:W.hostname,W=+W.port;var ee=new Br(null);P&&vn(ee,P),g&&(ee.g=g),W&&Gn(ee,W),E&&(ee.l=E),P=ee}return E=u.D,g=u.ya,E&&g&&lt(P,E,g),lt(P,"VER",u.la),Ir(u,P),P}function Rl(u,g,E){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Pt(new Kr({eb:E})):new Pt(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Da(){}n=Da.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ks(){}Ks.prototype.g=function(u,g){return new En(u,g)};function En(u,g){$t.call(this),this.g=new bo(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!J(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!J(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new wn(this)}F(En,$t),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Xt(this.g)},En.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=wa(u),u=E);g.i.push(new Ra(g.Ya++,u)),g.G==3&&ai(g)},En.prototype.N=function(){this.g.l=null,delete this.j,Xt(this.g),delete this.g,En.aa.N.call(this)};function kl(u){Mr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const E in g){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}F(kl,Mr);function Mi(){wo.call(this),this.status=1}F(Mi,wo);function wn(u){this.g=u}F(wn,Da),wn.prototype.ua=function(){Ot(this.g,"a")},wn.prototype.ta=function(u){Ot(this.g,new kl(u))},wn.prototype.sa=function(u){Ot(this.g,new Mi)},wn.prototype.ra=function(){Ot(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,jw=function(){return new Ks},Mw=function(){return Vs()},Vw=ni,lm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Io.NO_ERROR=0,Io.TIMEOUT=8,Io.HTTP_ERROR=6,cd=Io,vl.COMPLETE="complete",Lw=vl,ki.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",$t.prototype.listen=$t.prototype.K,dc=ki,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,Dw=Pt}).apply(typeof Qh<"u"?Qh:typeof self<"u"?self:typeof window<"u"?window:{});const Gy="@firebase/firestore",Qy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=new Cm("@firebase/firestore");function eu(){return dl.logLevel}function Pe(n,...e){if(dl.logLevel<=it.DEBUG){const t=e.map(qm);dl.debug(`Firestore (${Pu}): ${n}`,...t)}}function ho(n,...e){if(dl.logLevel<=it.ERROR){const t=e.map(qm);dl.error(`Firestore (${Pu}): ${n}`,...t)}}function fu(n,...e){if(dl.logLevel<=it.WARN){const t=e.map(qm);dl.warn(`Firestore (${Pu}): ${n}`,...t)}}function qm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,Fw(n,i,t)}function Fw(n,e,t){let i=`FIRESTORE (${Pu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw ho(i),new Error(i)}function It(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||Fw(e,o,i)}function Xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends mo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Y1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nr.UNAUTHENTICATED))}shutdown(){}}class Z1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ek{constructor(e){this.t=e,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){It(this.o===void 0,42304);let i=this.i;const o=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new aa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new aa,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},f=m=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new aa)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(It(typeof i.accessToken=="string",31837,{l:i}),new Uw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return It(e===null||typeof e=="string",2055,{h:e}),new nr(e)}}class tk{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nk{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new tk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rk{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){It(this.o===void 0,3512);const i=l=>{l.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Xy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(It(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Xy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=ik(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function st(n,e){return n<e?-1:n>e?1:0}function um(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),l=e.charAt(i);if(o!==l)return Vp(o)===Vp(l)?st(o,l):Vp(o)?1:-1}return st(n.length,e.length)}const sk=55296,ok=57343;function Vp(n){const e=n.charCodeAt(0);return e>=sk&&e<=ok}function pu(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="__name__";class Ss{constructor(e,t,i){t===void 0?t=0:t>e.length&&$e(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&$e(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ss.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ss?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=Ss.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return st(e.length,t.length)}static compareSegments(e,t){const i=Ss.isNumericId(e),o=Ss.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Ss.extractNumericId(e).compare(Ss.extractNumericId(t)):um(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oa.fromString(e.substring(4,e.length-2))}}class Nt extends Ss{construct(e,t,i){return new Nt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new we(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Nt(t)}static emptyPath(){return new Nt([])}}const ak=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends Ss{construct(e,t,i){return new zn(e,t,i)}static isValidIdentifier(e){return ak.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jy}static keyField(){return new zn([Jy])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new we(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new we(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new we(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(l(),o++)}if(l(),c)throw new we(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(t)}static emptyPath(){return new zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Nt.fromString(e))}static fromName(e){return new Me(Nt.fromString(e).popFirst(5))}static empty(){return new Me(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(n,e,t){if(!t)throw new we(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lk(n,e,t,i){if(e===!0&&i===!0)throw new we(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Yy(n){if(!Me.isDocumentKey(n))throw new we(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Zy(n){if(Me.isDocumentKey(n))throw new we(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Bw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function rf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$e(12329,{type:typeof n})}function bd(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rf(n);throw new we(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function uk(n,e){if(e<=0)throw new we(ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(n,e){const t={typeString:n};return e&&(t.value=e),t}function Hc(n,e){if(!Bw(n))throw new we(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(o&&typeof c!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new we(ie.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=-62135596800,tv=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*tv);return new bt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ev)throw new we(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tv}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hc(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ev;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:an("string",bt._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new bt(0,0))}static max(){return new Ge(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=-1;function ck(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ge.fromTimestamp(i===1e9?new bt(t+1,0):new bt(t,i));return new ua(o,Me.empty(),e)}function hk(n){return new ua(n.readTime,n.key,Pc)}class ua{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ua(Ge.min(),Me.empty(),Pc)}static max(){return new ua(Ge.max(),Me.empty(),Pc)}}function dk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Me.comparator(n.documentKey,e.documentKey),t!==0?t:st(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==fk)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,i)=>{t(e)})}static reject(e){return new ae((t,i)=>{i(e)})}static waitFor(e){return new ae((t,i)=>{let o=0,l=0,c=!1;e.forEach(f=>{++o,f.next(()=>{++l,c&&l===o&&t()},m=>i(m))}),c=!0,l===o&&t()})}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next(o=>o?ae.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new ae((i,o)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const y=m;t(e[y]).next(w=>{c[y]=w,++f,f===l&&i(c)},w=>o(w))}})}static doWhile(e,t){return new ae((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function mk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ru(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=-1;function of(n){return n==null}function xd(n){return n===0&&1/n==-1/0}function gk(n){return typeof n=="number"&&Number.isInteger(n)&&!xd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="";function _k(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=nv(e)),e=yk(n.get(t),e);return nv(e)}function yk(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case $w:t+="";break;default:t+=l}}return t}function nv(n){return n+$w+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function pl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function qw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t){this.comparator=e,this.root=t||Un.EMPTY}insert(e,t){return new Bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xh(this.root,e,this.comparator,!0)}}class Xh{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Un.RED,this.left=o??Un.EMPTY,this.right=l??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Un(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Un.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new Un(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iv(this.data.getIterator())}getIteratorFrom(e){return new iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mn(this.comparator);return t.data=e,t}}class iv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new Qi([])}unionWith(e){let t=new mn(zn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Qi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pu(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Hw("Invalid base64 string: "+l):l}}(e);return new Bn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new Bn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const vk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(n){if(It(!!n,39018),typeof n=="string"){let e=0;const t=vk.exec(n);if(It(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:en(n.seconds),nanos:en(n.nanos)}}function en(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ha(n){return typeof n=="string"?Bn.fromBase64String(n):Bn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="server_timestamp",Kw="__type__",Gw="__previous_value__",Qw="__local_write_time__";function Km(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Kw])==null?void 0:i.stringValue)===Ww}function af(n){const e=n.mapValue.fields[Gw];return Km(e)?af(e):e}function Cc(n){const e=ca(n.mapValue.fields[Qw].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,t,i,o,l,c,f,m,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=w}}const Nd="(default)";class Rc{constructor(e,t){this.projectId=e,this.database=t||Nd}static empty(){return new Rc("","")}get isDefaultDatabase(){return this.database===Nd}isEqual(e){return e instanceof Rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="__type__",wk="__max__",Jh={mapValue:{}},Jw="__vector__",Od="value";function da(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Km(n)?4:Ik(n)?9007199254740991:Tk(n)?10:11:$e(28295,{value:n})}function xs(n,e){if(n===e)return!0;const t=da(n);if(t!==da(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cc(n).isEqual(Cc(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=ca(o.timestampValue),f=ca(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return ha(o.bytesValue).isEqual(ha(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return en(o.geoPointValue.latitude)===en(l.geoPointValue.latitude)&&en(o.geoPointValue.longitude)===en(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return en(o.integerValue)===en(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=en(o.doubleValue),f=en(l.doubleValue);return c===f?xd(c)===xd(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return pu(n.arrayValue.values||[],e.arrayValue.values||[],xs);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},f=l.mapValue.fields||{};if(rv(c)!==rv(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!xs(c[m],f[m])))return!1;return!0}(n,e);default:return $e(52216,{left:n})}}function kc(n,e){return(n.values||[]).find(t=>xs(t,e))!==void 0}function mu(n,e){if(n===e)return 0;const t=da(n),i=da(e);if(t!==i)return st(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return st(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=en(l.integerValue||l.doubleValue),m=en(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,e);case 3:return sv(n.timestampValue,e.timestampValue);case 4:return sv(Cc(n),Cc(e));case 5:return um(n.stringValue,e.stringValue);case 6:return function(l,c){const f=ha(l),m=ha(c);return f.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let y=0;y<f.length&&y<m.length;y++){const w=st(f[y],m[y]);if(w!==0)return w}return st(f.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=st(en(l.latitude),en(c.latitude));return f!==0?f:st(en(l.longitude),en(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ov(n.arrayValue,e.arrayValue);case 10:return function(l,c){var R,B,F,K;const f=l.fields||{},m=c.fields||{},y=(R=f[Od])==null?void 0:R.arrayValue,w=(B=m[Od])==null?void 0:B.arrayValue,S=st(((F=y==null?void 0:y.values)==null?void 0:F.length)||0,((K=w==null?void 0:w.values)==null?void 0:K.length)||0);return S!==0?S:ov(y,w)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Jh.mapValue&&c===Jh.mapValue)return 0;if(l===Jh.mapValue)return 1;if(c===Jh.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),y=c.fields||{},w=Object.keys(y);m.sort(),w.sort();for(let S=0;S<m.length&&S<w.length;++S){const R=um(m[S],w[S]);if(R!==0)return R;const B=mu(f[m[S]],y[w[S]]);if(B!==0)return B}return st(m.length,w.length)}(n.mapValue,e.mapValue);default:throw $e(23264,{he:t})}}function sv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return st(n,e);const t=ca(n),i=ca(e),o=st(t.seconds,i.seconds);return o!==0?o:st(t.nanos,i.nanos)}function ov(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=mu(t[o],i[o]);if(l)return l}return st(t.length,i.length)}function gu(n){return cm(n)}function cm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ca(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ha(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Me.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=cm(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${cm(t.fields[c])}`;return o+"}"}(n.mapValue):$e(61005,{value:n})}function hd(n){switch(da(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(n);return e?16+hd(e):16;case 5:return 2*n.stringValue.length;case 6:return ha(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+hd(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return pl(i.fields,(l,c)=>{o+=l.length+hd(c)}),o}(n.mapValue);default:throw $e(13486,{value:n})}}function av(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function hm(n){return!!n&&"integerValue"in n}function Gm(n){return!!n&&"arrayValue"in n}function lv(n){return!!n&&"nullValue"in n}function uv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dd(n){return!!n&&"mapValue"in n}function Tk(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Xw])==null?void 0:i.stringValue)===Jw}function _c(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return pl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=_c(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_c(n.arrayValue.values[t]);return e}return{...n}}function Ik(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===wk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.value=e}static empty(){return new Ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!dd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_c(t)}setAll(e){let t=zn.emptyPath(),i={},o=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,i,o),i={},o=[],t=f.popLast()}c?i[f.lastSegment()]=_c(c):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());dd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];dd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){pl(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Ei(_c(this.value))}}function Yw(n){const e=[];return pl(n.fields,(t,i)=>{const o=new zn([t]);if(dd(i)){const l=Yw(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new Qi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,t,i,o,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new rr(e,0,Ge.min(),Ge.min(),Ge.min(),Ei.empty(),0)}static newFoundDocument(e,t,i,o){return new rr(e,1,t,Ge.min(),i,o,0)}static newNoDocument(e,t){return new rr(e,2,t,Ge.min(),Ge.min(),Ei.empty(),0)}static newUnknownDocument(e,t){return new rr(e,3,t,Ge.min(),Ge.min(),Ei.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,t){this.position=e,this.inclusive=t}}function cv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=Me.comparator(Me.fromName(c.referenceValue),t.key):i=mu(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function hv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Sk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{}class on extends Zw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Pk(e,t,i):t==="array-contains"?new kk(e,i):t==="in"?new bk(e,i):t==="not-in"?new xk(e,i):t==="array-contains-any"?new Nk(e,i):new on(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Ck(e,i):new Rk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(mu(t,this.value)):t!==null&&da(this.value)===da(t)&&this.matchesComparison(mu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends Zw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ji(e,t)}matches(e){return eT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eT(n){return n.op==="and"}function tT(n){return Ak(n)&&eT(n)}function Ak(n){for(const e of n.filters)if(e instanceof Ji)return!1;return!0}function dm(n){if(n instanceof on)return n.field.canonicalString()+n.op.toString()+gu(n.value);if(tT(n))return n.filters.map(e=>dm(e)).join(",");{const e=n.filters.map(t=>dm(t)).join(",");return`${n.op}(${e})`}}function nT(n,e){return n instanceof on?function(i,o){return o instanceof on&&i.op===o.op&&i.field.isEqual(o.field)&&xs(i.value,o.value)}(n,e):n instanceof Ji?function(i,o){return o instanceof Ji&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,f)=>l&&nT(c,o.filters[f]),!0):!1}(n,e):void $e(19439)}function rT(n){return n instanceof on?function(t){return`${t.field.canonicalString()} ${t.op} ${gu(t.value)}`}(n):n instanceof Ji?function(t){return t.op.toString()+" {"+t.getFilters().map(rT).join(" ,")+"}"}(n):"Filter"}class Pk extends on{constructor(e,t,i){super(e,t,i),this.key=Me.fromName(i.referenceValue)}matches(e){const t=Me.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ck extends on{constructor(e,t){super(e,"in",t),this.keys=iT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Rk extends on{constructor(e,t){super(e,"not-in",t),this.keys=iT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function iT(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(i=>Me.fromName(i.referenceValue))}class kk extends on{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gm(t)&&kc(t.arrayValue,this.value)}}class bk extends on{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&kc(this.value.arrayValue,t)}}class xk extends on{constructor(e,t){super(e,"not-in",t)}matches(e){if(kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!kc(this.value.arrayValue,t)}}class Nk extends on{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>kc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,t=null,i=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function dv(n,e=null,t=[],i=[],o=null,l=null,c=null){return new Ok(n,e,t,i,o,l,c)}function Qm(n){const e=Xe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>dm(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),of(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>gu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>gu(i)).join(",")),e.Te=t}return e.Te}function Xm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Sk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!nT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hv(n.startAt,e.startAt)&&hv(n.endAt,e.endAt)}function fm(n){return Me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t=null,i=[],o=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Dk(n,e,t,i,o,l,c,f){return new ku(n,e,t,i,o,l,c,f)}function sT(n){return new ku(n)}function fv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function oT(n){return n.collectionGroup!==null}function yc(n){const e=Xe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new mn(zn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new bc(l,i))}),t.has(zn.keyField().canonicalString())||e.Ie.push(new bc(zn.keyField(),i))}return e.Ie}function Cs(n){const e=Xe(n);return e.Ee||(e.Ee=Lk(e,yc(n))),e.Ee}function Lk(n,e){if(n.limitType==="F")return dv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new bc(o.field,l)});const t=n.endAt?new Dd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Dd(n.startAt.position,n.startAt.inclusive):null;return dv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function pm(n,e){const t=n.filters.concat([e]);return new ku(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ld(n,e,t){return new ku(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function lf(n,e){return Xm(Cs(n),Cs(e))&&n.limitType===e.limitType}function aT(n){return`${Qm(Cs(n))}|lt:${n.limitType}`}function tu(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>rT(o)).join(", ")}]`),of(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>gu(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>gu(o)).join(",")),`Target(${i})`}(Cs(n))}; limitType=${n.limitType})`}function uf(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Me.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of yc(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,f,m){const y=cv(c,f,m);return c.inclusive?y<=0:y<0}(i.startAt,yc(i),o)||i.endAt&&!function(c,f,m){const y=cv(c,f,m);return c.inclusive?y>=0:y>0}(i.endAt,yc(i),o))}(n,e)}function Vk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function lT(n){return(e,t)=>{let i=!1;for(const o of yc(n)){const l=Mk(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function Mk(n,e,t){const i=n.field.isKeyField()?Me.comparator(e.key,t.key):function(l,c,f){const m=c.data.field(l),y=f.data.field(l);return m!==null&&y!==null?mu(m,y):$e(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return $e(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){pl(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return qw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=new Bt(Me.comparator);function fo(){return jk}const uT=new Bt(Me.comparator);function fc(...n){let e=uT;for(const t of n)e=e.insert(t.key,t);return e}function cT(n){let e=uT;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function sl(){return vc()}function hT(){return vc()}function vc(){return new ml(n=>n.toString(),(n,e)=>n.isEqual(e))}const Fk=new Bt(Me.comparator),Uk=new mn(Me.comparator);function ot(...n){let e=Uk;for(const t of n)e=e.add(t);return e}const zk=new mn(st);function Bk(){return zk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xd(e)?"-0":e}}function dT(n){return{integerValue:""+n}}function $k(n,e){return gk(e)?dT(e):Jm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this._=void 0}}function qk(n,e,t){return n instanceof xc?function(o,l){const c={fields:{[Kw]:{stringValue:Ww},[Qw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Km(l)&&(l=af(l)),l&&(c.fields[Gw]=l),{mapValue:c}}(t,e):n instanceof Nc?pT(n,e):n instanceof Oc?mT(n,e):function(o,l){const c=fT(o,l),f=pv(c)+pv(o.Ae);return hm(c)&&hm(o.Ae)?dT(f):Jm(o.serializer,f)}(n,e)}function Hk(n,e,t){return n instanceof Nc?pT(n,e):n instanceof Oc?mT(n,e):t}function fT(n,e){return n instanceof Vd?function(i){return hm(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class xc extends cf{}class Nc extends cf{constructor(e){super(),this.elements=e}}function pT(n,e){const t=gT(e);for(const i of n.elements)t.some(o=>xs(o,i))||t.push(i);return{arrayValue:{values:t}}}class Oc extends cf{constructor(e){super(),this.elements=e}}function mT(n,e){let t=gT(e);for(const i of n.elements)t=t.filter(o=>!xs(o,i));return{arrayValue:{values:t}}}class Vd extends cf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function pv(n){return en(n.integerValue||n.doubleValue)}function gT(n){return Gm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,t){this.field=e,this.transform=t}}function Kk(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Nc&&o instanceof Nc||i instanceof Oc&&o instanceof Oc?pu(i.elements,o.elements,xs):i instanceof Vd&&o instanceof Vd?xs(i.Ae,o.Ae):i instanceof xc&&o instanceof xc}(n.transform,e.transform)}class Gk{constructor(e,t){this.version=e,this.transformResults=t}}class lo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new lo}static exists(e){return new lo(void 0,e)}static updateTime(e){return new lo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class hf{}function _T(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vT(n.key,lo.none()):new Wc(n.key,n.data,lo.none());{const t=n.data,i=Ei.empty();let o=new mn(zn.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new gl(n.key,i,new Qi(o.toArray()),lo.none())}}function Qk(n,e,t){n instanceof Wc?function(o,l,c){const f=o.value.clone(),m=gv(o.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof gl?function(o,l,c){if(!fd(o.precondition,l))return void l.convertToUnknownDocument(c.version);const f=gv(o.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(yT(o)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Ec(n,e,t,i){return n instanceof Wc?function(l,c,f,m){if(!fd(l.precondition,c))return f;const y=l.value.clone(),w=_v(l.fieldTransforms,m,c);return y.setAll(w),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof gl?function(l,c,f,m){if(!fd(l.precondition,c))return f;const y=_v(l.fieldTransforms,m,c),w=c.data;return w.setAll(yT(l)),w.setAll(y),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(n,e,t,i):function(l,c,f){return fd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function Xk(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=fT(i.transform,o||null);l!=null&&(t===null&&(t=Ei.empty()),t.set(i.field,l))}return t||null}function mv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&pu(i,o,(l,c)=>Kk(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Wc extends hf{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class gl extends hf{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function yT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function gv(n,e,t){const i=new Map;It(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,f=e.data.field(l.field);i.set(l.field,Hk(c,f,t[o]))}return i}function _v(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,qk(l,c,e))}return i}class vT extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jk extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&Qk(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ec(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ec(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=hT();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(o.key)?null:f;const m=_T(c,f);m!==null&&i.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(Ge.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ot())}isEqual(e){return this.batchId===e.batchId&&pu(this.mutations,e.mutations,(t,i)=>mv(t,i))&&pu(this.baseMutations,e.baseMutations,(t,i)=>mv(t,i))}}class Ym{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){It(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=function(){return Fk}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Ym(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,ct;function tb(n){switch(n){case ie.OK:return $e(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return $e(15467,{code:n})}}function ET(n){if(n===void 0)return ho("GRPC error has no .code"),ie.UNKNOWN;switch(n){case sn.OK:return ie.OK;case sn.CANCELLED:return ie.CANCELLED;case sn.UNKNOWN:return ie.UNKNOWN;case sn.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case sn.INTERNAL:return ie.INTERNAL;case sn.UNAVAILABLE:return ie.UNAVAILABLE;case sn.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case sn.NOT_FOUND:return ie.NOT_FOUND;case sn.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case sn.ABORTED:return ie.ABORTED;case sn.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case sn.DATA_LOSS:return ie.DATA_LOSS;default:return $e(39323,{code:n})}}(ct=sn||(sn={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=new oa([4294967295,4294967295],0);function yv(n){const e=nb().encode(n),t=new Ow;return t.update(e),new Uint8Array(t.digest())}function vv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new oa([t,i],0),new oa([o,l],0)]}class Zm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new pc(`Invalid padding: ${t}`);if(i<0)throw new pc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new pc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new pc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=oa.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(oa.fromNumber(i)));return o.compare(rb)===1&&(o=new oa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=yv(e),[i,o]=vv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Zm(l,o,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.ge===0)return;const t=yv(e),[i,o]=vv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Kc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new df(Ge.min(),o,new Bt(st),fo(),ot())}}class Kc{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Kc(i,t,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class wT{constructor(e,t){this.targetId=e,this.Ce=t}}class TT{constructor(e,t,i=Bn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Ev{constructor(){this.ve=0,this.Fe=wv(),this.Me=Bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),t=ot(),i=ot();return this.Fe.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:$e(38017,{changeType:l})}}),new Kc(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=wv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,It(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ib{constructor(e){this.Ge=e,this.ze=new Map,this.je=fo(),this.Je=Yh(),this.He=Yh(),this.Ye=new Bt(st)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:$e(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((i,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(fm(l))if(i===0){const c=new Me(l.path);this.et(t,c,rr.newNoDocument(c,Ge.min()))}else It(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(t);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,f;try{c=ha(i).toUint8Array()}catch(m){if(m instanceof Hw)return fu("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Zm(c,o,l)}catch(m){return fu(m instanceof pc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((l,c)=>{const f=this.ot(c);if(f){if(l.current&&fm(f.target)){const m=new Me(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,rr.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.qe())}});let i=ot();this.He.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const y=this.ot(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.je.forEach((l,c)=>c.setReadTime(e));const o=new df(e,t,this.Ye,this.je,i);return this.je=fo(),this.Je=Yh(),this.He=Yh(),this.Ye=new Bt(st),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ev,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new mn(st),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new mn(st),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ev),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Yh(){return new Bt(Me.comparator)}function wv(){return new Bt(Me.comparator)}const sb={asc:"ASCENDING",desc:"DESCENDING"},ob={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ab={and:"AND",or:"OR"};class lb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mm(n,e){return n.useProto3Json||of(e)?e:{value:e}}function Md(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ub(n,e){return Md(n,e.toTimestamp())}function Rs(n){return It(!!n,49232),Ge.fromTimestamp(function(t){const i=ca(t);return new bt(i.seconds,i.nanos)}(n))}function eg(n,e){return gm(n,e).canonicalString()}function gm(n,e){const t=function(o){return new Nt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ST(n){const e=Nt.fromString(n);return It(kT(e),10190,{key:e.toString()}),e}function _m(n,e){return eg(n.databaseId,e.path)}function Mp(n,e){const t=ST(e);if(t.get(1)!==n.databaseId.projectId)throw new we(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Me(PT(t))}function AT(n,e){return eg(n.databaseId,e)}function cb(n){const e=ST(n);return e.length===4?Nt.emptyPath():PT(e)}function ym(n){return new Nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PT(n){return It(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Tv(n,e,t){return{name:_m(n,e),fields:t.value.mapValue.fields}}function hb(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:$e(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,w){return y.useProto3Json?(It(w===void 0||typeof w=="string",58123),Bn.fromBase64String(w||"")):(It(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Bn.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(y){const w=y.code===void 0?ie.UNKNOWN:ET(y.code);return new we(w,y.message||"")}(c);t=new TT(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Mp(n,i.document.name),l=Rs(i.document.updateTime),c=i.document.createTime?Rs(i.document.createTime):Ge.min(),f=new Ei({mapValue:{fields:i.document.fields}}),m=rr.newFoundDocument(o,l,c,f),y=i.targetIds||[],w=i.removedTargetIds||[];t=new pd(y,w,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Mp(n,i.document),l=i.readTime?Rs(i.readTime):Ge.min(),c=rr.newNoDocument(o,l),f=i.removedTargetIds||[];t=new pd([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Mp(n,i.document),l=i.removedTargetIds||[];t=new pd([],l,o,null)}else{if(!("filter"in e))return $e(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new eb(o,l),f=i.targetId;t=new wT(f,c)}}return t}function db(n,e){let t;if(e instanceof Wc)t={update:Tv(n,e.key,e.value)};else if(e instanceof vT)t={delete:_m(n,e.key)};else if(e instanceof gl)t={update:Tv(n,e.key,e.data),updateMask:wb(e.fieldMask)};else{if(!(e instanceof Jk))return $e(16599,{Vt:e.type});t={verify:_m(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof xc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Nc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Oc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Vd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw $e(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:ub(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:$e(27497)}(n,e.precondition)),t}function fb(n,e){return n&&n.length>0?(It(e!==void 0,14353),n.map(t=>function(o,l){let c=o.updateTime?Rs(o.updateTime):Rs(l);return c.isEqual(Ge.min())&&(c=Rs(l)),new Gk(c,o.transformResults||[])}(t,e))):[]}function pb(n,e){return{documents:[AT(n,e.path)]}}function mb(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=AT(n,o);const l=function(y){if(y.length!==0)return RT(Ji.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(w=>function(R){return{field:nu(R.field),direction:yb(R.dir)}}(w))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=mm(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:t,parent:o}}function gb(n){let e=cb(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){It(i===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=function(S){const R=CT(S);return R instanceof Ji&&tT(R)?R.getFilters():[R]}(t.where));let c=[];t.orderBy&&(c=function(S){return S.map(R=>function(F){return new bc(ru(F.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(R))}(t.orderBy));let f=null;t.limit&&(f=function(S){let R;return R=typeof S=="object"?S.value:S,of(R)?null:R}(t.limit));let m=null;t.startAt&&(m=function(S){const R=!!S.before,B=S.values||[];return new Dd(B,R)}(t.startAt));let y=null;return t.endAt&&(y=function(S){const R=!S.before,B=S.values||[];return new Dd(B,R)}(t.endAt)),Dk(e,o,c,l,f,"F",m,y)}function _b(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function CT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ru(t.unaryFilter.field);return on.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ru(t.unaryFilter.field);return on.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ru(t.unaryFilter.field);return on.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ru(t.unaryFilter.field);return on.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}}(n):n.fieldFilter!==void 0?function(t){return on.create(ru(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ji.create(t.compositeFilter.filters.map(i=>CT(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return $e(1026)}}(t.compositeFilter.op))}(n):$e(30097,{filter:n})}function yb(n){return sb[n]}function vb(n){return ob[n]}function Eb(n){return ab[n]}function nu(n){return{fieldPath:n.canonicalString()}}function ru(n){return zn.fromServerFormat(n.fieldPath)}function RT(n){return n instanceof on?function(t){if(t.op==="=="){if(uv(t.value))return{unaryFilter:{field:nu(t.field),op:"IS_NAN"}};if(lv(t.value))return{unaryFilter:{field:nu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(uv(t.value))return{unaryFilter:{field:nu(t.field),op:"IS_NOT_NAN"}};if(lv(t.value))return{unaryFilter:{field:nu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nu(t.field),op:vb(t.op),value:t.value}}}(n):n instanceof Ji?function(t){const i=t.getFilters().map(o=>RT(o));return i.length===1?i[0]:{compositeFilter:{op:Eb(t.op),filters:i}}}(n):$e(54877,{filter:n})}function wb(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,t,i,o,l=Ge.min(),c=Ge.min(),f=Bn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new ta(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.yt=e}}function Ib(n){const e=gb({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ld(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.Cn=new Ab}addToCollectionParentIndex(e,t){return this.Cn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(ua.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(ua.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class Ab{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new mn(Nt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new mn(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bT=41943040;class Or{static withCacheSize(e){return new Or(e,Or.DEFAULT_COLLECTION_PERCENTILE,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or.DEFAULT_COLLECTION_PERCENTILE=10,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Or.DEFAULT=new Or(bT,Or.DEFAULT_COLLECTION_PERCENTILE,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Or.DISABLED=new Or(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _u(0)}static cr(){return new _u(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="LruGarbageCollector",Pb=1048576;function Av([n,e],[t,i]){const o=st(n,t);return o===0?st(e,i):o}class Cb{constructor(e){this.Ir=e,this.buffer=new mn(Av),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Av(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Rb{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Pe(Sv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ru(t)?Pe(Sv,"Ignoring IndexedDB error during garbage collection: ",t):await Cu(t)}await this.Vr(3e5)})}}class kb{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(sf.ce);const i=new Cb(t);return this.mr.forEachTarget(e,o=>i.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>i.Ar(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(Iv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iv):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,c,f,m,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,c=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(i=S,f=Date.now(),this.removeTargets(e,i,t))).next(S=>(l=S,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(y=Date.now(),eu()<=it.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${S} documents in `+(y-m)+`ms
Total Duration: ${y-w}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S})))}}function bb(n,e){return new kb(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this.changes=new ml(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Ec(i.mutation,o,Qi.empty(),bt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ot()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ot()){const o=sl();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=fc();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=sl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ot()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,o){let l=fo();const c=vc(),f=function(){return vc()}();return t.forEach((m,y)=>{const w=i.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof gl)?l=l.insert(y.key,y):w!==void 0?(c.set(y.key,w.mutation.getFieldMask()),Ec(w.mutation,y,w.mutation.getFieldMask(),bt.now())):c.set(y.key,Qi.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((y,w)=>c.set(y,w)),t.forEach((y,w)=>f.set(y,new Nb(w,c.get(y)??null))),f))}recalculateAndSaveOverlays(e,t){const i=vc();let o=new Bt((c,f)=>c-f),l=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(m=>{const y=t.get(m);if(y===null)return;let w=i.get(m)||Qi.empty();w=f.applyToLocalView(y,w),i.set(m,w);const S=(o.get(f.batchId)||ot()).add(m);o=o.insert(f.batchId,S)})}).next(()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),y=m.key,w=m.value,S=hT();w.forEach(R=>{if(!l.has(R)){const B=_T(t.get(R),i.get(R));B!==null&&S.set(R,B),l=l.add(R)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,S))}return ae.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Me.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):ae.resolve(sl());let f=Pc,m=l;return c.next(y=>ae.forEach(y,(w,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),l.get(w)?ae.resolve():this.remoteDocumentCache.getEntry(e,w).next(R=>{m=m.insert(w,R)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,m,y,ot())).next(w=>({batchId:f,changes:cT(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Me(t)).next(i=>{let o=fc();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=fc();return this.indexManager.getCollectionParents(e,l).next(f=>ae.forEach(f,m=>{const y=function(S,R){return new ku(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(w=>{w.forEach((S,R)=>{c=c.insert(S,R)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((m,y)=>{const w=y.getKey();c.get(w)===null&&(c=c.insert(w,rr.newInvalidDocument(w)))});let f=fc();return c.forEach((m,y)=>{const w=l.get(m);w!==void 0&&Ec(w.mutation,y,Qi.empty(),bt.now()),uf(t,y)&&(f=f.insert(m,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ae.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Rs(o.createTime)}}(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:Ib(o.bundledQuery),readTime:Rs(o.readTime)}}(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.overlays=new Bt(Me.comparator),this.qr=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=sl();return ae.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.St(e,t,l)}),ae.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const o=sl(),l=t.length+1,c=new Me(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,y=m.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&m.largestBatchId>i&&o.set(m.getKey(),m)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new Bt((y,w)=>y-w);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=l.get(y.largestBatchId);w===null&&(w=sl(),l=l.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const f=sl(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((y,w)=>f.set(y,w)),!(f.size()>=o)););return ae.resolve(f)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Zk(t,i));let l=this.qr.get(t);l===void 0&&(l=ot(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.Qr=new mn(kn.$r),this.Ur=new mn(kn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new kn(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Gr(new kn(e,t))}zr(e,t){e.forEach(i=>this.removeReference(i,t))}jr(e){const t=new Me(new Nt([])),i=new kn(t,e),o=new kn(t,e+1),l=[];return this.Ur.forEachInRange([i,o],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Me(new Nt([])),i=new kn(t,e),o=new kn(t,e+1);let l=ot();return this.Ur.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new kn(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class kn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Me.comparator(e.key,t.key)||st(e.Yr,t.Yr)}static Kr(e,t){return st(e.Yr,t.Yr)||Me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new mn(kn.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Yk(l,t,i,o);this.mutationQueue.push(c);for(const f of o)this.Zr=this.Zr.add(new kn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Wm:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new kn(t,0),o=new kn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],c=>{const f=this.Xr(c.Yr);l.push(f)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new mn(st);return t.forEach(o=>{const l=new kn(o,0),c=new kn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],f=>{i=i.add(f.Yr)})}),ae.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;Me.isDocumentKey(l)||(l=l.child(""));const c=new kn(new Me(l),0);let f=new mn(st);return this.Zr.forEachWhile(m=>{const y=m.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(m.Yr)),!0)},c),ae.resolve(this.ti(f))}ti(e){const t=[];return e.forEach(i=>{const o=this.Xr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){It(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ae.forEach(t.mutations,o=>{const l=new kn(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,t){const i=new kn(t,0),o=this.Zr.firstAfterOrEqual(i);return ae.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.ri=e,this.docs=function(){return new Bt(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():rr.newInvalidDocument(t))}getEntries(e,t){let i=fo();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():rr.newInvalidDocument(o))}),ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=fo();const c=t.path,f=new Me(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:y,value:{document:w}}=m.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||dk(hk(w),i)<=0||(o.has(w.key)||uf(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,t,i,o){$e(9500)}ii(e,t){return ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Fb(this)}getSize(e){return ae.resolve(this.size)}}class Fb extends xb{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)}),ae.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.persistence=e,this.si=new ml(t=>Qm(t),Xm),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.oi=0,this._i=new tg,this.targetCount=0,this.ai=_u.ur()}forEachTarget(e,t){return this.si.forEach((i,o)=>t(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),ae.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new _u(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Pr(t),ae.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),ae.waitFor(l).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,t){this.ui={},this.overlays={},this.ci=new sf(0),this.li=!1,this.li=!0,this.hi=new Vb,this.referenceDelegate=e(this),this.Pi=new Ub(this),this.indexManager=new Sb,this.remoteDocumentCache=function(o){return new jb(o)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new Tb(t),this.Ii=new Db(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Lb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new Mb(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){Pe("MemoryPersistence","Starting transaction:",e);const o=new zb(this.ci.next());return this.referenceDelegate.Ei(),i(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ai(e,t){return ae.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,t)))}}class zb extends pk{constructor(e){super(),this.currentSequenceNumber=e}}class ng{constructor(e){this.persistence=e,this.Ri=new tg,this.Vi=null}static mi(e){return new ng(e)}get fi(){if(this.Vi)return this.Vi;throw $e(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.fi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,i=>{const o=Me.fromPath(i);return this.gi(e,o).next(l=>{l||t.removeEntry(o,Ge.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ae.or([()=>ae.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class jd{constructor(e,t){this.persistence=e,this.pi=new ml(i=>_k(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=bb(this,t)}static mi(e,t){return new jd(e,t)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}wr(e){let t=0;return this.pr(e,i=>{t++}).next(()=>t)}pr(e,t){return ae.forEach(this.pi,(i,o)=>this.br(e,i,o).next(l=>l?ae.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,c=>this.br(e,c,t).next(f=>{f||(i++,l.removeEntry(c,Ge.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hd(e.data.value)),t}br(e,t,i){return ae.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ae.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=ot(),o=ot();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new rg(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return LS()?8:mk(sr())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new Bb;return this.Ss(e,t,c).next(f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)})}).next(()=>l.result)}bs(e,t,i,o){return i.documentReadCount<this.fs?(eu()<=it.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",tu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(eu()<=it.DEBUG&&Pe("QueryEngine","Query:",tu(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(eu()<=it.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",tu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cs(t))):ae.resolve())}ys(e,t){if(fv(t))return ae.resolve(null);let i=Cs(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Ld(t,null,"F"),i=Cs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=ot(...l);return this.ps.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(m=>{const y=this.Ds(t,f);return this.Cs(t,y,c,m.readTime)?this.ys(e,Ld(t,null,"F")):this.vs(e,y,t,m)}))})))}ws(e,t,i,o){return fv(t)||o.isEqual(Ge.min())?ae.resolve(null):this.ps.getDocuments(e,i).next(l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,o)?ae.resolve(null):(eu()<=it.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),tu(t)),this.vs(e,c,t,ck(o,Pc)).next(f=>f))})}Ds(e,t){let i=new mn(lT(e));return t.forEach((o,l)=>{uf(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return eu()<=it.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",tu(t)),this.ps.getDocumentsMatchingQuery(e,t,ua.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="LocalStore",qb=3e8;class Hb{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new Bt(st),this.xs=new ml(l=>Qm(l),Xm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ob(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Wb(n,e,t,i){return new Hb(n,e,t,i)}async function NT(n,e){const t=Xe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let m=ot();for(const y of o){c.push(y.batchId);for(const w of y.mutations)m=m.add(w.key)}for(const y of l){f.push(y.batchId);for(const w of y.mutations)m=m.add(w.key)}return t.localDocuments.getDocuments(i,m).next(y=>({Ls:y,removedBatchIds:c,addedBatchIds:f}))})})}function Kb(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(f,m,y,w){const S=y.batch,R=S.keys();let B=ae.resolve();return R.forEach(F=>{B=B.next(()=>w.getEntry(m,F)).next(K=>{const N=y.docVersions.get(F);It(N!==null,48541),K.version.compareTo(N)<0&&(S.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),w.addEntry(K)))})}),B.next(()=>f.mutationQueue.removeMutationBatch(m,S))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let m=ot();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(m=m.add(f.batch.mutations[y].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function OT(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function Gb(n,e){const t=Xe(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach((w,S)=>{const R=o.get(S);if(!R)return;f.push(t.Pi.removeMatchingKeys(l,w.removedDocuments,S).next(()=>t.Pi.addMatchingKeys(l,w.addedDocuments,S)));let B=R.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?B=B.withResumeToken(Bn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):w.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(w.resumeToken,i)),o=o.insert(S,B),function(K,N,G){return K.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=qb?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(R,B,w)&&f.push(t.Pi.updateTargetData(l,B))});let m=fo(),y=ot();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),f.push(Qb(l,c,e.documentUpdates).next(w=>{m=w.ks,y=w.qs})),!i.isEqual(Ge.min())){const w=t.Pi.getLastRemoteSnapshotVersion(l).next(S=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(w)}return ae.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,y)).next(()=>m)}).then(l=>(t.Ms=o,l))}function Qb(n,e,t){let i=ot(),o=ot();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=fo();return t.forEach((f,m)=>{const y=l.get(f);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),m.isNoDocument()&&m.version.isEqual(Ge.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):Pe(ig,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",m.version)}),{ks:c,qs:o}})}function Xb(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Wm),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Jb(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Pi.getTargetData(i,e).next(l=>l?(o=l,ae.resolve(o)):t.Pi.allocateTargetId(i).next(c=>(o=new ta(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i})}async function vm(n,e,t){const i=Xe(n),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Ru(c))throw c;Pe(ig,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function Pv(n,e,t){const i=Xe(n);let o=Ge.min(),l=ot();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,y,w){const S=Xe(m),R=S.xs.get(w);return R!==void 0?ae.resolve(S.Ms.get(R)):S.Pi.getTargetData(y,w)}(i,c,Cs(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>i.Fs.getDocumentsMatchingQuery(c,e,t?o:Ge.min(),t?l:ot())).next(f=>(Yb(i,Vk(e),f),{documents:f,Qs:l})))}function Yb(n,e,t){let i=n.Os.get(e)||Ge.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Os.set(e,i)}class Cv{constructor(){this.activeTargetIds=Bk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zb{constructor(){this.Mo=new Cv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Cv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="ConnectivityMonitor";class kv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Pe(Rv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Pe(Rv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh=null;function Em(){return Zh===null?Zh=function(){return 268435456+Math.round(2147483648*Math.random())}():Zh++,"0x"+Zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="RestConnection",tx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Nd?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const c=Em(),f=this.zo(e,t.toUriEncodedString());Pe(jp,`Sending RPC '${e}' ${c}:`,f,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,l);const{host:y}=new URL(f),w=wu(y);return this.Jo(e,f,m,i,w).then(S=>(Pe(jp,`Received RPC '${e}' ${c}: `,S),S),S=>{throw fu(jp,`RPC '${e}' ${c} failed with error: `,S,"url: ",f,"request:",i),S})}Ho(e,t,i,o,l,c){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}zo(e,t){const i=tx[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="WebChannelConnection";class ix extends nx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const c=Em();return new Promise((f,m)=>{const y=new Dw;y.setWithCredentials(!0),y.listenOnce(Lw.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case cd.NO_ERROR:const S=y.getResponseJson();Pe(tr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(S)),f(S);break;case cd.TIMEOUT:Pe(tr,`RPC '${e}' ${c} timed out`),m(new we(ie.DEADLINE_EXCEEDED,"Request time out"));break;case cd.HTTP_ERROR:const R=y.getStatus();if(Pe(tr,`RPC '${e}' ${c} failed with status:`,R,"response text:",y.getResponseText()),R>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const F=B==null?void 0:B.error;if(F&&F.status&&F.message){const K=function(G){const J=G.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(J)>=0?J:ie.UNKNOWN}(F.status);m(new we(K,F.message))}else m(new we(ie.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new we(ie.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{l_:e,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{Pe(tr,`RPC '${e}' ${c} completed.`)}});const w=JSON.stringify(o);Pe(tr,`RPC '${e}' ${c} sending request:`,o),y.send(t,"POST",w,i,15)})}T_(e,t,i){const o=Em(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=jw(),f=Mw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const w=l.join("");Pe(tr,`Creating RPC '${e}' stream ${o}: ${w}`,m);const S=c.createWebChannel(w,m);this.I_(S);let R=!1,B=!1;const F=new rx({Yo:N=>{B?Pe(tr,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(R||(Pe(tr,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),Pe(tr,`RPC '${e}' stream ${o} sending:`,N),S.send(N))},Zo:()=>S.close()}),K=(N,G,J)=>{N.listen(G,oe=>{try{J(oe)}catch(ne){setTimeout(()=>{throw ne},0)}})};return K(S,dc.EventType.OPEN,()=>{B||(Pe(tr,`RPC '${e}' stream ${o} transport opened.`),F.o_())}),K(S,dc.EventType.CLOSE,()=>{B||(B=!0,Pe(tr,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(S))}),K(S,dc.EventType.ERROR,N=>{B||(B=!0,fu(tr,`RPC '${e}' stream ${o} transport errored. Name:`,N.name,"Message:",N.message),F.a_(new we(ie.UNAVAILABLE,"The operation could not be completed")))}),K(S,dc.EventType.MESSAGE,N=>{var G;if(!B){const J=N.data[0];It(!!J,16349);const oe=J,ne=(oe==null?void 0:oe.error)||((G=oe[0])==null?void 0:G.error);if(ne){Pe(tr,`RPC '${e}' stream ${o} received error:`,ne);const ke=ne.status;let je=function(x){const D=sn[x];if(D!==void 0)return ET(D)}(ke),V=ne.message;je===void 0&&(je=ie.INTERNAL,V="Unknown error status: "+ke+" with message "+ne.message),B=!0,F.a_(new we(je,V)),S.close()}else Pe(tr,`RPC '${e}' stream ${o} received:`,J),F.u_(J)}}),K(f,Vw.STAT_EVENT,N=>{N.stat===lm.PROXY?Pe(tr,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===lm.NOPROXY&&Pe(tr,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.__()},0),F}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(n){return new lb(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&Pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="PersistentStream";class LT{constructor(e,t,i,o,l,c,f,m){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(ho(t.toString()),ho("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.D_===t&&this.G_(i,o)},i=>{e(()=>{const o=new we(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)})})}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{i(()=>this.z_(o))}),this.stream.onMessage(o=>{i(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Pe(bv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Pe(bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sx extends LT{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=hb(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ge.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ge.min():c.readTime?Rs(c.readTime):Ge.min()}(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=ym(this.serializer),t.addTarget=function(l,c){let f;const m=c.target;if(f=fm(m)?{documents:pb(l,m)}:{query:mb(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=IT(l,c.resumeToken);const y=mm(l,c.expectedCount);y!==null&&(f.expectedCount=y)}else if(c.snapshotVersion.compareTo(Ge.min())>0){f.readTime=Md(l,c.snapshotVersion.toTimestamp());const y=mm(l,c.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const i=_b(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=ym(this.serializer),t.removeTarget=e,this.q_(t)}}class ox extends LT{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return It(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,It(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){It(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=fb(e.writeResults,e.commitTime),i=Rs(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=ym(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>db(this.serializer,i))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{}class lx extends ax{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new we(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(e,gm(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(ie.UNKNOWN,l.toString())})}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Ho(e,gm(t,i),o,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new we(ie.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class ux{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ho(t),this.aa=!1):Pe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl="RemoteStore";class cx{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{i.enqueueAndForget(async()=>{_l(this)&&(Pe(fl,"Restarting streams for network reachability change."),await async function(m){const y=Xe(m);y.Ea.add(4),await Gc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await pf(y)}(this))})}),this.Ra=new ux(i,o)}}async function pf(n){if(_l(n))for(const e of n.da)await e(!0)}async function Gc(n){for(const e of n.da)await e(!1)}function VT(n,e){const t=Xe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),lg(t)?ag(t):bu(t).O_()&&og(t,e))}function sg(n,e){const t=Xe(n),i=bu(t);t.Ia.delete(e),i.O_()&&MT(t,e),t.Ia.size===0&&(i.O_()?i.L_():_l(t)&&t.Ra.set("Unknown"))}function og(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bu(n).Y_(e)}function MT(n,e){n.Va.Ue(e),bu(n).Z_(e)}function ag(n){n.Va=new ib({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),bu(n).start(),n.Ra.ua()}function lg(n){return _l(n)&&!bu(n).x_()&&n.Ia.size>0}function _l(n){return Xe(n).Ea.size===0}function jT(n){n.Va=void 0}async function hx(n){n.Ra.set("Online")}async function dx(n){n.Ia.forEach((e,t)=>{og(n,e)})}async function fx(n,e){jT(n),lg(n)?(n.Ra.ha(e),ag(n)):n.Ra.set("Unknown")}async function px(n,e,t){if(n.Ra.set("Online"),e instanceof TT&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.Ia.delete(f),o.Va.removeTarget(f))}(n,e)}catch(i){Pe(fl,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Fd(n,i)}else if(e instanceof pd?n.Va.Ze(e):e instanceof wT?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ge.min()))try{const i=await OT(n.localStore);t.compareTo(i)>=0&&await function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const w=l.Ia.get(y);w&&l.Ia.set(y,w.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,y)=>{const w=l.Ia.get(m);if(!w)return;l.Ia.set(m,w.withResumeToken(Bn.EMPTY_BYTE_STRING,w.snapshotVersion)),MT(l,m);const S=new ta(w.target,m,y,w.sequenceNumber);og(l,S)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){Pe(fl,"Failed to raise snapshot:",i),await Fd(n,i)}}async function Fd(n,e,t){if(!Ru(e))throw e;n.Ea.add(1),await Gc(n),n.Ra.set("Offline"),t||(t=()=>OT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Pe(fl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await pf(n)})}function FT(n,e){return e().catch(t=>Fd(n,t,e))}async function mf(n){const e=Xe(n),t=fa(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wm;for(;mx(e);)try{const o=await Xb(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,gx(e,o)}catch(o){await Fd(e,o)}UT(e)&&zT(e)}function mx(n){return _l(n)&&n.Ta.length<10}function gx(n,e){n.Ta.push(e);const t=fa(n);t.O_()&&t.X_&&t.ea(e.mutations)}function UT(n){return _l(n)&&!fa(n).x_()&&n.Ta.length>0}function zT(n){fa(n).start()}async function _x(n){fa(n).ra()}async function yx(n){const e=fa(n);for(const t of n.Ta)e.ea(t.mutations)}async function vx(n,e,t){const i=n.Ta.shift(),o=Ym.from(i,e,t);await FT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await mf(n)}async function Ex(n,e){e&&fa(n).X_&&await async function(i,o){if(function(c){return tb(c)&&c!==ie.ABORTED}(o.code)){const l=i.Ta.shift();fa(i).B_(),await FT(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await mf(i)}}(n,e),UT(n)&&zT(n)}async function xv(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Pe(fl,"RemoteStore received new credentials");const i=_l(t);t.Ea.add(3),await Gc(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await pf(t)}async function wx(n,e){const t=Xe(n);e?(t.Ea.delete(2),await pf(t)):e||(t.Ea.add(2),await Gc(t),t.Ra.set("Unknown"))}function bu(n){return n.ma||(n.ma=function(t,i,o){const l=Xe(t);return l.sa(),new sx(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Xo:hx.bind(null,n),t_:dx.bind(null,n),r_:fx.bind(null,n),H_:px.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),lg(n)?ag(n):n.Ra.set("Unknown")):(await n.ma.stop(),jT(n))})),n.ma}function fa(n){return n.fa||(n.fa=function(t,i,o){const l=Xe(t);return l.sa(),new ox(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:_x.bind(null,n),r_:Ex.bind(null,n),ta:yx.bind(null,n),na:vx.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await mf(n)):(await n.fa.stop(),n.Ta.length>0&&(Pe(fl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,f=new ug(e,t,c,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(n,e){if(ho("AsyncQueue",`${e}: ${n}`),Ru(n))return new we(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{static emptySet(e){return new au(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Me.comparator(t.key,i.key):(t,i)=>Me.comparator(t.key,i.key),this.keyedMap=fc(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof au)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new au;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.ga=new Bt(Me.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):$e(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,i)=>{e.push(i)}),e}}class yu{constructor(e,t,i,o,l,c,f,m,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new yu(e,t,au.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Ix{constructor(){this.queries=Ov(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Xe(t),l=o.queries;o.queries=Ov(),l.forEach((c,f)=>{for(const m of f.Sa)m.onError(i)})})(this,new we(ie.ABORTED,"Firestore shutting down"))}}function Ov(){return new ml(n=>aT(n),lf)}async function Sx(n,e){const t=Xe(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new Tx,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=cg(c,`Initialization of query '${tu(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&hg(t)}async function Ax(n,e){const t=Xe(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Px(n,e){const t=Xe(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(o)&&(i=!0);c.wa=o}}i&&hg(t)}function Cx(n,e,t){const i=Xe(n),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function hg(n){n.Ca.forEach(e=>{e.next()})}var wm,Dv;(Dv=wm||(wm={})).Ma="default",Dv.Cache="cache";class Rx{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new yu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.key=e}}class $T{constructor(e){this.key=e}}class kx{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ot(),this.mutatedKeys=ot(),this.eu=lT(e),this.tu=new au(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Nv,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,S)=>{const R=o.get(w),B=uf(this.query,S)?S:null,F=!!R&&this.mutatedKeys.has(R.key),K=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let N=!1;R&&B?R.data.isEqual(B.data)?F!==K&&(i.track({type:3,doc:B}),N=!0):this.su(R,B)||(i.track({type:2,doc:B}),N=!0,(m&&this.eu(B,m)>0||y&&this.eu(B,y)<0)&&(f=!0)):!R&&B?(i.track({type:0,doc:B}),N=!0):R&&!B&&(i.track({type:1,doc:R}),N=!0,(m||y)&&(f=!0)),N&&(B?(c=c.add(B),l=K?l.add(w):l.delete(w)):(c=c.delete(w),l=l.delete(w)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),l=l.delete(w.key),i.track({type:1,doc:w})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((w,S)=>function(B,F){const K=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Rt:N})}};return K(B)-K(F)}(w.type,S.type)||this.eu(w.doc,S.doc)),this.ou(i),o=o??!1;const f=t&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,y=m!==this.Za;return this.Za=m,c.length!==0||y?{snapshot:new yu(this.query,e.tu,l,c,e.mutatedKeys,m===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Nv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ot(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const t=[];return e.forEach(i=>{this.Xa.has(i)||t.push(new $T(i))}),this.Xa.forEach(i=>{e.has(i)||t.push(new BT(i))}),t}cu(e){this.Ya=e.Qs,this.Xa=ot();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return yu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dg="SyncEngine";class bx{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class xx{constructor(e){this.key=e,this.hu=!1}}class Nx{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ml(f=>aT(f),lf),this.Iu=new Map,this.Eu=new Set,this.du=new Bt(Me.comparator),this.Au=new Map,this.Ru=new tg,this.Vu={},this.mu=new Map,this.fu=_u.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ox(n,e,t=!0){const i=QT(n);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await qT(i,e,t,!0),o}async function Dx(n,e){const t=QT(n);await qT(t,e,!0,!1)}async function qT(n,e,t,i){const o=await Jb(n.localStore,Cs(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await Lx(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&VT(n.remoteStore,o),f}async function Lx(n,e,t,i,o){n.pu=(S,R,B)=>async function(K,N,G,J){let oe=N.view.ru(G);oe.Cs&&(oe=await Pv(K.localStore,N.query,!1).then(({documents:V})=>N.view.ru(V,oe)));const ne=J&&J.targetChanges.get(N.targetId),ke=J&&J.targetMismatches.get(N.targetId)!=null,je=N.view.applyChanges(oe,K.isPrimaryClient,ne,ke);return Vv(K,N.targetId,je.au),je.snapshot}(n,S,R,B);const l=await Pv(n.localStore,e,!0),c=new kx(e,l.Qs),f=c.ru(l.documents),m=Kc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(f,n.isPrimaryClient,m);Vv(n,t,y.au);const w=new bx(e,t,c);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function Vx(n,e,t){const i=Xe(n),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter(c=>!lf(c,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await vm(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&sg(i.remoteStore,o.targetId),Tm(i,o.targetId)}).catch(Cu)):(Tm(i,o.targetId),await vm(i.localStore,o.targetId,!0))}async function Mx(n,e){const t=Xe(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),sg(t.remoteStore,i.targetId))}async function jx(n,e,t){const i=Hx(n);try{const o=await function(c,f){const m=Xe(c),y=bt.now(),w=f.reduce((B,F)=>B.add(F.key),ot());let S,R;return m.persistence.runTransaction("Locally write mutations","readwrite",B=>{let F=fo(),K=ot();return m.Ns.getEntries(B,w).next(N=>{F=N,F.forEach((G,J)=>{J.isValidDocument()||(K=K.add(G))})}).next(()=>m.localDocuments.getOverlayedDocuments(B,F)).next(N=>{S=N;const G=[];for(const J of f){const oe=Xk(J,S.get(J.key).overlayedDocument);oe!=null&&G.push(new gl(J.key,oe,Yw(oe.value.mapValue),lo.exists(!0)))}return m.mutationQueue.addMutationBatch(B,y,G,f)}).next(N=>{R=N;const G=N.applyToLocalDocumentSet(S,K);return m.documentOverlayCache.saveOverlays(B,N.batchId,G)})}).then(()=>({batchId:R.batchId,changes:cT(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,f,m){let y=c.Vu[c.currentUser.toKey()];y||(y=new Bt(st)),y=y.insert(f,m),c.Vu[c.currentUser.toKey()]=y}(i,o.batchId,t),await Qc(i,o.changes),await mf(i.remoteStore)}catch(o){const l=cg(o,"Failed to persist write");t.reject(l)}}async function HT(n,e){const t=Xe(n);try{const i=await Gb(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Au.get(l);c&&(It(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?It(c.hu,14607):o.removedDocuments.size>0&&(It(c.hu,42227),c.hu=!1))}),await Qc(t,i,e)}catch(i){await Cu(i)}}function Lv(n,e,t){const i=Xe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach((l,c)=>{const f=c.view.va(e);f.snapshot&&o.push(f.snapshot)}),function(c,f){const m=Xe(c);m.onlineState=f;let y=!1;m.queries.forEach((w,S)=>{for(const R of S.Sa)R.va(f)&&(y=!0)}),y&&hg(m)}(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Fx(n,e,t){const i=Xe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let c=new Bt(Me.comparator);c=c.insert(l,rr.newNoDocument(l,Ge.min()));const f=ot().add(l),m=new df(Ge.min(),new Map,new Bt(st),c,f);await HT(i,m),i.du=i.du.remove(l),i.Au.delete(e),fg(i)}else await vm(i.localStore,e,!1).then(()=>Tm(i,e,t)).catch(Cu)}async function Ux(n,e){const t=Xe(n),i=e.batch.batchId;try{const o=await Kb(t.localStore,e);KT(t,i,null),WT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Qc(t,o)}catch(o){await Cu(o)}}async function zx(n,e,t){const i=Xe(n);try{const o=await function(c,f){const m=Xe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return m.mutationQueue.lookupMutationBatch(y,f).next(S=>(It(S!==null,37113),w=S.keys(),m.mutationQueue.removeMutationBatch(y,S))).next(()=>m.mutationQueue.performConsistencyCheck(y)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(y,w,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>m.localDocuments.getDocuments(y,w))})}(i.localStore,e);KT(i,e,t),WT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Qc(i,o)}catch(o){await Cu(o)}}function WT(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function KT(n,e,t){const i=Xe(n);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Tm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(i=>{n.Ru.containsKey(i)||GT(n,i)})}function GT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(sg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),fg(n))}function Vv(n,e,t){for(const i of t)i instanceof BT?(n.Ru.addReference(i.key,e),Bx(n,i)):i instanceof $T?(Pe(dg,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||GT(n,i.key)):$e(19791,{wu:i})}function Bx(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(Pe(dg,"New document in limbo: "+t),n.Eu.add(i),fg(n))}function fg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Me(Nt.fromString(e)),i=n.fu.next();n.Au.set(i,new xx(t)),n.du=n.du.insert(t,i),VT(n.remoteStore,new ta(Cs(sT(t.path)),i,"TargetPurposeLimboResolution",sf.ce))}}async function Qc(n,e,t){const i=Xe(n),o=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach((f,m)=>{c.push(i.pu(m,e,t).then(y=>{var w;if((y||t)&&i.isPrimaryClient){const S=y?!y.fromCache:(w=t==null?void 0:t.targetChanges.get(m.targetId))==null?void 0:w.current;i.sharedClientState.updateQueryState(m.targetId,S?"current":"not-current")}if(y){o.push(y);const S=rg.As(m.targetId,y);l.push(S)}}))}),await Promise.all(c),i.Pu.H_(o),await async function(m,y){const w=Xe(m);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ae.forEach(y,R=>ae.forEach(R.Es,B=>w.persistence.referenceDelegate.addReference(S,R.targetId,B)).next(()=>ae.forEach(R.ds,B=>w.persistence.referenceDelegate.removeReference(S,R.targetId,B)))))}catch(S){if(!Ru(S))throw S;Pe(ig,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const B=w.Ms.get(R),F=B.snapshotVersion,K=B.withLastLimboFreeSnapshotVersion(F);w.Ms=w.Ms.insert(R,K)}}}(i.localStore,l))}async function $x(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Pe(dg,"User change. New user:",e.toKey());const i=await NT(t.localStore,e);t.currentUser=e,function(l,c){l.mu.forEach(f=>{f.forEach(m=>{m.reject(new we(ie.CANCELLED,c))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Qc(t,i.Ls)}}function qx(n,e){const t=Xe(n),i=t.Au.get(e);if(i&&i.hu)return ot().add(i.key);{let o=ot();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const f=t.Tu.get(c);o=o.unionWith(f.view.nu)}return o}}function QT(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=HT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fx.bind(null,e),e.Pu.H_=Px.bind(null,e.eventManager),e.Pu.yu=Cx.bind(null,e.eventManager),e}function Hx(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ux.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zx.bind(null,e),e}class Ud{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Wb(this.persistence,new $b,e.initialUser,this.serializer)}Cu(e){return new xT(ng.mi,this.serializer)}Du(e){return new Zb}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ud.provider={build:()=>new Ud};class Wx extends Ud{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){It(this.persistence.referenceDelegate instanceof jd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Rb(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Or.withCacheSize(this.cacheSizeBytes):Or.DEFAULT;return new xT(i=>jd.mi(i,t),this.serializer)}}class Im{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Lv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$x.bind(null,this.syncEngine),await wx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ix}()}createDatastore(e){const t=ff(e.databaseInfo.databaseId),i=function(l){return new ix(l)}(e.databaseInfo);return function(l,c,f,m){return new lx(l,c,f,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,f){return new cx(i,o,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Lv(this.syncEngine,t,0),function(){return kv.v()?new kv:new ex}())}createSyncEngine(e,t){return function(o,l,c,f,m,y,w){const S=new Nx(o,l,c,f,m,y);return w&&(S.gu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Xe(o);Pe(fl,"RemoteStore shutting down."),l.Ea.add(5),await Gc(l),l.Aa.shutdown(),l.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Im.provider={build:()=>new Im};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ho("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="FirestoreClient";class Gx{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=nr.UNAUTHENTICATED,this.clientId=Hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{Pe(pa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Pe(pa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=cg(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Up(n,e){n.asyncQueue.verifyOperationInProgress(),Pe(pa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await NT(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Mv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Qx(n);Pe(pa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>xv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>xv(e.remoteStore,o)),n._onlineComponents=e}async function Qx(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pe(pa,"Using user provided OfflineComponentProvider");try{await Up(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;fu("Error using user provided cache. Falling back to memory cache: "+t),await Up(n,new Ud)}}else Pe(pa,"Using default OfflineComponentProvider"),await Up(n,new Wx(void 0));return n._offlineComponents}async function XT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pe(pa,"Using user provided OnlineComponentProvider"),await Mv(n,n._uninitializedComponentsProvider._online)):(Pe(pa,"Using default OnlineComponentProvider"),await Mv(n,new Im))),n._onlineComponents}function Xx(n){return XT(n).then(e=>e.syncEngine)}async function Jx(n){const e=await XT(n),t=e.eventManager;return t.onListen=Ox.bind(null,e.syncEngine),t.onUnlisten=Vx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Dx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Mx.bind(null,e.syncEngine),t}function Yx(n,e,t={}){const i=new aa;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,y){const w=new Kx({next:R=>{w.Nu(),c.enqueueAndForget(()=>Ax(l,S)),R.fromCache&&m.source==="server"?y.reject(new we(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new Rx(f,w,{includeMetadataChanges:!0,qa:!0});return Sx(l,S)}(await Jx(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firestore.googleapis.com",Fv=!0;class Uv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YT,this.ssl=Fv}else this.host=e.host,this.ssl=e.ssl??Fv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Pb)throw new we(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JT(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Y1;switch(i.type){case"firstParty":return new nk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new we(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=jv.get(t);i&&(Pe("ComponentProvider","Removing Datastore"),jv.delete(t),i.terminate())}(this),Promise.resolve()}}function Zx(n,e,t,i={}){var y;n=bd(n,gf);const o=wu(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;o&&(yE(`https://${f}`),vE("Firestore",!0)),l.host!==YT&&l.host!==f&&fu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:o,emulatorOptions:i};if(!al(m,c)&&(n._setSettings(m),i.mockUserToken)){let w,S;if(typeof i.mockUserToken=="string")w=i.mockUserToken,S=nr.MOCK_USER;else{w=PS(i.mockUserToken,(y=n._app)==null?void 0:y.options.projectId);const R=i.mockUserToken.sub||i.mockUserToken.user_id;if(!R)throw new we(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new nr(R)}n._authCredentials=new Z1(new Uw(w,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ga(this.firestore,e,this._query)}}class xn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}toJSON(){return{type:xn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Hc(t,xn._jsonSchema))return new xn(e,i||null,new Me(Nt.fromString(t.referencePath)))}}xn._jsonSchemaVersion="firestore/documentReference/1.0",xn._jsonSchema={type:an("string",xn._jsonSchemaVersion),referencePath:an("string")};class la extends ga{constructor(e,t,i){super(e,t,sT(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new Me(e))}withConverter(e){return new la(this.firestore,e,this._path)}}function ZT(n,e,...t){if(n=or(n),zw("collection","path",e),n instanceof gf){const i=Nt.fromString(e,...t);return Zy(i),new la(n,null,i)}{if(!(n instanceof xn||n instanceof la))throw new we(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Nt.fromString(e,...t));return Zy(i),new la(n.firestore,null,i)}}function eN(n,e,...t){if(n=or(n),arguments.length===1&&(e=Hm.newId()),zw("doc","path",e),n instanceof gf){const i=Nt.fromString(e,...t);return Yy(i),new xn(n,null,new Me(i))}{if(!(n instanceof xn||n instanceof la))throw new we(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Nt.fromString(e,...t));return Yy(i),new xn(n.firestore,n instanceof la?n.converter:null,new Me(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="AsyncQueue";class Bv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DT(this,"async_queue_retry"),this._c=()=>{const i=Fp();i&&Pe(zv,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Fp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Fp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new aa;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ru(e))throw e;Pe(zv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,ho("INTERNAL UNHANDLED ERROR: ",$v(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=ug.createAndSchedule(this,e,t,i,l=>this.hc(l));return this.tc.push(o),o}uc(){this.nc&&$e(47125,{Pc:$v(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function $v(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class pg extends gf{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Bv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bv(e),this._firestoreClient=void 0,await e}}}function tN(n,e){const t=typeof n=="object"?n:TE(),i=typeof n=="string"?n:Nd,o=km(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=SS("firestore");l&&Zx(o,...l)}return o}function e0(n){if(n._terminated)throw new we(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||nN(n),n._firestoreClient}function nN(n){var i,o,l;const e=n._freezeSettings(),t=function(f,m,y,w){return new Ek(f,m,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,JT(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)}(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Gx(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wi(Bn.fromBase64String(e))}catch(t){throw new we(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wi(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hc(e,wi._jsonSchema))return wi.fromBase64String(e.bytes)}}wi._jsonSchemaVersion="firestore/bytes/1.0",wi._jsonSchema={type:an("string",wi._jsonSchemaVersion),bytes:an("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ks._jsonSchemaVersion}}static fromJSON(e){if(Hc(e,ks._jsonSchema))return new ks(e.latitude,e.longitude)}}ks._jsonSchemaVersion="firestore/geoPoint/1.0",ks._jsonSchema={type:an("string",ks._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:bs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hc(e,bs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new bs(e.vectorValues);throw new we(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bs._jsonSchemaVersion="firestore/vectorValue/1.0",bs._jsonSchema={type:an("string",bs._jsonSchemaVersion),vectorValues:an("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=/^__.*__$/;class iN{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new gl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wc(e,this.data,t,this.fieldTransforms)}}function t0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{Ac:n})}}class _g{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _g({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return zd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(t0(this.Ac)&&rN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class sN{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ff(e)}Cc(e,t,i,o=!1){return new _g({Ac:e,methodName:t,Dc:i,path:zn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function n0(n){const e=n._freezeSettings(),t=ff(n._databaseId);return new sN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function oN(n,e,t,i,o,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);s0("Data must be an object, but it was:",c,i);const f=r0(i,c);let m,y;if(l.merge)m=new Qi(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const w=[];for(const S of l.mergeFields){const R=lN(e,S,t);if(!c.contains(R))throw new we(ie.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);cN(w,R)||w.push(R)}m=new Qi(w),y=c.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,y=c.fieldTransforms;return new iN(new Ei(f),m,y)}class yg extends gg{_toFieldTransform(e){return new Wk(e.path,new xc)}isEqual(e){return e instanceof yg}}function aN(n,e,t,i=!1){return vg(t,n.Cc(i?4:3,e))}function vg(n,e){if(i0(n=or(n)))return s0("Unsupported field value:",e,n),r0(n,e);if(n instanceof gg)return function(i,o){if(!t0(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const f of i){let m=vg(f,o.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=or(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return $k(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=bt.fromDate(i);return{timestampValue:Md(o.serializer,l)}}if(i instanceof bt){const l=new bt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Md(o.serializer,l)}}if(i instanceof ks)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof wi)return{bytesValue:IT(o.serializer,i._byteString)};if(i instanceof xn){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:eg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof bs)return function(c,f){return{mapValue:{fields:{[Xw]:{stringValue:Jw},[Od]:{arrayValue:{values:c.toArray().map(y=>{if(typeof y!="number")throw f.Sc("VectorValues must only contain numeric values.");return Jm(f.serializer,y)})}}}}}}(i,o);throw o.Sc(`Unsupported field value: ${rf(i)}`)}(n,e)}function r0(n,e){const t={};return qw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pl(n,(i,o)=>{const l=vg(o,e.mc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function i0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bt||n instanceof ks||n instanceof wi||n instanceof xn||n instanceof gg||n instanceof bs)}function s0(n,e,t){if(!i0(t)||!Bw(t)){const i=rf(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function lN(n,e,t){if((e=or(e))instanceof mg)return e._internalPath;if(typeof e=="string")return o0(n,e);throw zd("Field path arguments must be of type string or ",n,!1,void 0,t)}const uN=new RegExp("[~\\*/\\[\\]]");function o0(n,e,t){if(e.search(uN)>=0)throw zd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new mg(...e.split("."))._internalPath}catch{throw zd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zd(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${o}`),m+=")"),new we(ie.INVALID_ARGUMENT,f+n+m)}function cN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_f("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class hN extends a0{data(){return super.data()}}function _f(n,e){return typeof e=="string"?o0(n,e):e instanceof mg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eg{}class wg extends Eg{}function qv(n,e,...t){let i=[];e instanceof Eg&&i.push(e),i=i.concat(t),function(l){const c=l.filter(m=>m instanceof Tg).length,f=l.filter(m=>m instanceof yf).length;if(c>1||c>0&&f>0)throw new we(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class yf extends wg{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new yf(e,t,i)}_apply(e){const t=this._parse(e);return l0(e._query,t),new ga(e.firestore,e.converter,pm(e._query,t))}_parse(e){const t=n0(e.firestore);return function(l,c,f,m,y,w,S){let R;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new we(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Gv(S,w);const F=[];for(const K of S)F.push(Kv(m,l,K));R={arrayValue:{values:F}}}else R=Kv(m,l,S)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Gv(S,w),R=aN(f,c,S,w==="in"||w==="not-in");return on.create(y,w,R)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ed(n,e,t){const i=e,o=_f("where",n);return yf._create(o,i,t)}class Tg extends Eg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tg(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Ji.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let c=o;const f=l.getFlattenedFilters();for(const m of f)l0(c,m),c=pm(c,m)}(e._query,t),new ga(e.firestore,e.converter,pm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ig extends wg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ig(e,t)}_apply(e){const t=function(o,l,c){if(o.startAt!==null)throw new we(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new we(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bc(l,c)}(e._query,this._field,this._direction);return new ga(e.firestore,e.converter,function(o,l){const c=o.explicitOrderBy.concat([l]);return new ku(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Hv(n,e="asc"){const t=e,i=_f("orderBy",n);return Ig._create(i,t)}class Sg extends wg{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Sg(e,t,i)}_apply(e){return new ga(e.firestore,e.converter,Ld(e._query,this._limit,this._limitType))}}function Wv(n){return uk("limit",n),Sg._create("limit",n,"F")}function Kv(n,e,t){if(typeof(t=or(t))=="string"){if(t==="")throw new we(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oT(e)&&t.indexOf("/")!==-1)throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Nt.fromString(t));if(!Me.isDocumentKey(i))throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return av(n,new Me(i))}if(t instanceof xn)return av(n,t._key);throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(t)}.`)}function Gv(n,e){if(!Array.isArray(n)||n.length===0)throw new we(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function l0(n,e){const t=function(o,l){for(const c of o)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new we(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class fN{convertValue(e,t="none"){switch(da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return pl(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var i,o,l;const t=(l=(o=(i=e.fields)==null?void 0:i[Od].arrayValue)==null?void 0:o.values)==null?void 0:l.map(c=>en(c.doubleValue));return new bs(t)}convertGeoPoint(e){return new ks(en(e.latitude),en(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=af(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Cc(e));default:return null}}convertTimestamp(e){const t=ca(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Nt.fromString(e);It(kT(i),9688,{name:e});const o=new Rc(i.get(1),i.get(3)),l=new Me(i.popFirst(5));return o.isEqual(t)||ho(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class td{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lu extends a0{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(_f("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=lu._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}lu._jsonSchemaVersion="firestore/documentSnapshot/1.0",lu._jsonSchema={type:an("string",lu._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class md extends lu{data(e={}){return super.data(e)}}class uu{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new td(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new md(this._firestore,this._userDataWriter,i.key,i,new td(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>{const m=new md(o._firestore,o._userDataWriter,f.doc.key,f.doc,new td(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new md(o._firestore,o._userDataWriter,f.doc.key,f.doc,new td(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return f.type!==0&&(y=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),w=c.indexOf(f.doc.key)),{type:mN(f.type),doc:m,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:n})}}uu._jsonSchemaVersion="firestore/querySnapshot/1.0",uu._jsonSchema={type:an("string",uu._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};class gN extends fN{constructor(e){super(),this.firestore=e}convertBytes(e){return new wi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,t)}}function _N(n){n=bd(n,ga);const e=bd(n.firestore,pg),t=e0(e),i=new gN(e);return dN(n._query),Yx(t,n._query).then(o=>new uu(e,i,n,o))}function yN(n,e){const t=bd(n.firestore,pg),i=eN(n),o=pN(n.converter,e);return vN(t,[oN(n0(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,lo.exists(!1))]).then(()=>i)}function vN(n,e){return function(i,o){const l=new aa;return i.asyncQueue.enqueueAndForget(async()=>jx(await Xx(i),o,l)),l.promise}(e0(n),e)}function EN(){return new yg("serverTimestamp")}(function(e,t=!0){(function(o){Pu=o})(Tu),hu(new ll("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new pg(new ek(i.getProvider("auth-internal")),new rk(c,i.getProvider("app-check-internal")),function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new we(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rc(y.options.projectId,w)}(c,o),c);return l={useFetchStreams:t,...l},f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),sa(Gy,Qy,e),sa(Gy,Qy,"esm2020")})();const u0=tN(J1),c0="audit_logs";function Qv(n){var t,i,o,l,c,f;const e=(t=n.timestamp)!=null&&t._seconds?new Date(n.timestamp._seconds*1e3):n.timestamp instanceof Date?n.timestamp:((o=(i=n.timestamp)==null?void 0:i.toDate)==null?void 0:o.call(i))||(((c=(l=n.createdAt)==null?void 0:l.toDate)==null?void 0:c.call(l))??null);return{id:n.id||n._id||`${n.userId||n.userEmail||""}-${n.action||""}-${((f=e==null?void 0:e.getTime)==null?void 0:f.call(e))||Math.random()}`,timestamp:e||null,userId:n.userId||null,userEmail:n.userEmail||n.email||null,action:n.action||n.event||"unknown",targetType:n.targetType||n.entityType||null,targetId:n.targetId||n.entityId||null,ip:n.ip||n.ipAddress||null,metadata:n.metadata||n.meta||{},tenantId:n.tenantId||n.tenant||sessionStorage.getItem("tenantId")||"public"}}async function QD({search:n="",userEmail:e,action:t,dateFrom:i,dateTo:o,limit:l=100,tenantId:c}={}){try{const f={search:n,userEmail:e,action:t,limit:l};i instanceof Date&&(f.dateFrom=i.toISOString()),o instanceof Date&&(f.dateTo=o.toISOString());const m=c?{"x-tenant-id":c}:void 0;c&&(f.tenantId=c);const{data:y}=await Gi.get("/api/audit-logs",{params:f,headers:m});return(Array.isArray(y==null?void 0:y.items)?y.items:Array.isArray(y)?y:[]).map(Qv)}catch{}try{const f=ZT(u0,c0),m=[];e&&m.push(ed("userEmail","==",e)),t&&m.push(ed("action","==",t)),i&&m.push(ed("timestamp",">=",bt.fromDate(i instanceof Date?i:new Date(i)))),o&&m.push(ed("timestamp","<=",bt.fromDate(o instanceof Date?o:new Date(o))));let y=qv(f,Hv("timestamp","desc"),Wv(Math.min(l,500)));m.length&&(y=qv(f,...m,Hv("timestamp","desc"),Wv(Math.min(l,500))));const S=(await _N(y)).docs.map(R=>Qv({id:R.id,...R.data()}));if(n){const R=n.toLowerCase();return S.filter(B=>[B.userEmail,B.action,B.targetType,B.targetId].filter(Boolean).some(F=>String(F).toLowerCase().includes(R)))}return S}catch{return[]}}async function Bd({action:n,userId:e,userEmail:t,targetType:i,targetId:o,ip:l,metadata:c={}}){const f=sessionStorage.getItem("tenantId")||"public",m={action:n,userId:e||null,userEmail:t||null,targetType:i||null,targetId:o||null,ip:l||null,metadata:c,tenantId:f,timestamp:new Date().toISOString()};try{return await Gi.post("/api/audit-logs",m),!0}catch{}try{return await yN(ZT(u0,c0),{...m,timestamp:EN()}),!0}catch{return!1}}const Ag="theme",h0="data-theme",wN="dark",Is=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;function d0(){try{const n=localStorage.getItem(Ag);return n==="light"||n==="dark"||n==="system"?n:null}catch{return null}}function f0(){return Is&&Is.matches?"dark":"light"}function p0(){const n=d0();return n==="light"||n==="dark"?n:f0()}function vf(n){const e=n==="system"?f0():n,t=document.documentElement;t.setAttribute(h0,e),t.classList.toggle(wN,e==="dark");try{let i=document.querySelector('meta[name="color-scheme"]');i||(i=document.createElement("meta"),i.setAttribute("name","color-scheme"),document.head.appendChild(i)),i.setAttribute("content",e==="dark"?"dark light":"light dark")}catch{}try{window.dispatchEvent(new CustomEvent("themechange",{detail:{theme:e}}))}catch{}return e}function XD(n){const e=n==="light"||n==="dark"||n==="system"?n:"light";try{localStorage.setItem(Ag,e)}catch{}return vf(e)}function JD(){const e=(document.documentElement.getAttribute(h0)||p0())==="dark"?"light":"dark";try{localStorage.setItem(Ag,e)}catch{}return vf(e)}try{const n=()=>{const e=d0();(e==="system"||!e)&&vf("system")};Is!=null&&Is.addEventListener?Is.addEventListener("change",n):Is!=null&&Is.addListener&&Is.addListener(n)}catch{}function TN(){const[n,e]=le.useState(null),t=Ii();le.useEffect(()=>Gd(bn,e),[]);async function i(){var c;const l=((c=bn.currentUser)==null?void 0:c.email)||null;try{await Bd({action:"LOGOUT",userEmail:l})}catch{}await GE(bn),sessionStorage.removeItem("tenantId")}const o=sessionStorage.getItem("tenantId")||"public";return C.jsx("nav",{className:"navbar navbar-expand-lg px-3 shadow-sm",children:C.jsxs("div",{className:"ms-auto d-flex gap-2 align-items-center",children:[C.jsxs("span",{className:"badge text-bg-secondary",children:["Tenant: ",o]}),n?C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"text-muted small d-none d-md-inline",children:n.email}),C.jsx(lc,{className:`btn rounded-pill btn-sm ${t.pathname==="/listings-admin"?"btn-secondary":"btn-outline-secondary"}`,to:"/listings-admin",children:"Admin Portal"}),C.jsx(lc,{className:`btn rounded-pill btn-sm ${t.pathname==="/dashboard"?"btn-secondary":"btn-outline-secondary"}`,to:"/dashboard",children:"Vendor Portal"}),C.jsx(lc,{className:`btn rounded-pill btn-sm ${t.pathname==="/signup/vendor"?"btn-secondary":"btn-outline-secondary"}`,to:"/signup/vendor",children:"Vendor Sign Up"}),C.jsx("button",{className:"btn btn-sm rounded-pill btn-outline-danger",onClick:i,children:"Logout"})]}):C.jsx(lc,{className:"btn btn-sm btn-primary",to:"/login",children:"Login"})]})})}class IN extends de.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("UI Error:",e,t)}render(){var e;return this.state.error?C.jsxs("div",{className:"container p-4",children:[C.jsx("h2",{children:"Something went wrong"}),C.jsx("pre",{className:"bg-light p-3 rounded",style:{whiteSpace:"pre-wrap"},children:String(((e=this.state.error)==null?void 0:e.message)||this.state.error)})]}):this.props.children}}function Xv({children:n}){const[e,t]=le.useState(void 0),i=Ii();return le.useEffect(()=>sC(bn,o=>t(o||null)),[]),e===void 0?null:e?n:C.jsx(nd,{to:"/login",replace:!0,state:{from:i.pathname}})}const SN="/api/lms",m0="vendor_profile_v3";function AN(n,e){return`${m0}:${n}:${e}`}function PN(n){try{return typeof n=="string"?JSON.parse(n):n}catch{return null}}function g0(n,e={}){const t=((n==null?void 0:n.status)||(n==null?void 0:n.approvalStatus)||"").toLowerCase(),i=((n==null?void 0:n.kycStatus)||"").toLowerCase(),o=t==="active"||i==="approved";return{vendorId:(n==null?void 0:n.vendorId)??(n==null?void 0:n.id)??"",id:(n==null?void 0:n.id)??(n==null?void 0:n.vendorId)??"",name:(n==null?void 0:n.name)??(n==null?void 0:n.vendor)??e.name??"",email:((n==null?void 0:n.email)??(n==null?void 0:n.contactEmail)??e.email??"").toLowerCase(),ownerUid:(n==null?void 0:n.ownerUid)??(n==null?void 0:n.uid)??e.uid??"",phone:(n==null?void 0:n.phone)??"",website:(n==null?void 0:n.website)??(n==null?void 0:n.url)??"",logo:(n==null?void 0:n.logo)??(n==null?void 0:n.imageUrl)??"",address:(n==null?void 0:n.address)??"",createdAt:(n==null?void 0:n.createdAt)??null,status:t,kycStatus:i,isApproved:o}}function CN(n,e){if(!n)return null;const t=((e==null?void 0:e.email)||"").toLowerCase(),i=[Array.isArray(n.vendors)&&n.vendors,Array.isArray(n.startups)&&n.startups,Array.isArray(n.companies)&&n.companies,Array.isArray(n.profiles)&&n.profiles].filter(Boolean);for(const o of i){const l=o.find(c=>(c==null?void 0:c.ownerUid)&&c.ownerUid===(e==null?void 0:e.uid)||(c==null?void 0:c.email)&&c.email.toLowerCase()===t||Array.isArray(c==null?void 0:c.members)&&c.members.some(f=>((f==null?void 0:f.email)||"").toLowerCase()===t));if(l)return g0(l,{uid:e==null?void 0:e.uid,email:t,name:e==null?void 0:e.displayName})}return null}const _0=le.createContext(null);function RN({children:n}){const e=le.useMemo(()=>sessionStorage.getItem("tenantId")||"public",[]),[t,i]=le.useState(null),[o,l]=le.useState(null),[c,f]=le.useState(!0),[m,y]=le.useState(null),w=le.useRef(0),S=()=>{Object.keys(localStorage).forEach(N=>{N.startsWith(`${m0}:`)&&localStorage.removeItem(N)})};async function R(){const N=await fetch(`${SN}/live`,{headers:{"x-tenant-id":e,"cache-control":"no-cache"}});return N.ok?N.json():{}}async function B(){try{const N=await Gi.get("/api/data/vendors").then(G=>G.data||[]);return Array.isArray(N)?N:[]}catch{return[]}}async function F(N){if(y(null),f(!0),!N){i(null),l(null),S(),f(!1);return}i(N);const G=AN(e,N.uid),J=PN(localStorage.getItem(G));J&&l(J);const oe=++w.current;try{const ne=await R(),ke=await B();if(Array.isArray(ke)&&ke.length&&(ne.startups=Array.isArray(ne.startups)?ne.startups:[],ke.forEach(k=>{const x=(k.email||k.contactEmail||"").toLowerCase(),D=String(k.vendorId||k.id||x||""),U=ne.startups.findIndex(O=>String(O.vendorId||O.id)===D),q={...ne.startups[U]||{},...k,vendorId:D,id:D};U>=0?ne.startups[U]=q:ne.startups.push(q)})),oe!==w.current)return;const V=CN(ne,N)||g0({},{uid:N.uid,email:N.email||"",name:N.displayName||""});localStorage.setItem(G,JSON.stringify(V)),l(V)}catch(ne){if(oe!==w.current)return;y((ne==null?void 0:ne.message)||"Failed to load vendor profile")}finally{oe===w.current&&f(!1)}}le.useEffect(()=>{const N=Gd(bn,G=>{F(G)});return()=>N()},[e]);const K=le.useMemo(()=>({authUser:t,vendor:o,loading:c,error:m,refresh:async()=>{t&&await F(t)},ensureVendorId:async()=>{if(!t)return null;if(o!=null&&o.vendorId||(await F(t),o!=null&&o.vendorId))return o;try{const N=(t.email||"").toLowerCase(),G=t.displayName||(N?N.split("@")[0]:"Vendor");if(!N)return null;await Gi.post("/api/data/vendors",{id:t.uid,name:G,contactEmail:N,ownerUid:t.uid,status:"pending",kycStatus:"pending",categories:[]}),await F(t)}catch{}return o!=null&&o.vendorId?o:null},signOutAndClear:async()=>{try{await GE(bn)}finally{S(),l(null),i(null)}}}),[t,o,c,m]);return C.jsx(_0.Provider,{value:K,children:n})}function y0(){const n=le.useContext(_0);if(!n)throw new Error("useVendor must be used inside <VendorProvider />");return n}const kN=new As;function zp(n){switch(n){case"auth/invalid-email":return"Please enter a valid email address.";case"auth/missing-password":return"Password is required.";case"auth/invalid-credential":case"auth/wrong-password":return"Incorrect email or password.";case"auth/user-not-found":return"No account found with that email.";case"auth/popup-closed-by-user":return"Sign-in popup was closed.";case"auth/network-request-failed":return"Network error. Check your connection.";default:return"Sign-in failed. Please try again."}}function bN({redirectTo:n="/index-7",afterLogin:e,showTenant:t=!0}){const i=Dc(),o=Ii(),{refresh:l}=y0(),c=le.useMemo(()=>{var D;const x=new URLSearchParams(o.search);return((D=o.state)==null?void 0:D.from)||x.get("returnTo")||n},[o,n]),[f,m]=le.useState(""),[y,w]=le.useState(""),[S,R]=le.useState(!1),[B,F]=le.useState(()=>sessionStorage.getItem("tenantId")||"public"),[K,N]=le.useState(!1),[G,J]=le.useState(null),[oe,ne]=le.useState(null),ke=le.useRef(!1);le.useEffect(()=>{const x=Gd(bn,async D=>{if(!D){ke.current=!1;return}const U=await D.getIdToken(!0);sessionStorage.setItem("tenantId",B);try{await(l==null?void 0:l())}catch{}if(!ke.current){if(ke.current=!0,e)try{await e({uid:D.uid,email:D.email,tenantId:B,idToken:U})}catch{}i(c,{replace:!0})}});return()=>x()},[e,i,c,B,l]);async function je(x){if(x.preventDefault(),ne(null),J(null),!f||!y){ne("Email and password are required.");return}N(!0);try{await KE(bn,f.trim(),y);try{await Bd({action:"LOGIN",userEmail:f.trim()})}catch{}}catch(D){ne(zp(D==null?void 0:D.code))}finally{N(!1)}}async function V(){var x;ne(null),J(null),N(!0);try{await sw(bn,kN);try{await Bd({action:"LOGIN_GOOGLE",userEmail:(x=bn.currentUser)==null?void 0:x.email})}catch{}}catch(D){ne(zp(D==null?void 0:D.code))}finally{N(!1)}}async function k(){if(ne(null),J(null),!f){ne("Enter your email to receive a reset link.");return}N(!0);try{await tC(bn,f.trim()),J("Password reset email sent. Please check your inbox.")}catch(x){ne(zp(x==null?void 0:x.code))}finally{N(!1)}}return C.jsx("div",{className:"container my-4",style:{maxWidth:480},children:C.jsx("div",{className:"card shadow-sm",children:C.jsxs("div",{className:"card-body p-4",children:[C.jsx("h1",{className:"h4 mb-3",children:"Sign in"}),t&&C.jsxs("div",{className:"mb-3",children:[C.jsx("label",{htmlFor:"tenantId",className:"form-label",children:"Tenant"}),C.jsx("select",{id:"tenantId",className:"form-select",value:B,onChange:x=>F(x.target.value),"aria-describedby":"tenantHelp",children:C.jsx("option",{value:"public",children:"public"})}),C.jsxs("div",{id:"tenantHelp",className:"form-text",children:["Requests include ",C.jsx("code",{children:"x-tenant-id"})," for multi-tenant scoping."]})]}),oe&&C.jsx("div",{className:"alert alert-danger py-2",children:oe}),G&&C.jsx("div",{className:"alert alert-success py-2",children:G}),C.jsxs("form",{onSubmit:je,noValidate:!0,children:[C.jsxs("div",{className:"mb-3",children:[C.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),C.jsx("input",{id:"email",type:"email",autoComplete:"email",className:"form-control",value:f,onChange:x=>m(x.target.value),required:!0})]}),C.jsxs("div",{className:"mb-2",children:[C.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),C.jsxs("div",{className:"input-group",children:[C.jsx("input",{id:"password",type:S?"text":"password",autoComplete:"current-password",className:"form-control",value:y,onChange:x=>w(x.target.value),required:!0,minLength:8,"aria-describedby":"passwordHelp"}),C.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>R(!S),"aria-label":S?"Hide password":"Show password",children:S?"Hide":"Show"})]}),C.jsx("div",{id:"passwordHelp",className:"form-text",children:"Minimum 8 characters."})]}),C.jsxs("div",{className:"d-grid gap-2 mt-3",children:[C.jsx("button",{className:"btn rounded-pill border text-neutral-500 border-neutral-700 radius-8 px-12 py-6 bg-hover-primary-700 text-hover-white",type:"submit",disabled:K,children:K?"Signing in...":"Sign in"}),C.jsx("button",{type:"button",className:"btn rounded-pill text-primary-50 hover-text-primary-200 bg-primary-500 bg-hover-primary-800 radius-8 px-12 py-6",onClick:V,disabled:K,children:"Continue with Google"})]})]}),C.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[C.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:k,disabled:K,children:"Forgot password?"}),C.jsx("small",{className:"text-muted",children:"By signing in you accept our Terms & Privacy."})]})]})})})}const xN="/api/data/vendors";function NN(){const n=Dc(),{search:e}=Ii(),{vendor:t,ensureVendorId:i,refresh:o}=y0(),l=le.useMemo(()=>new URLSearchParams(e).get("next")||"/profile-vendor",[e]),[c,f]=le.useState({company:"",website:"",phone:"",email:"",password:"",agree:!1}),[m,y]=le.useState(!1),[w,S]=le.useState("");le.useEffect(()=>{var G;(G=bn.currentUser)!=null&&G.email&&f(J=>({...J,email:bn.currentUser.email}))},[]);function R(G,J){f(oe=>({...oe,[G]:J}))}async function B(G){var J,oe;try{const ne={id:G.id,name:G.name,contactEmail:G.contactEmail,email:G.contactEmail,ownerUid:G.id,phone:G.phone||"",website:G.website||"",kycStatus:G.kycStatus||"pending",categories:G.categories||[]};await Gi.post(xN,ne);try{await Bd({action:"VENDOR_CREATE",userEmail:G.contactEmail,targetType:"vendor",targetId:G.id,metadata:{name:G.name}})}catch{}}catch(ne){const ke=((oe=(J=ne==null?void 0:ne.response)==null?void 0:J.data)==null?void 0:oe.message)||(ne==null?void 0:ne.message)||"Failed to save vendor profile";throw new Error(ke)}}async function F(){try{await(o==null?void 0:o()),await(i==null?void 0:i())}finally{n(l,{replace:!0})}}async function K(){if(S(""),!c.agree){S("Please agree to the Terms and Privacy Policy.");return}y(!0);try{const G=new As,{user:J}=await sw(bn,G),oe={id:J.uid,name:c.company||J.displayName||"Vendor",contactEmail:(J.email||"").toLowerCase(),phone:c.phone,website:c.website};if(c.company)try{await xp(J,{displayName:c.company})}catch{}await B(oe),await F()}catch(G){const J=(G==null?void 0:G.code)||"";S(J==="auth/popup-closed-by-user"?"Google sign-in was closed before completing.":(G==null?void 0:G.message)||"Google sign-in failed")}finally{y(!1)}}async function N(G){if(G.preventDefault(),S(""),!c.agree){S("Please agree to the Terms and Privacy Policy.");return}y(!0);try{const{user:J}=await nC(bn,c.email,c.password);c.company&&await xp(J,{displayName:c.company});const oe={id:J.uid,name:c.company||(J.email?J.email.split("@")[0]:"Vendor"),contactEmail:(J.email||c.email).toLowerCase(),phone:c.phone,website:c.website};await B(oe),await F()}catch(J){const oe=(J==null?void 0:J.code)||"";if(oe==="auth/email-already-in-use")try{const{user:ne}=await KE(bn,c.email,c.password);if(c.company)try{await xp(ne,{displayName:c.company})}catch{}const ke={id:ne.uid,name:c.company||(ne.email?ne.email.split("@")[0]:"Vendor"),contactEmail:(ne.email||c.email).toLowerCase(),phone:c.phone,website:c.website};await B(ke),await F()}catch(ne){const ke=(ne==null?void 0:ne.code)||"";S(ke==="auth/wrong-password"?"Email already registered. The password is incorrect. Please sign in or reset your password.":ke==="auth/user-disabled"?"This account is disabled. Please contact support.":ke==="auth/user-not-found"?"This email is registered with a different sign-in method. Try 'Continue with Google'.":(ne==null?void 0:ne.message)||"Unable to sign in to existing account.")}else S(oe==="auth/weak-password"?"Password is too weak. Please use at least 8 characters.":(J==null?void 0:J.message)||"Sign up failed")}finally{y(!1)}}return C.jsxs("div",{className:"container py-4",style:{maxWidth:760},children:[C.jsx("h1",{className:"h3 mb-2",children:"Become a Vendor"}),C.jsx("p",{className:"text-secondary",children:"Create your vendor profile to list services on the marketplace. After signing up youll be redirected to your vendor workspace."}),w&&C.jsx("div",{className:"alert alert-danger",children:w}),C.jsxs("div",{className:"card mb-3",children:[C.jsx("div",{className:"card-header fw-semibold",children:"Vendor details"}),C.jsxs("div",{className:"card-body",children:[C.jsxs("form",{onSubmit:N,children:[C.jsxs("div",{className:"row g-3",children:[C.jsxs("div",{className:"col-md-6",children:[C.jsx("label",{className:"form-label",children:"Company / Brand"}),C.jsx("input",{className:"form-control",value:c.company,onChange:G=>R("company",G.target.value),placeholder:"e.g., 22 On Sloane",required:!0})]}),C.jsxs("div",{className:"col-md-6",children:[C.jsx("label",{className:"form-label",children:"Website"}),C.jsx("input",{className:"form-control",value:c.website,onChange:G=>R("website",G.target.value),placeholder:"https://your-site.co.za"})]}),C.jsxs("div",{className:"col-md-6",children:[C.jsx("label",{className:"form-label",children:"Work Email"}),C.jsx("input",{type:"email",className:"form-control",value:c.email,onChange:G=>R("email",G.target.value),placeholder:"name@company.com",required:!0})]}),C.jsxs("div",{className:"col-md-6",children:[C.jsx("label",{className:"form-label",children:"Phone"}),C.jsx("input",{className:"form-control",value:c.phone,onChange:G=>R("phone",G.target.value),placeholder:"+27 "})]}),C.jsxs("div",{className:"col-md-6",children:[C.jsx("label",{className:"form-label",children:"Password"}),C.jsx("input",{type:"password",className:"form-control",value:c.password,onChange:G=>R("password",G.target.value),minLength:8,placeholder:"Minimum 8 characters",required:!0})]}),C.jsxs("div",{className:"col-12 d-flex align-items-center gap-2 mt-2",children:[C.jsx("input",{id:"agree",type:"checkbox",className:"form-check-input",checked:c.agree,onChange:G=>R("agree",!!G.target.checked)}),C.jsxs("label",{htmlFor:"agree",className:"form-check-label",children:["I agree to the ",C.jsx("a",{href:"/terms-condition",target:"_blank",rel:"noreferrer",children:"Terms"})," and"," ",C.jsx("a",{href:"/privacy",target:"_blank",rel:"noreferrer",children:"Privacy Policy"}),"."]})]})]}),C.jsxs("div",{className:"d-flex gap-2 mt-3",children:[C.jsx("button",{className:"btn rounded-pill text-primary-50 hover-text-primary-200 bg-primary-500 bg-hover-primary-800 radius-8 px-12 py-6",type:"submit",disabled:m||!c.agree||!c.company||!c.email||!c.password||c.password.length<8,children:m?"Creating":"Create account"}),C.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>n(-1),children:"Cancel"})]})]}),C.jsx("div",{className:"text-center my-3 text-muted",children:"or"}),C.jsx("div",{className:"d-grid",children:C.jsx("button",{className:"btn rounded-pill text-primary-50 hover-text-primary-200 bg-primary-500 bg-hover-primary-800 radius-8 px-12 py-6",onClick:K,disabled:m||!c.company||!c.agree,title:"Continue with Google",children:m?"Please wait":"Continue with Google"})})]})]}),(t==null?void 0:t.vendorId)&&C.jsxs("div",{className:"alert alert-info",children:["Signed in as ",C.jsx("strong",{children:t.name||t.email}),". Vendor ID:"," ",C.jsx("code",{children:t.vendorId})]})]})}const ON=(n,e=2,t=800)=>de.lazy(async()=>{let i;for(let o=0;o<=e;o++)try{return await n()}catch(l){i=l,o<e&&await new Promise(c=>setTimeout(c,t))}throw i}),DN=ON(()=>pe(()=>import("./Dashboard-DNGstY5L.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),LN=de.lazy(()=>pe(()=>import("./HomePageOne-BIrbrOoe.js"),__vite__mapDeps([8,1,2,3,4,9,6,7,10]))),VN=de.lazy(()=>pe(()=>import("./HomePageTwo-Qd0TmoXm.js"),__vite__mapDeps([11,1,2,3,4,6,7,12,10]))),MN=de.lazy(()=>pe(()=>import("./HomePageThree-mjZTi8ln.js"),__vite__mapDeps([13,1,2,3,4,6,7,10]))),jN=de.lazy(()=>pe(()=>import("./HomePageFour-DLvf9ydp.js"),__vite__mapDeps([14,1,2,3,4,6,7,15,16]))),FN=de.lazy(()=>pe(()=>import("./HomePageFive-BL40gdeG.js"),__vite__mapDeps([17,1,2,3,4,6,7,18,10]))),UN=de.lazy(()=>pe(()=>import("./HomePageSix-BVAwASO7.js"),__vite__mapDeps([19,1,2,3,4,6,7]))),zN=de.lazy(()=>pe(()=>import("./HomePageEight-BwXZYYJp.js"),__vite__mapDeps([20,1,2,3,4,6,7]))),BN=de.lazy(()=>pe(()=>import("./HomePageNine-B_EYceqG.js"),__vite__mapDeps([21,1,2,3,4,6,7,10]))),$N=de.lazy(()=>pe(()=>import("./HomePageTen-DsFueRIG.js"),__vite__mapDeps([22,1,2,3,4,6,7]))),qN=de.lazy(()=>pe(()=>import("./HomePageEleven-NMcKpAp7.js"),__vite__mapDeps([23,1,2,3,4,6,7,15,16]))),HN=de.lazy(()=>pe(()=>import("./EmailPage-C2pkJ7Yr.js"),__vite__mapDeps([24,1,2,3,4]))),WN=de.lazy(()=>pe(()=>import("./AddUserPage-Dlm9lJzT.js"),__vite__mapDeps([25,1,2,3,4]))),KN=de.lazy(()=>pe(()=>import("./AlertPage-CqEno678.js"),__vite__mapDeps([26,1,2,3,4]))),GN=de.lazy(()=>pe(()=>import("./AssignRolePage-CiDr2e-D.js"),__vite__mapDeps([27,1,2,3,4]))),QN=de.lazy(()=>pe(()=>import("./AvatarPage-Dn8TMFhO.js"),__vite__mapDeps([28,1,2,3,4]))),XN=de.lazy(()=>pe(()=>import("./BadgesPage-CZ0XuT5D.js"),__vite__mapDeps([29,1,2,3,4]))),JN=de.lazy(()=>pe(()=>import("./ButtonPage-BQ9OcmFE.js"),__vite__mapDeps([30,1,2,3,4]))),Jv=de.lazy(()=>pe(()=>import("./CalendarMainPage-D3Z8CuGO.js"),__vite__mapDeps([31,1,2,3,4,32]))),YN=de.lazy(()=>pe(()=>import("./CardPage-DnFdj0jd.js"),__vite__mapDeps([33,1,2,3,4]))),ZN=de.lazy(()=>pe(()=>import("./CarouselPage-BPiH8HsV.js"),__vite__mapDeps([34,1,2,3,4,15,16]))),eO=de.lazy(()=>pe(()=>import("./ChatMessagePage-A5JQzrL7.js"),__vite__mapDeps([35,1,2,3,4]))),tO=de.lazy(()=>pe(()=>import("./ChatProfilePage-CcSB9ul8.js"),__vite__mapDeps([36,1,2,3,4]))),nO=de.lazy(()=>pe(()=>import("./CodeGeneratorNewPage-CfE5bQ28.js"),__vite__mapDeps([37,1,2,3,4]))),rO=de.lazy(()=>pe(()=>import("./CodeGeneratorPage-CxkjVLFO.js"),__vite__mapDeps([38,1,2,3,4]))),iO=de.lazy(()=>pe(()=>import("./ColorsPage-DOjPVSAy.js"),__vite__mapDeps([39,1,2,3,4]))),sO=de.lazy(()=>pe(()=>import("./ColumnChartPage-BTS66L7d.js"),__vite__mapDeps([40,1,2,3,4,6,7]))),oO=de.lazy(()=>pe(()=>import("./CompanyPage-D5OYMi-i.js"),__vite__mapDeps([41,1,2,3,4]))),aO=de.lazy(()=>pe(()=>import("./CurrenciesPage-CAx07d4R.js"),__vite__mapDeps([42,1,2,3,4]))),lO=de.lazy(()=>pe(()=>import("./DropdownPage-CGvAKdEC.js"),__vite__mapDeps([43,1,2,3,4]))),uO=de.lazy(()=>pe(()=>import("./ErrorPage-CpA59V_y.js"),__vite__mapDeps([44,1,2,3,4]))),cO=de.lazy(()=>pe(()=>import("./FaqPage-C_9DQp5p.js"),__vite__mapDeps([45,1,2,3,4]))),hO=de.lazy(()=>pe(()=>import("./ForgotPasswordPage-BVkR7v8t.js"),__vite__mapDeps([46,2]))),dO=de.lazy(()=>pe(()=>import("./FormLayoutPage-DK55g6B1.js"),__vite__mapDeps([47,2,1,3,4]))),fO=de.lazy(()=>pe(()=>import("./FormValidationPage-BXxiPkbn.js"),__vite__mapDeps([48,1,2,3,4]))),pO=de.lazy(()=>pe(()=>import("./FormPage-Di5iyVg8.js"),__vite__mapDeps([49,1,2,3,4]))),mO=de.lazy(()=>pe(()=>import("./GalleryPage-DMEfv22D.js"),__vite__mapDeps([50,1,2,3,4]))),gO=de.lazy(()=>pe(()=>import("./ImageGeneratorPage-BRT7XbBu.js"),__vite__mapDeps([51,1,2,3,4]))),_O=de.lazy(()=>pe(()=>import("./ImageUploadPage-BidOfD-5.js"),__vite__mapDeps([52,1,2,3,4]))),yO=de.lazy(()=>pe(()=>import("./InvoiceAddPage-CQ0iKrqs.js"),__vite__mapDeps([53,1,2,3,4]))),vO=de.lazy(()=>pe(()=>import("./InvoiceEditPage-DGmJl9eo.js"),__vite__mapDeps([54,1,2,3,4]))),EO=de.lazy(()=>pe(()=>import("./InvoiceListPage-BLjpv3Qt.js"),__vite__mapDeps([55,1,2,3,4]))),wO=de.lazy(()=>pe(()=>import("./InvoicePreviewPage-C1nV9AuX.js"),__vite__mapDeps([56,1,2,3,4]))),TO=de.lazy(()=>pe(()=>import("./KanbanPage-OOrBD77F.js"),__vite__mapDeps([57,1,2,3,4,58,16,7]))),IO=de.lazy(()=>pe(()=>import("./LanguagePage-C2YPc_LE.js"),__vite__mapDeps([59,1,2,3,4]))),SO=de.lazy(()=>pe(()=>import("./LineChartPage-B_6GPLF_.js"),__vite__mapDeps([60,1,2,3,4,6,7]))),AO=de.lazy(()=>pe(()=>import("./ListPage-Bje0LAql.js"),__vite__mapDeps([61,1,2,3,4]))),PO=de.lazy(()=>pe(()=>import("./MarketplaceDetailsPage-BVayBjqX.js"),__vite__mapDeps([62,1,2,3,4,6,7]))),CO=de.lazy(()=>pe(()=>import("./MarketplacePage-B7dQsl-u.js"),__vite__mapDeps([63,1,2,3,4,6,7]))),RO=de.lazy(()=>pe(()=>import("./NotificationAlertPage-CatHXbex.js"),__vite__mapDeps([64,1,2,3,4]))),kO=de.lazy(()=>pe(()=>import("./NotificationPage-CJINaV-p.js"),__vite__mapDeps([65,1,2,3,4]))),bO=de.lazy(()=>pe(()=>import("./PaginationPage-DzFddEpZ.js"),__vite__mapDeps([66,1,2,3,4]))),xO=de.lazy(()=>pe(()=>import("./PaymentGatewayPage-BKthmpWJ.js"),__vite__mapDeps([67,1,2,3,4]))),NO=de.lazy(()=>pe(()=>import("./PieChartPage-DO-62u4W.js"),__vite__mapDeps([68,1,2,3,4,6,7]))),OO=de.lazy(()=>pe(()=>import("./PortfolioPage-Cst7i4Im.js"),__vite__mapDeps([69,1,2,3,4,6,7]))),DO=de.lazy(()=>pe(()=>import("./PricingPage-CXXxgBbR.js"),__vite__mapDeps([70,1,2,3,4]))),LO=de.lazy(()=>pe(()=>import("./ProgressPage-DEhi9rdm.js"),__vite__mapDeps([71,1,2,3,4]))),VO=de.lazy(()=>pe(()=>import("./RadioPage-B9hnRfaN.js"),__vite__mapDeps([72,1,2,3,4]))),MO=de.lazy(()=>pe(()=>import("./RoleAccessPage-Dw7vdqqF.js"),__vite__mapDeps([73,1,2,3,4]))),jO=de.lazy(()=>pe(()=>import("./SignInPage-C7FGURa5.js"),__vite__mapDeps([74,2]))),FO=de.lazy(()=>pe(()=>import("./SignUpPage-B0A5KOZ4.js"),__vite__mapDeps([75,2]))),UO=de.lazy(()=>pe(()=>import("./StarRatingPage-Dl9lGNFz.js"),__vite__mapDeps([76,1,2,3,4]))),zO=de.lazy(()=>pe(()=>import("./StarredPage-BvuY_33w.js"),__vite__mapDeps([77,1,2,3,4]))),BO=de.lazy(()=>pe(()=>import("./SwitchPage-CHxxXO0n.js"),__vite__mapDeps([78,1,2,3,4]))),$O=de.lazy(()=>pe(()=>import("./TableBasicPage-Ca4Sxxon.js"),__vite__mapDeps([79,1,2,3,4]))),qO=de.lazy(()=>pe(()=>import("./TableDataPage-CGvxNwHE.js"),__vite__mapDeps([80,1,2,3,4]))),HO=de.lazy(()=>pe(()=>import("./TabsPage-DI8VIefk.js"),__vite__mapDeps([81,1,2,3,4]))),WO=de.lazy(()=>pe(()=>import("./TagsPage-DIkSxxEO.js"),__vite__mapDeps([82,1,2,3,4]))),KO=de.lazy(()=>pe(()=>import("./TermsConditionPage-ConaZkxS.js"),__vite__mapDeps([83,1,2,3,4,84]))),GO=de.lazy(()=>pe(()=>import("./TextGeneratorNewPage-CPQ6a7dZ.js"),__vite__mapDeps([85,1,2,3,4]))),QO=de.lazy(()=>pe(()=>import("./TextGeneratorPage-DSSqLT0O.js"),__vite__mapDeps([86,1,2,3,4]))),XO=de.lazy(()=>pe(()=>import("./ThemePage-C59LPnND.js"),__vite__mapDeps([87,1,2,3,4]))),JO=de.lazy(()=>pe(()=>import("./TooltipPage-Bl8P4755.js"),__vite__mapDeps([88,1,2,3,4]))),YO=de.lazy(()=>pe(()=>import("./TypographyPage-DCqvkXIi.js"),__vite__mapDeps([89,1,2,3,4]))),ZO=de.lazy(()=>pe(()=>import("./UsersGridPage-DB6xUewn.js"),__vite__mapDeps([90,1,2,3,4]))),eD=de.lazy(()=>pe(()=>import("./UsersListPage-BbPg2ukq.js"),__vite__mapDeps([91,1,2,3,4]))),tD=de.lazy(()=>pe(()=>import("./ViewDetailsPage-C1SWIEeb.js"),__vite__mapDeps([92,1,2,3,4]))),nD=de.lazy(()=>pe(()=>import("./VideoGeneratorPage-ClO4oUwG.js"),__vite__mapDeps([93,1,2,3,4]))),rD=de.lazy(()=>pe(()=>import("./VideosPage-7uCOONAF.js"),__vite__mapDeps([94,1,2,3,4,58]))),iD=de.lazy(()=>pe(()=>import("./ViewProfilePage-HSOZhI0v.js"),__vite__mapDeps([95,1,2,3,4]))),sD=de.lazy(()=>pe(()=>import("./VoiceGeneratorPage-HICXJxxW.js"),__vite__mapDeps([96,1,2,3,4]))),oD=de.lazy(()=>pe(()=>import("./WalletPage-C9Wu-ZYm.js"),__vite__mapDeps([97,1,2,3,4]))),aD=de.lazy(()=>pe(()=>import("./WidgetsPage-B2_MiTX8.js"),__vite__mapDeps([98,1,2,3,4,6,7,9,10,12,18]))),lD=de.lazy(()=>pe(()=>import("./WizardPage-CvJAx_1B.js"),__vite__mapDeps([99,1,2,3,4]))),uD=de.lazy(()=>pe(()=>import("./AuditLogsPage-CJf3_pno.js"),__vite__mapDeps([100,1,2,3,4]))),cD=de.lazy(()=>pe(()=>import("./AllDataTable-DnJgi6N2.js"),[])),hD=de.lazy(()=>pe(()=>import("./DataOverview-D9gkoHNU.js"),[])),dD=de.lazy(()=>pe(()=>import("./Market1-CbcEfgzg.js"),[])),fD=de.lazy(()=>pe(()=>import("./LmsPage-zLTBcxzz.js"),__vite__mapDeps([101,2,1,3]))),pD=de.lazy(()=>pe(()=>import("./LmsAdminPage-DvvEz5Sy.js"),[])),mD=de.lazy(()=>pe(()=>import("./ListingsAdminPage-yUUvU90Y.js"),__vite__mapDeps([102,5,103,2,3]))),gD=de.lazy(()=>pe(()=>import("./VendorAddListingPage-DpoeIrG9.js"),__vite__mapDeps([104,1,2,3,5]))),_D=de.lazy(()=>pe(()=>import("./VendorMyListings-DV68ddWj.js"),__vite__mapDeps([105,1,2,3,5]))),yD=de.lazy(()=>pe(()=>import("./VendorProfilePage-FnifNxJg.js"),__vite__mapDeps([106,1,2,3,5]))),vD=de.lazy(()=>pe(()=>import("./VendorsAdminPage-h7RODMY9.js"),__vite__mapDeps([107,5,103,2,3])));function ED(){return C.jsx("div",{className:"container py-4",children:C.jsx("p",{children:"Loading"})})}function wD(){return C.jsxs(C.Fragment,{children:[C.jsx(mS,{}),C.jsx(TN,{}),C.jsx(IN,{children:C.jsx(le.Suspense,{fallback:C.jsx(ED,{}),children:C.jsxs(YI,{children:[C.jsx(ce,{path:"/login",element:C.jsx(bN,{})}),C.jsx(ce,{path:"/dashboard",element:C.jsx(Xv,{children:C.jsx(DN,{})})}),C.jsx(ce,{path:"/lms-admin",element:C.jsx(Xv,{children:C.jsx(pD,{})})}),C.jsx(ce,{path:"/",element:C.jsx(LN,{})}),C.jsx(ce,{path:"/index-2",element:C.jsx(VN,{})}),C.jsx(ce,{path:"/index-3",element:C.jsx(MN,{})}),C.jsx(ce,{path:"/index-4",element:C.jsx(jN,{})}),C.jsx(ce,{path:"/index-5",element:C.jsx(FN,{})}),C.jsx(ce,{path:"/index-6",element:C.jsx(UN,{})}),C.jsx(ce,{path:"/index-8",element:C.jsx(zN,{})}),C.jsx(ce,{path:"/index-9",element:C.jsx(BN,{})}),C.jsx(ce,{path:"/index-10",element:C.jsx($N,{})}),C.jsx(ce,{path:"/index-11",element:C.jsx(qN,{})}),C.jsx(ce,{path:"/add-user",element:C.jsx(WN,{})}),C.jsx(ce,{path:"/alert",element:C.jsx(KN,{})}),C.jsx(ce,{path:"/assign-role",element:C.jsx(GN,{})}),C.jsx(ce,{path:"/avatar",element:C.jsx(QN,{})}),C.jsx(ce,{path:"/badges",element:C.jsx(XN,{})}),C.jsx(ce,{path:"/button",element:C.jsx(JN,{})}),C.jsx(ce,{path:"/calendar-main",element:C.jsx(Jv,{})}),C.jsx(ce,{path:"/calendar",element:C.jsx(Jv,{})}),C.jsx(ce,{path:"/card",element:C.jsx(YN,{})}),C.jsx(ce,{path:"/carousel",element:C.jsx(ZN,{})}),C.jsx(ce,{path:"/chat-message",element:C.jsx(eO,{})}),C.jsx(ce,{path:"/chat-profile",element:C.jsx(tO,{})}),C.jsx(ce,{path:"/code-generator",element:C.jsx(rO,{})}),C.jsx(ce,{path:"/code-generator-new",element:C.jsx(nO,{})}),C.jsx(ce,{path:"/colors",element:C.jsx(iO,{})}),C.jsx(ce,{path:"/column-chart",element:C.jsx(sO,{})}),C.jsx(ce,{path:"/company",element:C.jsx(oO,{})}),C.jsx(ce,{path:"/currencies",element:C.jsx(aO,{})}),C.jsx(ce,{path:"/dropdown",element:C.jsx(lO,{})}),C.jsx(ce,{path:"/email",element:C.jsx(HN,{})}),C.jsx(ce,{path:"/faq",element:C.jsx(cO,{})}),C.jsx(ce,{path:"/forgot-password",element:C.jsx(hO,{})}),C.jsx(ce,{path:"/form-layout",element:C.jsx(dO,{})}),C.jsx(ce,{path:"/form-validation",element:C.jsx(fO,{})}),C.jsx(ce,{path:"/form",element:C.jsx(pO,{})}),C.jsx(ce,{path:"/gallery",element:C.jsx(mO,{})}),C.jsx(ce,{path:"/image-generator",element:C.jsx(gO,{})}),C.jsx(ce,{path:"/image-upload",element:C.jsx(_O,{})}),C.jsx(ce,{path:"/invoice-add",element:C.jsx(yO,{})}),C.jsx(ce,{path:"/invoice-edit",element:C.jsx(vO,{})}),C.jsx(ce,{path:"/invoice-list",element:C.jsx(EO,{})}),C.jsx(ce,{path:"/invoice-preview",element:C.jsx(wO,{})}),C.jsx(ce,{path:"/kanban",element:C.jsx(TO,{})}),C.jsx(ce,{path:"/language",element:C.jsx(IO,{})}),C.jsx(ce,{path:"/line-chart",element:C.jsx(SO,{})}),C.jsx(ce,{path:"/list",element:C.jsx(AO,{})}),C.jsx(ce,{path:"/marketplace-details",element:C.jsx(PO,{})}),C.jsx(ce,{path:"/marketplace",element:C.jsx(CO,{})}),C.jsx(ce,{path:"/notification-alert",element:C.jsx(RO,{})}),C.jsx(ce,{path:"/notification",element:C.jsx(kO,{})}),C.jsx(ce,{path:"/pagination",element:C.jsx(bO,{})}),C.jsx(ce,{path:"/payment-gateway",element:C.jsx(xO,{})}),C.jsx(ce,{path:"/pie-chart",element:C.jsx(NO,{})}),C.jsx(ce,{path:"/portfolio",element:C.jsx(OO,{})}),C.jsx(ce,{path:"/pricing",element:C.jsx(DO,{})}),C.jsx(ce,{path:"/progress",element:C.jsx(LO,{})}),C.jsx(ce,{path:"/radio",element:C.jsx(VO,{})}),C.jsx(ce,{path:"/role-access",element:C.jsx(MO,{})}),C.jsx(ce,{path:"/sign-in",element:C.jsx(jO,{})}),C.jsx(ce,{path:"/sign-up",element:C.jsx(FO,{})}),C.jsx(ce,{path:"/star-rating",element:C.jsx(UO,{})}),C.jsx(ce,{path:"/starred",element:C.jsx(zO,{})}),C.jsx(ce,{path:"/switch",element:C.jsx(BO,{})}),C.jsx(ce,{path:"/table-basic",element:C.jsx($O,{})}),C.jsx(ce,{path:"/table-data",element:C.jsx(qO,{})}),C.jsx(ce,{path:"/tabs",element:C.jsx(HO,{})}),C.jsx(ce,{path:"/tags",element:C.jsx(WO,{})}),C.jsx(ce,{path:"/terms-condition",element:C.jsx(KO,{})}),C.jsx(ce,{path:"/text-generator-new",element:C.jsx(GO,{})}),C.jsx(ce,{path:"/text-generator",element:C.jsx(QO,{})}),C.jsx(ce,{path:"/theme",element:C.jsx(XO,{})}),C.jsx(ce,{path:"/tooltip",element:C.jsx(JO,{})}),C.jsx(ce,{path:"/typography",element:C.jsx(YO,{})}),C.jsx(ce,{path:"/users-grid",element:C.jsx(ZO,{})}),C.jsx(ce,{path:"/users-list",element:C.jsx(eD,{})}),C.jsx(ce,{path:"/view-details",element:C.jsx(tD,{})}),C.jsx(ce,{path:"/video-generator",element:C.jsx(nD,{})}),C.jsx(ce,{path:"/videos",element:C.jsx(rD,{})}),C.jsx(ce,{path:"/view-profile",element:C.jsx(iD,{})}),C.jsx(ce,{path:"/voice-generator",element:C.jsx(sD,{})}),C.jsx(ce,{path:"/wallet",element:C.jsx(oD,{})}),C.jsx(ce,{path:"/widgets",element:C.jsx(aD,{})}),C.jsx(ce,{path:"/wizard",element:C.jsx(lD,{})}),C.jsx(ce,{path:"/audit-logs",element:C.jsx(uD,{})}),C.jsx(ce,{path:"/overview",element:C.jsx(hD,{})}),C.jsx(ce,{path:"/data",element:C.jsx(cD,{})}),C.jsx(ce,{path:"/market1",element:C.jsx(dD,{})}),C.jsx(ce,{path:"/lms",element:C.jsx(fD,{})}),C.jsx(ce,{path:"/listings-admin",element:C.jsx(mD,{})}),C.jsx(ce,{path:"/listings-vendors",element:C.jsx(gD,{})}),C.jsx(ce,{path:"/signup/vendor",element:C.jsx(NN,{})}),C.jsx(ce,{path:"/listings-vendors-mine",element:C.jsx(_D,{})}),C.jsx(ce,{path:"/profile-vendor",element:C.jsx(yD,{})}),C.jsx(ce,{path:"/profile-vendor-admin",element:C.jsx(vD,{})}),C.jsx(ce,{path:"/index-7",element:C.jsx(nd,{to:"/dashboard",replace:!0})}),C.jsx(ce,{path:"/",element:C.jsx(nd,{to:"/dashboard",replace:!0})}),C.jsx(ce,{path:"/profile",element:C.jsx(nd,{to:"/profile-vendor",replace:!0})}),C.jsx(ce,{path:"*",element:C.jsx(uO,{})})]})})})]})}var gd={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var TD=gd.exports,Yv;function ID(){return Yv||(Yv=1,function(n,e){(function(t,i){n.exports=i()})(TD,function(){const t=new Map,i={set(T,d,v){t.has(T)||t.set(T,new Map);const A=t.get(T);A.has(d)||A.size===0?A.set(d,v):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(A.keys())[0]}.`)},get:(T,d)=>t.has(T)&&t.get(T).get(d)||null,remove(T,d){if(!t.has(T))return;const v=t.get(T);v.delete(d),v.size===0&&t.delete(T)}},o="transitionend",l=T=>(T&&window.CSS&&window.CSS.escape&&(T=T.replace(/#([^\s"#']+)/g,(d,v)=>`#${CSS.escape(v)}`)),T),c=T=>{T.dispatchEvent(new Event(o))},f=T=>!(!T||typeof T!="object")&&(T.jquery!==void 0&&(T=T[0]),T.nodeType!==void 0),m=T=>f(T)?T.jquery?T[0]:T:typeof T=="string"&&T.length>0?document.querySelector(l(T)):null,y=T=>{if(!f(T)||T.getClientRects().length===0)return!1;const d=getComputedStyle(T).getPropertyValue("visibility")==="visible",v=T.closest("details:not([open])");if(!v)return d;if(v!==T){const A=T.closest("summary");if(A&&A.parentNode!==v||A===null)return!1}return d},w=T=>!T||T.nodeType!==Node.ELEMENT_NODE||!!T.classList.contains("disabled")||(T.disabled!==void 0?T.disabled:T.hasAttribute("disabled")&&T.getAttribute("disabled")!=="false"),S=T=>{if(!document.documentElement.attachShadow)return null;if(typeof T.getRootNode=="function"){const d=T.getRootNode();return d instanceof ShadowRoot?d:null}return T instanceof ShadowRoot?T:T.parentNode?S(T.parentNode):null},R=()=>{},B=T=>{T.offsetHeight},F=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,K=[],N=()=>document.documentElement.dir==="rtl",G=T=>{var d;d=()=>{const v=F();if(v){const A=T.NAME,M=v.fn[A];v.fn[A]=T.jQueryInterface,v.fn[A].Constructor=T,v.fn[A].noConflict=()=>(v.fn[A]=M,T.jQueryInterface)}},document.readyState==="loading"?(K.length||document.addEventListener("DOMContentLoaded",()=>{for(const v of K)v()}),K.push(d)):d()},J=(T,d=[],v=T)=>typeof T=="function"?T(...d):v,oe=(T,d,v=!0)=>{if(!v)return void J(T);const A=(Z=>{if(!Z)return 0;let{transitionDuration:re,transitionDelay:me}=window.getComputedStyle(Z);const Ie=Number.parseFloat(re),Se=Number.parseFloat(me);return Ie||Se?(re=re.split(",")[0],me=me.split(",")[0],1e3*(Number.parseFloat(re)+Number.parseFloat(me))):0})(d)+5;let M=!1;const z=({target:Z})=>{Z===d&&(M=!0,d.removeEventListener(o,z),J(T))};d.addEventListener(o,z),setTimeout(()=>{M||c(d)},A)},ne=(T,d,v,A)=>{const M=T.length;let z=T.indexOf(d);return z===-1?!v&&A?T[M-1]:T[0]:(z+=v?1:-1,A&&(z=(z+M)%M),T[Math.max(0,Math.min(z,M-1))])},ke=/[^.]*(?=\..*)\.|.*/,je=/\..*/,V=/::\d+$/,k={};let x=1;const D={mouseenter:"mouseover",mouseleave:"mouseout"},U=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function q(T,d){return d&&`${d}::${x++}`||T.uidEvent||x++}function O(T){const d=q(T);return T.uidEvent=d,k[d]=k[d]||{},k[d]}function Lt(T,d,v=null){return Object.values(T).find(A=>A.callable===d&&A.delegationSelector===v)}function ln(T,d,v){const A=typeof d=="string",M=A?v:d||v;let z=Le(T);return U.has(z)||(z=T),[A,M,z]}function un(T,d,v,A,M){if(typeof d!="string"||!T)return;let[z,Z,re]=ln(d,v,A);d in D&&(Z=(Ae=>function(De){if(!De.relatedTarget||De.relatedTarget!==De.delegateTarget&&!De.delegateTarget.contains(De.relatedTarget))return Ae.call(this,De)})(Z));const me=O(T),Ie=me[re]||(me[re]={}),Se=Lt(Ie,Z,z?v:null);if(Se)return void(Se.oneOff=Se.oneOff&&M);const Ee=q(Z,d.replace(ke,"")),Ve=z?function(be,Ae,De){return function qe(_t){const Tt=be.querySelectorAll(Ae);for(let{target:Je}=_t;Je&&Je!==this;Je=Je.parentNode)for(const ut of Tt)if(ut===Je)return $(_t,{delegateTarget:Je}),qe.oneOff&&H.off(be,_t.type,Ae,De),De.apply(Je,[_t])}}(T,v,Z):function(be,Ae){return function De(qe){return $(qe,{delegateTarget:be}),De.oneOff&&H.off(be,qe.type,Ae),Ae.apply(be,[qe])}}(T,Z);Ve.delegationSelector=z?v:null,Ve.callable=Z,Ve.oneOff=M,Ve.uidEvent=Ee,Ie[Ee]=Ve,T.addEventListener(re,Ve,z)}function dt(T,d,v,A,M){const z=Lt(d[v],A,M);z&&(T.removeEventListener(v,z,!!M),delete d[v][z.uidEvent])}function ve(T,d,v,A){const M=d[v]||{};for(const[z,Z]of Object.entries(M))z.includes(A)&&dt(T,d,v,Z.callable,Z.delegationSelector)}function Le(T){return T=T.replace(je,""),D[T]||T}const H={on(T,d,v,A){un(T,d,v,A,!1)},one(T,d,v,A){un(T,d,v,A,!0)},off(T,d,v,A){if(typeof d!="string"||!T)return;const[M,z,Z]=ln(d,v,A),re=Z!==d,me=O(T),Ie=me[Z]||{},Se=d.startsWith(".");if(z===void 0){if(Se)for(const Ee of Object.keys(me))ve(T,me,Ee,d.slice(1));for(const[Ee,Ve]of Object.entries(Ie)){const be=Ee.replace(V,"");re&&!d.includes(be)||dt(T,me,Z,Ve.callable,Ve.delegationSelector)}}else{if(!Object.keys(Ie).length)return;dt(T,me,Z,z,M?v:null)}},trigger(T,d,v){if(typeof d!="string"||!T)return null;const A=F();let M=null,z=!0,Z=!0,re=!1;d!==Le(d)&&A&&(M=A.Event(d,v),A(T).trigger(M),z=!M.isPropagationStopped(),Z=!M.isImmediatePropagationStopped(),re=M.isDefaultPrevented());const me=$(new Event(d,{bubbles:z,cancelable:!0}),v);return re&&me.preventDefault(),Z&&T.dispatchEvent(me),me.defaultPrevented&&M&&M.preventDefault(),me}};function $(T,d={}){for(const[v,A]of Object.entries(d))try{T[v]=A}catch{Object.defineProperty(T,v,{configurable:!0,get:()=>A})}return T}function se(T){if(T==="true")return!0;if(T==="false")return!1;if(T===Number(T).toString())return Number(T);if(T===""||T==="null")return null;if(typeof T!="string")return T;try{return JSON.parse(decodeURIComponent(T))}catch{return T}}function Ne(T){return T.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const ze={setDataAttribute(T,d,v){T.setAttribute(`data-bs-${Ne(d)}`,v)},removeDataAttribute(T,d){T.removeAttribute(`data-bs-${Ne(d)}`)},getDataAttributes(T){if(!T)return{};const d={},v=Object.keys(T.dataset).filter(A=>A.startsWith("bs")&&!A.startsWith("bsConfig"));for(const A of v){let M=A.replace(/^bs/,"");M=M.charAt(0).toLowerCase()+M.slice(1,M.length),d[M]=se(T.dataset[A])}return d},getDataAttribute:(T,d)=>se(T.getAttribute(`data-bs-${Ne(d)}`))};class Qe{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,v){const A=f(v)?ze.getDataAttribute(v,"config"):{};return{...this.constructor.Default,...typeof A=="object"?A:{},...f(v)?ze.getDataAttributes(v):{},...typeof d=="object"?d:{}}}_typeCheckConfig(d,v=this.constructor.DefaultType){for(const[M,z]of Object.entries(v)){const Z=d[M],re=f(Z)?"element":(A=Z)==null?`${A}`:Object.prototype.toString.call(A).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(z).test(re))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${M}" provided type "${re}" but expected type "${z}".`)}var A}}class We extends Qe{constructor(d,v){super(),(d=m(d))&&(this._element=d,this._config=this._getConfig(v),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),H.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,v,A=!0){oe(d,v,A)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return i.get(m(d),this.DATA_KEY)}static getOrCreateInstance(d,v={}){return this.getInstance(d)||new this(d,typeof v=="object"?v:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const at=T=>{let d=T.getAttribute("data-bs-target");if(!d||d==="#"){let v=T.getAttribute("href");if(!v||!v.includes("#")&&!v.startsWith("."))return null;v.includes("#")&&!v.startsWith("#")&&(v=`#${v.split("#")[1]}`),d=v&&v!=="#"?v.trim():null}return d?d.split(",").map(v=>l(v)).join(","):null},_e={find:(T,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,T)),findOne:(T,d=document.documentElement)=>Element.prototype.querySelector.call(d,T),children:(T,d)=>[].concat(...T.children).filter(v=>v.matches(d)),parents(T,d){const v=[];let A=T.parentNode.closest(d);for(;A;)v.push(A),A=A.parentNode.closest(d);return v},prev(T,d){let v=T.previousElementSibling;for(;v;){if(v.matches(d))return[v];v=v.previousElementSibling}return[]},next(T,d){let v=T.nextElementSibling;for(;v;){if(v.matches(d))return[v];v=v.nextElementSibling}return[]},focusableChildren(T){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(v=>`${v}:not([tabindex^="-"])`).join(",");return this.find(d,T).filter(v=>!w(v)&&y(v))},getSelectorFromElement(T){const d=at(T);return d&&_e.findOne(d)?d:null},getElementFromSelector(T){const d=at(T);return d?_e.findOne(d):null},getMultipleElementsFromSelector(T){const d=at(T);return d?_e.find(d):[]}},mt=(T,d="hide")=>{const v=`click.dismiss${T.EVENT_KEY}`,A=T.NAME;H.on(document,v,`[data-bs-dismiss="${A}"]`,function(M){if(["A","AREA"].includes(this.tagName)&&M.preventDefault(),w(this))return;const z=_e.getElementFromSelector(this)||this.closest(`.${A}`);T.getOrCreateInstance(z)[d]()})},Gt=".bs.alert",Si=`close${Gt}`,yo=`closed${Gt}`;class yr extends We{static get NAME(){return"alert"}close(){if(H.trigger(this._element,Si).defaultPrevented)return;this._element.classList.remove("show");const d=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),H.trigger(this._element,yo),this.dispose()}static jQueryInterface(d){return this.each(function(){const v=yr.getOrCreateInstance(this);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d](this)}})}}mt(yr,"close"),G(yr);const Zi='[data-bs-toggle="button"]';class Zr extends We{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const v=Zr.getOrCreateInstance(this);d==="toggle"&&v[d]()})}}H.on(document,"click.bs.button.data-api",Zi,T=>{T.preventDefault();const d=T.target.closest(Zi);Zr.getOrCreateInstance(d).toggle()}),G(Zr);const ei=".bs.swipe",_a=`touchstart${ei}`,yl=`touchmove${ei}`,vo=`touchend${ei}`,Ai=`pointerdown${ei}`,Pi=`pointerup${ei}`,ya={endCallback:null,leftCallback:null,rightCallback:null},Eo={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ci extends Qe{constructor(d,v){super(),this._element=d,d&&Ci.isSupported()&&(this._config=this._getConfig(v),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ya}static get DefaultType(){return Eo}static get NAME(){return"swipe"}dispose(){H.off(this._element,ei)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),J(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const v=d/this._deltaX;this._deltaX=0,v&&J(v>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(H.on(this._element,Ai,d=>this._start(d)),H.on(this._element,Pi,d=>this._end(d)),this._element.classList.add("pointer-event")):(H.on(this._element,_a,d=>this._start(d)),H.on(this._element,yl,d=>this._move(d)),H.on(this._element,vo,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&(d.pointerType==="pen"||d.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const vr=".bs.carousel",$t=".data-api",Ot="next",$n="prev",ti="left",Vr="right",Os=`slide${vr}`,Ri=`slid${vr}`,va=`keydown${vr}`,Ea=`mouseenter${vr}`,wa=`mouseleave${vr}`,Ta=`dragstart${vr}`,Ia=`load${vr}${$t}`,Ds=`click${vr}${$t}`,Ls="carousel",ki="active",ar=".active",Mr=".carousel-item",wo=ar+Mr,ni={ArrowLeft:Vr,ArrowRight:ti},Sa={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Vs={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ri extends We{constructor(d,v){super(d,v),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=_e.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ls&&this.cycle()}static get Default(){return Sa}static get DefaultType(){return Vs}static get NAME(){return"carousel"}next(){this._slide(Ot)}nextWhenVisible(){!document.hidden&&y(this._element)&&this.next()}prev(){this._slide($n)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?H.one(this._element,Ri,()=>this.cycle()):this.cycle())}to(d){const v=this._getItems();if(d>v.length-1||d<0)return;if(this._isSliding)return void H.one(this._element,Ri,()=>this.to(d));const A=this._getItemIndex(this._getActive());if(A===d)return;const M=d>A?Ot:$n;this._slide(M,v[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&H.on(this._element,va,d=>this._keydown(d)),this._config.pause==="hover"&&(H.on(this._element,Ea,()=>this.pause()),H.on(this._element,wa,()=>this._maybeEnableCycle())),this._config.touch&&Ci.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const v of _e.find(".carousel-item img",this._element))H.on(v,Ta,A=>A.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(ti)),rightCallback:()=>this._slide(this._directionToOrder(Vr)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Ci(this._element,d)}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const v=ni[d.key];v&&(d.preventDefault(),this._slide(this._directionToOrder(v)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const v=_e.findOne(ar,this._indicatorsElement);v.classList.remove(ki),v.removeAttribute("aria-current");const A=_e.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);A&&(A.classList.add(ki),A.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const v=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=v||this._config.defaultInterval}_slide(d,v=null){if(this._isSliding)return;const A=this._getActive(),M=d===Ot,z=v||ne(this._getItems(),A,M,this._config.wrap);if(z===A)return;const Z=this._getItemIndex(z),re=Ee=>H.trigger(this._element,Ee,{relatedTarget:z,direction:this._orderToDirection(d),from:this._getItemIndex(A),to:Z});if(re(Os).defaultPrevented||!A||!z)return;const me=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Z),this._activeElement=z;const Ie=M?"carousel-item-start":"carousel-item-end",Se=M?"carousel-item-next":"carousel-item-prev";z.classList.add(Se),B(z),A.classList.add(Ie),z.classList.add(Ie),this._queueCallback(()=>{z.classList.remove(Ie,Se),z.classList.add(ki),A.classList.remove(ki,Se,Ie),this._isSliding=!1,re(Ri)},A,this._isAnimated()),me&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return _e.findOne(wo,this._element)}_getItems(){return _e.find(Mr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return N()?d===ti?$n:Ot:d===ti?Ot:$n}_orderToDirection(d){return N()?d===$n?ti:Vr:d===$n?Vr:ti}static jQueryInterface(d){return this.each(function(){const v=ri.getOrCreateInstance(this,d);if(typeof d!="number"){if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}}else v.to(d)})}}H.on(document,Ds,"[data-bs-slide], [data-bs-slide-to]",function(T){const d=_e.getElementFromSelector(this);if(!d||!d.classList.contains(Ls))return;T.preventDefault();const v=ri.getOrCreateInstance(d),A=this.getAttribute("data-bs-slide-to");return A?(v.to(A),void v._maybeEnableCycle()):ze.getDataAttribute(this,"slide")==="next"?(v.next(),void v._maybeEnableCycle()):(v.prev(),void v._maybeEnableCycle())}),H.on(window,Ia,()=>{const T=_e.find('[data-bs-ride="carousel"]');for(const d of T)ri.getOrCreateInstance(d)}),G(ri);const lr=".bs.collapse",Aa=`show${lr}`,Vt=`shown${lr}`,To=`hide${lr}`,jr=`hidden${lr}`,Ms=`click${lr}.data-api`,bi="show",Fr="collapse",qn="collapsing",Pa=`:scope .${Fr} .${Fr}`,Ca='[data-bs-toggle="collapse"]',Io={parent:null,toggle:!0},vl={parent:"(null|element)",toggle:"boolean"};class gn extends We{constructor(d,v){super(d,v),this._isTransitioning=!1,this._triggerArray=[];const A=_e.find(Ca);for(const M of A){const z=_e.getSelectorFromElement(M),Z=_e.find(z).filter(re=>re===this._element);z!==null&&Z.length&&this._triggerArray.push(M)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Io}static get DefaultType(){return vl}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(M=>M!==this._element).map(M=>gn.getOrCreateInstance(M,{toggle:!1}))),d.length&&d[0]._isTransitioning||H.trigger(this._element,Aa).defaultPrevented)return;for(const M of d)M.hide();const v=this._getDimension();this._element.classList.remove(Fr),this._element.classList.add(qn),this._element.style[v]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const A=`scroll${v[0].toUpperCase()+v.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(qn),this._element.classList.add(Fr,bi),this._element.style[v]="",H.trigger(this._element,Vt)},this._element,!0),this._element.style[v]=`${this._element[A]}px`}hide(){if(this._isTransitioning||!this._isShown()||H.trigger(this._element,To).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,B(this._element),this._element.classList.add(qn),this._element.classList.remove(Fr,bi);for(const v of this._triggerArray){const A=_e.getElementFromSelector(v);A&&!this._isShown(A)&&this._addAriaAndCollapsedClass([v],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(qn),this._element.classList.add(Fr),H.trigger(this._element,jr)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(bi)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=m(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(Ca);for(const v of d){const A=_e.getElementFromSelector(v);A&&this._addAriaAndCollapsedClass([v],this._isShown(A))}}_getFirstLevelChildren(d){const v=_e.find(Pa,this._config.parent);return _e.find(d,this._config.parent).filter(A=>!v.includes(A))}_addAriaAndCollapsedClass(d,v){if(d.length)for(const A of d)A.classList.toggle("collapsed",!v),A.setAttribute("aria-expanded",v)}static jQueryInterface(d){const v={};return typeof d=="string"&&/show|hide/.test(d)&&(v.toggle=!1),this.each(function(){const A=gn.getOrCreateInstance(this,v);if(typeof d=="string"){if(A[d]===void 0)throw new TypeError(`No method named "${d}"`);A[d]()}})}}H.on(document,Ms,Ca,function(T){(T.target.tagName==="A"||T.delegateTarget&&T.delegateTarget.tagName==="A")&&T.preventDefault();for(const d of _e.getMultipleElementsFromSelector(this))gn.getOrCreateInstance(d,{toggle:!1}).toggle()}),G(gn);var Mt="top",Dt="bottom",_n="right",Qt="left",xi="auto",Ur=[Mt,Dt,_n,Qt],zr="start",Ni="end",El="clippingParents",Et="viewport",Oi="popper",es="reference",ii=Ur.reduce(function(T,d){return T.concat([d+"-"+zr,d+"-"+Ni])},[]),Hn=[].concat(Ur,[xi]).reduce(function(T,d){return T.concat([d,d+"-"+zr,d+"-"+Ni])},[]),So="beforeRead",Ra="read",ts="afterRead",Wn="beforeMain",ka="main",yn="afterMain",Ao="beforeWrite",ba="write",xa="afterWrite",js=[So,Ra,ts,Wn,ka,yn,Ao,ba,xa];function Nn(T){return T?(T.nodeName||"").toLowerCase():null}function qt(T){if(T==null)return window;if(T.toString()!=="[object Window]"){var d=T.ownerDocument;return d&&d.defaultView||window}return T}function ur(T){return T instanceof qt(T).Element||T instanceof Element}function Kn(T){return T instanceof qt(T).HTMLElement||T instanceof HTMLElement}function Br(T){return typeof ShadowRoot<"u"&&(T instanceof qt(T).ShadowRoot||T instanceof ShadowRoot)}const On={name:"applyStyles",enabled:!0,phase:"write",fn:function(T){var d=T.state;Object.keys(d.elements).forEach(function(v){var A=d.styles[v]||{},M=d.attributes[v]||{},z=d.elements[v];Kn(z)&&Nn(z)&&(Object.assign(z.style,A),Object.keys(M).forEach(function(Z){var re=M[Z];re===!1?z.removeAttribute(Z):z.setAttribute(Z,re===!0?"":re)}))})},effect:function(T){var d=T.state,v={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,v.popper),d.styles=v,d.elements.arrow&&Object.assign(d.elements.arrow.style,v.arrow),function(){Object.keys(d.elements).forEach(function(A){var M=d.elements[A],z=d.attributes[A]||{},Z=Object.keys(d.styles.hasOwnProperty(A)?d.styles[A]:v[A]).reduce(function(re,me){return re[me]="",re},{});Kn(M)&&Nn(M)&&(Object.assign(M.style,Z),Object.keys(z).forEach(function(re){M.removeAttribute(re)}))})}},requires:["computeStyles"]};function vn(T){return T.split("-")[0]}var Gn=Math.max,$r=Math.min,lt=Math.round;function si(){var T=navigator.userAgentData;return T!=null&&T.brands&&Array.isArray(T.brands)?T.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function Ze(){return!/^((?!chrome|android).)*safari/i.test(si())}function cr(T,d,v){d===void 0&&(d=!1),v===void 0&&(v=!1);var A=T.getBoundingClientRect(),M=1,z=1;d&&Kn(T)&&(M=T.offsetWidth>0&&lt(A.width)/T.offsetWidth||1,z=T.offsetHeight>0&&lt(A.height)/T.offsetHeight||1);var Z=(ur(T)?qt(T):window).visualViewport,re=!Ze()&&v,me=(A.left+(re&&Z?Z.offsetLeft:0))/M,Ie=(A.top+(re&&Z?Z.offsetTop:0))/z,Se=A.width/M,Ee=A.height/z;return{width:Se,height:Ee,top:Ie,right:me+Se,bottom:Ie+Ee,left:me,x:me,y:Ie}}function Po(T){var d=cr(T),v=T.offsetWidth,A=T.offsetHeight;return Math.abs(d.width-v)<=1&&(v=d.width),Math.abs(d.height-A)<=1&&(A=d.height),{x:T.offsetLeft,y:T.offsetTop,width:v,height:A}}function Fs(T,d){var v=d.getRootNode&&d.getRootNode();if(T.contains(d))return!0;if(v&&Br(v)){var A=d;do{if(A&&T.isSameNode(A))return!0;A=A.parentNode||A.host}while(A)}return!1}function Er(T){return qt(T).getComputedStyle(T)}function wl(T){return["table","td","th"].indexOf(Nn(T))>=0}function qr(T){return((ur(T)?T.ownerDocument:T.document)||window.document).documentElement}function ns(T){return Nn(T)==="html"?T:T.assignedSlot||T.parentNode||(Br(T)?T.host:null)||qr(T)}function Hr(T){return Kn(T)&&Er(T).position!=="fixed"?T.offsetParent:null}function jt(T){for(var d=qt(T),v=Hr(T);v&&wl(v)&&Er(v).position==="static";)v=Hr(v);return v&&(Nn(v)==="html"||Nn(v)==="body"&&Er(v).position==="static")?d:v||function(A){var M=/firefox/i.test(si());if(/Trident/i.test(si())&&Kn(A)&&Er(A).position==="fixed")return null;var z=ns(A);for(Br(z)&&(z=z.host);Kn(z)&&["html","body"].indexOf(Nn(z))<0;){var Z=Er(z);if(Z.transform!=="none"||Z.perspective!=="none"||Z.contain==="paint"||["transform","perspective"].indexOf(Z.willChange)!==-1||M&&Z.willChange==="filter"||M&&Z.filter&&Z.filter!=="none")return z;z=z.parentNode}return null}(T)||d}function hr(T){return["top","bottom"].indexOf(T)>=0?"x":"y"}function Dn(T,d,v){return Gn(T,$r(d,v))}function Di(T){return Object.assign({},{top:0,right:0,bottom:0,left:0},T)}function dr(T,d){return d.reduce(function(v,A){return v[A]=T,v},{})}const Wr={name:"arrow",enabled:!0,phase:"main",fn:function(T){var d,v=T.state,A=T.name,M=T.options,z=v.elements.arrow,Z=v.modifiersData.popperOffsets,re=vn(v.placement),me=hr(re),Ie=[Qt,_n].indexOf(re)>=0?"height":"width";if(z&&Z){var Se=function(ft,yt){return Di(typeof(ft=typeof ft=="function"?ft(Object.assign({},yt.rects,{placement:yt.placement})):ft)!="number"?ft:dr(ft,Ur))}(M.padding,v),Ee=Po(z),Ve=me==="y"?Mt:Qt,be=me==="y"?Dt:_n,Ae=v.rects.reference[Ie]+v.rects.reference[me]-Z[me]-v.rects.popper[Ie],De=Z[me]-v.rects.reference[me],qe=jt(z),_t=qe?me==="y"?qe.clientHeight||0:qe.clientWidth||0:0,Tt=Ae/2-De/2,Je=Se[Ve],ut=_t-Ee[Ie]-Se[be],Ke=_t/2-Ee[Ie]/2+Tt,et=Dn(Je,Ke,ut),rt=me;v.modifiersData[A]=((d={})[rt]=et,d.centerOffset=et-Ke,d)}},effect:function(T){var d=T.state,v=T.options.element,A=v===void 0?"[data-popper-arrow]":v;A!=null&&(typeof A!="string"||(A=d.elements.popper.querySelector(A)))&&Fs(d.elements.popper,A)&&(d.elements.arrow=A)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rs(T){return T.split("-")[1]}var Tl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ln(T){var d,v=T.popper,A=T.popperRect,M=T.placement,z=T.variation,Z=T.offsets,re=T.position,me=T.gpuAcceleration,Ie=T.adaptive,Se=T.roundOffsets,Ee=T.isFixed,Ve=Z.x,be=Ve===void 0?0:Ve,Ae=Z.y,De=Ae===void 0?0:Ae,qe=typeof Se=="function"?Se({x:be,y:De}):{x:be,y:De};be=qe.x,De=qe.y;var _t=Z.hasOwnProperty("x"),Tt=Z.hasOwnProperty("y"),Je=Qt,ut=Mt,Ke=window;if(Ie){var et=jt(v),rt="clientHeight",ft="clientWidth";et===qt(v)&&Er(et=qr(v)).position!=="static"&&re==="absolute"&&(rt="scrollHeight",ft="scrollWidth"),(M===Mt||(M===Qt||M===_n)&&z===Ni)&&(ut=Dt,De-=(Ee&&et===Ke&&Ke.visualViewport?Ke.visualViewport.height:et[rt])-A.height,De*=me?1:-1),M!==Qt&&(M!==Mt&&M!==Dt||z!==Ni)||(Je=_n,be-=(Ee&&et===Ke&&Ke.visualViewport?Ke.visualViewport.width:et[ft])-A.width,be*=me?1:-1)}var yt,Rt=Object.assign({position:re},Ie&&Tl),In=Se===!0?function(Cr,Sn){var cn=Cr.x,pr=Cr.y,kt=Sn.devicePixelRatio||1;return{x:lt(cn*kt)/kt||0,y:lt(pr*kt)/kt||0}}({x:be,y:De},qt(v)):{x:be,y:De};return be=In.x,De=In.y,me?Object.assign({},Rt,((yt={})[ut]=Tt?"0":"",yt[Je]=_t?"0":"",yt.transform=(Ke.devicePixelRatio||1)<=1?"translate("+be+"px, "+De+"px)":"translate3d("+be+"px, "+De+"px, 0)",yt)):Object.assign({},Rt,((d={})[ut]=Tt?De+"px":"",d[Je]=_t?be+"px":"",d.transform="",d))}const Na={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(T){var d=T.state,v=T.options,A=v.gpuAcceleration,M=A===void 0||A,z=v.adaptive,Z=z===void 0||z,re=v.roundOffsets,me=re===void 0||re,Ie={placement:vn(d.placement),variation:rs(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:M,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,Ln(Object.assign({},Ie,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:Z,roundOffsets:me})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,Ln(Object.assign({},Ie,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:me})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var Us={passive:!0};const Kr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(T){var d=T.state,v=T.instance,A=T.options,M=A.scroll,z=M===void 0||M,Z=A.resize,re=Z===void 0||Z,me=qt(d.elements.popper),Ie=[].concat(d.scrollParents.reference,d.scrollParents.popper);return z&&Ie.forEach(function(Se){Se.addEventListener("scroll",v.update,Us)}),re&&me.addEventListener("resize",v.update,Us),function(){z&&Ie.forEach(function(Se){Se.removeEventListener("scroll",v.update,Us)}),re&&me.removeEventListener("resize",v.update,Us)}},data:{}};var zs={left:"right",right:"left",bottom:"top",top:"bottom"};function Bs(T){return T.replace(/left|right|bottom|top/g,function(d){return zs[d]})}var Gr={start:"end",end:"start"};function wr(T){return T.replace(/start|end/g,function(d){return Gr[d]})}function Qr(T){var d=qt(T);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function oi(T){return cr(qr(T)).left+Qr(T).scrollLeft}function Pt(T){var d=Er(T),v=d.overflow,A=d.overflowX,M=d.overflowY;return/auto|scroll|overlay|hidden/.test(v+M+A)}function Il(T){return["html","body","#document"].indexOf(Nn(T))>=0?T.ownerDocument.body:Kn(T)&&Pt(T)?T:Il(ns(T))}function Li(T,d){var v;d===void 0&&(d=[]);var A=Il(T),M=A===((v=T.ownerDocument)==null?void 0:v.body),z=qt(A),Z=M?[z].concat(z.visualViewport||[],Pt(A)?A:[]):A,re=d.concat(Z);return M?re:re.concat(Li(ns(Z)))}function Vi(T){return Object.assign({},T,{left:T.x,top:T.y,right:T.x+T.width,bottom:T.y+T.height})}function $s(T,d,v){return d===Et?Vi(function(A,M){var z=qt(A),Z=qr(A),re=z.visualViewport,me=Z.clientWidth,Ie=Z.clientHeight,Se=0,Ee=0;if(re){me=re.width,Ie=re.height;var Ve=Ze();(Ve||!Ve&&M==="fixed")&&(Se=re.offsetLeft,Ee=re.offsetTop)}return{width:me,height:Ie,x:Se+oi(A),y:Ee}}(T,v)):ur(d)?function(A,M){var z=cr(A,!1,M==="fixed");return z.top=z.top+A.clientTop,z.left=z.left+A.clientLeft,z.bottom=z.top+A.clientHeight,z.right=z.left+A.clientWidth,z.width=A.clientWidth,z.height=A.clientHeight,z.x=z.left,z.y=z.top,z}(d,v):Vi(function(A){var M,z=qr(A),Z=Qr(A),re=(M=A.ownerDocument)==null?void 0:M.body,me=Gn(z.scrollWidth,z.clientWidth,re?re.scrollWidth:0,re?re.clientWidth:0),Ie=Gn(z.scrollHeight,z.clientHeight,re?re.scrollHeight:0,re?re.clientHeight:0),Se=-Z.scrollLeft+oi(A),Ee=-Z.scrollTop;return Er(re||z).direction==="rtl"&&(Se+=Gn(z.clientWidth,re?re.clientWidth:0)-me),{width:me,height:Ie,x:Se,y:Ee}}(qr(T)))}function Co(T){var d,v=T.reference,A=T.element,M=T.placement,z=M?vn(M):null,Z=M?rs(M):null,re=v.x+v.width/2-A.width/2,me=v.y+v.height/2-A.height/2;switch(z){case Mt:d={x:re,y:v.y-A.height};break;case Dt:d={x:re,y:v.y+v.height};break;case _n:d={x:v.x+v.width,y:me};break;case Qt:d={x:v.x-A.width,y:me};break;default:d={x:v.x,y:v.y}}var Ie=z?hr(z):null;if(Ie!=null){var Se=Ie==="y"?"height":"width";switch(Z){case zr:d[Ie]=d[Ie]-(v[Se]/2-A[Se]/2);break;case Ni:d[Ie]=d[Ie]+(v[Se]/2-A[Se]/2)}}return d}function nn(T,d){d===void 0&&(d={});var v=d,A=v.placement,M=A===void 0?T.placement:A,z=v.strategy,Z=z===void 0?T.strategy:z,re=v.boundary,me=re===void 0?El:re,Ie=v.rootBoundary,Se=Ie===void 0?Et:Ie,Ee=v.elementContext,Ve=Ee===void 0?Oi:Ee,be=v.altBoundary,Ae=be!==void 0&&be,De=v.padding,qe=De===void 0?0:De,_t=Di(typeof qe!="number"?qe:dr(qe,Ur)),Tt=Ve===Oi?es:Oi,Je=T.rects.popper,ut=T.elements[Ae?Tt:Ve],Ke=function(Sn,cn,pr,kt){var mr=cn==="clippingParents"?function(vt){var hn=Li(ns(vt)),dn=["absolute","fixed"].indexOf(Er(vt).position)>=0&&Kn(vt)?jt(vt):vt;return ur(dn)?hn.filter(function(Yt){return ur(Yt)&&Fs(Yt,dn)&&Nn(Yt)!=="body"}):[]}(Sn):[].concat(cn),Mn=[].concat(mr,[pr]),gs=Mn[0],Wt=Mn.reduce(function(vt,hn){var dn=$s(Sn,hn,kt);return vt.top=Gn(dn.top,vt.top),vt.right=$r(dn.right,vt.right),vt.bottom=$r(dn.bottom,vt.bottom),vt.left=Gn(dn.left,vt.left),vt},$s(Sn,gs,kt));return Wt.width=Wt.right-Wt.left,Wt.height=Wt.bottom-Wt.top,Wt.x=Wt.left,Wt.y=Wt.top,Wt}(ur(ut)?ut:ut.contextElement||qr(T.elements.popper),me,Se,Z),et=cr(T.elements.reference),rt=Co({reference:et,element:Je,placement:M}),ft=Vi(Object.assign({},Je,rt)),yt=Ve===Oi?ft:et,Rt={top:Ke.top-yt.top+_t.top,bottom:yt.bottom-Ke.bottom+_t.bottom,left:Ke.left-yt.left+_t.left,right:yt.right-Ke.right+_t.right},In=T.modifiersData.offset;if(Ve===Oi&&In){var Cr=In[M];Object.keys(Rt).forEach(function(Sn){var cn=[_n,Dt].indexOf(Sn)>=0?1:-1,pr=[Mt,Dt].indexOf(Sn)>=0?"y":"x";Rt[Sn]+=Cr[pr]*cn})}return Rt}function Ro(T,d){d===void 0&&(d={});var v=d,A=v.placement,M=v.boundary,z=v.rootBoundary,Z=v.padding,re=v.flipVariations,me=v.allowedAutoPlacements,Ie=me===void 0?Hn:me,Se=rs(A),Ee=Se?re?ii:ii.filter(function(Ae){return rs(Ae)===Se}):Ur,Ve=Ee.filter(function(Ae){return Ie.indexOf(Ae)>=0});Ve.length===0&&(Ve=Ee);var be=Ve.reduce(function(Ae,De){return Ae[De]=nn(T,{placement:De,boundary:M,rootBoundary:z,padding:Z})[vn(De)],Ae},{});return Object.keys(be).sort(function(Ae,De){return be[Ae]-be[De]})}const Vn={name:"flip",enabled:!0,phase:"main",fn:function(T){var d=T.state,v=T.options,A=T.name;if(!d.modifiersData[A]._skip){for(var M=v.mainAxis,z=M===void 0||M,Z=v.altAxis,re=Z===void 0||Z,me=v.fallbackPlacements,Ie=v.padding,Se=v.boundary,Ee=v.rootBoundary,Ve=v.altBoundary,be=v.flipVariations,Ae=be===void 0||be,De=v.allowedAutoPlacements,qe=d.options.placement,_t=vn(qe),Tt=me||(_t!==qe&&Ae?function(vt){if(vn(vt)===xi)return[];var hn=Bs(vt);return[wr(vt),hn,wr(hn)]}(qe):[Bs(qe)]),Je=[qe].concat(Tt).reduce(function(vt,hn){return vt.concat(vn(hn)===xi?Ro(d,{placement:hn,boundary:Se,rootBoundary:Ee,padding:Ie,flipVariations:Ae,allowedAutoPlacements:De}):hn)},[]),ut=d.rects.reference,Ke=d.rects.popper,et=new Map,rt=!0,ft=Je[0],yt=0;yt<Je.length;yt++){var Rt=Je[yt],In=vn(Rt),Cr=rs(Rt)===zr,Sn=[Mt,Dt].indexOf(In)>=0,cn=Sn?"width":"height",pr=nn(d,{placement:Rt,boundary:Se,rootBoundary:Ee,altBoundary:Ve,padding:Ie}),kt=Sn?Cr?_n:Qt:Cr?Dt:Mt;ut[cn]>Ke[cn]&&(kt=Bs(kt));var mr=Bs(kt),Mn=[];if(z&&Mn.push(pr[In]<=0),re&&Mn.push(pr[kt]<=0,pr[mr]<=0),Mn.every(function(vt){return vt})){ft=Rt,rt=!1;break}et.set(Rt,Mn)}if(rt)for(var gs=function(vt){var hn=Je.find(function(dn){var Yt=et.get(dn);if(Yt)return Yt.slice(0,vt).every(function(gi){return gi})});if(hn)return ft=hn,"break"},Wt=Ae?3:1;Wt>0&&gs(Wt)!=="break";Wt--);d.placement!==ft&&(d.modifiersData[A]._skip=!0,d.placement=ft,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ko(T,d,v){return v===void 0&&(v={x:0,y:0}),{top:T.top-d.height-v.y,right:T.right-d.width+v.x,bottom:T.bottom-d.height+v.y,left:T.left-d.width-v.x}}function qs(T){return[Mt,_n,Dt,Qt].some(function(d){return T[d]>=0})}const Xr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(T){var d=T.state,v=T.name,A=d.rects.reference,M=d.rects.popper,z=d.modifiersData.preventOverflow,Z=nn(d,{elementContext:"reference"}),re=nn(d,{altBoundary:!0}),me=ko(Z,A),Ie=ko(re,M,z),Se=qs(me),Ee=qs(Ie);d.modifiersData[v]={referenceClippingOffsets:me,popperEscapeOffsets:Ie,isReferenceHidden:Se,hasPopperEscaped:Ee},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":Se,"data-popper-escaped":Ee})}},bo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(T){var d=T.state,v=T.options,A=T.name,M=v.offset,z=M===void 0?[0,0]:M,Z=Hn.reduce(function(Se,Ee){return Se[Ee]=function(Ve,be,Ae){var De=vn(Ve),qe=[Qt,Mt].indexOf(De)>=0?-1:1,_t=typeof Ae=="function"?Ae(Object.assign({},be,{placement:Ve})):Ae,Tt=_t[0],Je=_t[1];return Tt=Tt||0,Je=(Je||0)*qe,[Qt,_n].indexOf(De)>=0?{x:Je,y:Tt}:{x:Tt,y:Je}}(Ee,d.rects,z),Se},{}),re=Z[d.placement],me=re.x,Ie=re.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=me,d.modifiersData.popperOffsets.y+=Ie),d.modifiersData[A]=Z}},Xt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(T){var d=T.state,v=T.name;d.modifiersData[v]=Co({reference:d.rects.reference,element:d.rects.popper,placement:d.placement})},data:{}},Tr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(T){var d=T.state,v=T.options,A=T.name,M=v.mainAxis,z=M===void 0||M,Z=v.altAxis,re=Z!==void 0&&Z,me=v.boundary,Ie=v.rootBoundary,Se=v.altBoundary,Ee=v.padding,Ve=v.tether,be=Ve===void 0||Ve,Ae=v.tetherOffset,De=Ae===void 0?0:Ae,qe=nn(d,{boundary:me,rootBoundary:Ie,padding:Ee,altBoundary:Se}),_t=vn(d.placement),Tt=rs(d.placement),Je=!Tt,ut=hr(_t),Ke=ut==="x"?"y":"x",et=d.modifiersData.popperOffsets,rt=d.rects.reference,ft=d.rects.popper,yt=typeof De=="function"?De(Object.assign({},d.rects,{placement:d.placement})):De,Rt=typeof yt=="number"?{mainAxis:yt,altAxis:yt}:Object.assign({mainAxis:0,altAxis:0},yt),In=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,Cr={x:0,y:0};if(et){if(z){var Sn,cn=ut==="y"?Mt:Qt,pr=ut==="y"?Dt:_n,kt=ut==="y"?"height":"width",mr=et[ut],Mn=mr+qe[cn],gs=mr-qe[pr],Wt=be?-ft[kt]/2:0,vt=Tt===zr?rt[kt]:ft[kt],hn=Tt===zr?-ft[kt]:-rt[kt],dn=d.elements.arrow,Yt=be&&dn?Po(dn):{width:0,height:0},gi=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ql=gi[cn],Hu=gi[pr],Rr=Dn(0,rt[kt],Yt[kt]),_s=Je?rt[kt]/2-Wt-Rr-ql-Rt.mainAxis:vt-Rr-ql-Rt.mainAxis,Wu=Je?-rt[kt]/2+Wt+Rr+Hu+Rt.mainAxis:hn+Rr+Hu+Rt.mainAxis,Hl=d.elements.arrow&&jt(d.elements.arrow),zi=Hl?ut==="y"?Hl.clientTop||0:Hl.clientLeft||0:0,Bi=(Sn=In==null?void 0:In[ut])!=null?Sn:0,Wl=mr+Wu-Bi,Ku=Dn(be?$r(Mn,mr+_s-Bi-zi):Mn,mr,be?Gn(gs,Wl):gs);et[ut]=Ku,Cr[ut]=Ku-mr}if(re){var Ha,wh=ut==="x"?Mt:Qt,Wa=ut==="x"?Dt:_n,An=et[Ke],ys=Ke==="y"?"height":"width",Bo=An+qe[wh],vs=An-qe[Wa],Ka=[Mt,Qt].indexOf(_t)!==-1,no=(Ha=In==null?void 0:In[Ke])!=null?Ha:0,Gu=Ka?Bo:An-rt[ys]-ft[ys]-no+Rt.altAxis,Kl=Ka?An+rt[ys]+ft[ys]-no-Rt.altAxis:vs,xt=be&&Ka?function(Gl,Qu,Ga){var Qa=Dn(Gl,Qu,Ga);return Qa>Ga?Ga:Qa}(Gu,An,Kl):Dn(be?Gu:Bo,An,be?Kl:vs);et[Ke]=xt,Cr[Ke]=xt-An}d.modifiersData[A]=Cr}},requiresIfExists:["offset"]};function xo(T,d,v){v===void 0&&(v=!1);var A,M,z=Kn(d),Z=Kn(d)&&function(Ee){var Ve=Ee.getBoundingClientRect(),be=lt(Ve.width)/Ee.offsetWidth||1,Ae=lt(Ve.height)/Ee.offsetHeight||1;return be!==1||Ae!==1}(d),re=qr(d),me=cr(T,Z,v),Ie={scrollLeft:0,scrollTop:0},Se={x:0,y:0};return(z||!z&&!v)&&((Nn(d)!=="body"||Pt(re))&&(Ie=(A=d)!==qt(A)&&Kn(A)?{scrollLeft:(M=A).scrollLeft,scrollTop:M.scrollTop}:Qr(A)),Kn(d)?((Se=cr(d,!0)).x+=d.clientLeft,Se.y+=d.clientTop):re&&(Se.x=oi(re))),{x:me.left+Ie.scrollLeft-Se.x,y:me.top+Ie.scrollTop-Se.y,width:me.width,height:me.height}}function ai(T){var d=new Map,v=new Set,A=[];function M(z){v.add(z.name),[].concat(z.requires||[],z.requiresIfExists||[]).forEach(function(Z){if(!v.has(Z)){var re=d.get(Z);re&&M(re)}}),A.push(z)}return T.forEach(function(z){d.set(z.name,z)}),T.forEach(function(z){v.has(z.name)||M(z)}),A}var Sl={placement:"bottom",modifiers:[],strategy:"absolute"};function Hs(){for(var T=arguments.length,d=new Array(T),v=0;v<T;v++)d[v]=arguments[v];return!d.some(function(A){return!(A&&typeof A.getBoundingClientRect=="function")})}function Ir(T){T===void 0&&(T={});var d=T,v=d.defaultModifiers,A=v===void 0?[]:v,M=d.defaultOptions,z=M===void 0?Sl:M;return function(Z,re,me){me===void 0&&(me=z);var Ie,Se,Ee={placement:"bottom",orderedModifiers:[],options:Object.assign({},Sl,z),modifiersData:{},elements:{reference:Z,popper:re},attributes:{},styles:{}},Ve=[],be=!1,Ae={state:Ee,setOptions:function(qe){var _t=typeof qe=="function"?qe(Ee.options):qe;De(),Ee.options=Object.assign({},z,Ee.options,_t),Ee.scrollParents={reference:ur(Z)?Li(Z):Z.contextElement?Li(Z.contextElement):[],popper:Li(re)};var Tt,Je,ut=function(Ke){var et=ai(Ke);return js.reduce(function(rt,ft){return rt.concat(et.filter(function(yt){return yt.phase===ft}))},[])}((Tt=[].concat(A,Ee.options.modifiers),Je=Tt.reduce(function(Ke,et){var rt=Ke[et.name];return Ke[et.name]=rt?Object.assign({},rt,et,{options:Object.assign({},rt.options,et.options),data:Object.assign({},rt.data,et.data)}):et,Ke},{}),Object.keys(Je).map(function(Ke){return Je[Ke]})));return Ee.orderedModifiers=ut.filter(function(Ke){return Ke.enabled}),Ee.orderedModifiers.forEach(function(Ke){var et=Ke.name,rt=Ke.options,ft=rt===void 0?{}:rt,yt=Ke.effect;if(typeof yt=="function"){var Rt=yt({state:Ee,name:et,instance:Ae,options:ft});Ve.push(Rt||function(){})}}),Ae.update()},forceUpdate:function(){if(!be){var qe=Ee.elements,_t=qe.reference,Tt=qe.popper;if(Hs(_t,Tt)){Ee.rects={reference:xo(_t,jt(Tt),Ee.options.strategy==="fixed"),popper:Po(Tt)},Ee.reset=!1,Ee.placement=Ee.options.placement,Ee.orderedModifiers.forEach(function(yt){return Ee.modifiersData[yt.name]=Object.assign({},yt.data)});for(var Je=0;Je<Ee.orderedModifiers.length;Je++)if(Ee.reset!==!0){var ut=Ee.orderedModifiers[Je],Ke=ut.fn,et=ut.options,rt=et===void 0?{}:et,ft=ut.name;typeof Ke=="function"&&(Ee=Ke({state:Ee,options:rt,name:ft,instance:Ae})||Ee)}else Ee.reset=!1,Je=-1}}},update:(Ie=function(){return new Promise(function(qe){Ae.forceUpdate(),qe(Ee)})},function(){return Se||(Se=new Promise(function(qe){Promise.resolve().then(function(){Se=void 0,qe(Ie())})})),Se}),destroy:function(){De(),be=!0}};if(!Hs(Z,re))return Ae;function De(){Ve.forEach(function(qe){return qe()}),Ve=[]}return Ae.setOptions(me).then(function(qe){!be&&me.onFirstUpdate&&me.onFirstUpdate(qe)}),Ae}}var is=Ir(),Ws=Ir({defaultModifiers:[Kr,Xt,Na,On]}),ss=Ir({defaultModifiers:[Kr,Xt,Na,On,bo,Vn,Tr,Wr,Xr]});const No=Object.freeze(Object.defineProperty({__proto__:null,afterMain:yn,afterRead:ts,afterWrite:xa,applyStyles:On,arrow:Wr,auto:xi,basePlacements:Ur,beforeMain:Wn,beforeRead:So,beforeWrite:Ao,bottom:Dt,clippingParents:El,computeStyles:Na,createPopper:ss,createPopperBase:is,createPopperLite:Ws,detectOverflow:nn,end:Ni,eventListeners:Kr,flip:Vn,hide:Xr,left:Qt,main:ka,modifierPhases:js,offset:bo,placements:Hn,popper:Oi,popperGenerator:Ir,popperOffsets:Xt,preventOverflow:Tr,read:Ra,reference:es,right:_n,start:zr,top:Mt,variationPlacements:ii,viewport:Et,write:ba},Symbol.toStringTag,{value:"Module"})),Oa="dropdown",Sr=".bs.dropdown",os=".data-api",Al="ArrowUp",li="ArrowDown",Pl=`hide${Sr}`,Cl=`hidden${Sr}`,Rl=`show${Sr}`,Da=`shown${Sr}`,Ks=`click${Sr}${os}`,En=`keydown${Sr}${os}`,kl=`keyup${Sr}${os}`,Mi="show",wn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',u=`${wn}.${Mi}`,g=".dropdown-menu",E=N()?"top-end":"top-start",P=N()?"top-start":"top-end",W=N()?"bottom-end":"bottom-start",ee=N()?"bottom-start":"bottom-end",ye=N()?"left-start":"right-start",gt=N()?"right-start":"left-start",Jt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},nt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class wt extends We{constructor(d,v){super(d,v),this._popper=null,this._parent=this._element.parentNode,this._menu=_e.next(this._element,g)[0]||_e.prev(this._element,g)[0]||_e.findOne(g,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Jt}static get DefaultType(){return nt}static get NAME(){return Oa}toggle(){return this._isShown()?this.hide():this.show()}show(){if(w(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!H.trigger(this._element,Rl,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const v of[].concat(...document.body.children))H.on(v,"mouseover",R);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Mi),this._element.classList.add(Mi),H.trigger(this._element,Da,d)}}hide(){if(w(this._element)||!this._isShown())return;const d={relatedTarget:this._element};this._completeHide(d)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!H.trigger(this._element,Pl,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))H.off(v,"mouseover",R);this._popper&&this._popper.destroy(),this._menu.classList.remove(Mi),this._element.classList.remove(Mi),this._element.setAttribute("aria-expanded","false"),ze.removeDataAttribute(this._menu,"popper"),H.trigger(this._element,Cl,d)}}_getConfig(d){if(typeof(d=super._getConfig(d)).reference=="object"&&!f(d.reference)&&typeof d.reference.getBoundingClientRect!="function")throw new TypeError(`${Oa.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(No===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let d=this._element;this._config.reference==="parent"?d=this._parent:f(this._config.reference)?d=m(this._config.reference):typeof this._config.reference=="object"&&(d=this._config.reference);const v=this._getPopperConfig();this._popper=ss(d,this._menu,v)}_isShown(){return this._menu.classList.contains(Mi)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return ye;if(d.classList.contains("dropstart"))return gt;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const v=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?v?P:E:v?ee:W}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(v=>Number.parseInt(v,10)):typeof d=="function"?v=>d(v,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ze.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...J(this._config.popperConfig,[d])}}_selectMenuItem({key:d,target:v}){const A=_e.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(M=>y(M));A.length&&ne(A,v,d===li,!A.includes(v)).focus()}static jQueryInterface(d){return this.each(function(){const v=wt.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}static clearMenus(d){if(d.button===2||d.type==="keyup"&&d.key!=="Tab")return;const v=_e.find(u);for(const A of v){const M=wt.getInstance(A);if(!M||M._config.autoClose===!1)continue;const z=d.composedPath(),Z=z.includes(M._menu);if(z.includes(M._element)||M._config.autoClose==="inside"&&!Z||M._config.autoClose==="outside"&&Z||M._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const re={relatedTarget:M._element};d.type==="click"&&(re.clickEvent=d),M._completeHide(re)}}static dataApiKeydownHandler(d){const v=/input|textarea/i.test(d.target.tagName),A=d.key==="Escape",M=[Al,li].includes(d.key);if(!M&&!A||v&&!A)return;d.preventDefault();const z=this.matches(wn)?this:_e.prev(this,wn)[0]||_e.next(this,wn)[0]||_e.findOne(wn,d.delegateTarget.parentNode),Z=wt.getOrCreateInstance(z);if(M)return d.stopPropagation(),Z.show(),void Z._selectMenuItem(d);Z._isShown()&&(d.stopPropagation(),Z.hide(),z.focus())}}H.on(document,En,wn,wt.dataApiKeydownHandler),H.on(document,En,g,wt.dataApiKeydownHandler),H.on(document,Ks,wt.clearMenus),H.on(document,kl,wt.clearMenus),H.on(document,Ks,wn,function(T){T.preventDefault(),wt.getOrCreateInstance(this).toggle()}),G(wt);const Ft="backdrop",fr="show",Qn=`mousedown.bs.${Ft}`,Gs={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Oo={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class xu extends Qe{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return Gs}static get DefaultType(){return Oo}static get NAME(){return Ft}show(d){if(!this._config.isVisible)return void J(d);this._append();const v=this._getElement();this._config.isAnimated&&B(v),v.classList.add(fr),this._emulateAnimation(()=>{J(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove(fr),this._emulateAnimation(()=>{this.dispose(),J(d)})):J(d)}dispose(){this._isAppended&&(H.off(this._element,Qn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=m(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),H.on(d,Qn,()=>{J(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){oe(d,this._getElement(),this._config.isAnimated)}}const La=".bs.focustrap",Xc=`focusin${La}`,Do=`keydown.tab${La}`,Jc="backward",Ef={autofocus:!0,trapElement:null},wf={autofocus:"boolean",trapElement:"element"};class Nu extends Qe{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ef}static get DefaultType(){return wf}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),H.off(document,La),H.on(document,Xc,d=>this._handleFocusin(d)),H.on(document,Do,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,H.off(document,La))}_handleFocusin(d){const{trapElement:v}=this._config;if(d.target===document||d.target===v||v.contains(d.target))return;const A=_e.focusableChildren(v);A.length===0?v.focus():this._lastTabNavDirection===Jc?A[A.length-1].focus():A[0].focus()}_handleKeydown(d){d.key==="Tab"&&(this._lastTabNavDirection=d.shiftKey?Jc:"forward")}}const Ou=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Lo=".sticky-top",as="padding-right",Yc="margin-right";class Vo{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,as,v=>v+d),this._setElementAttributes(Ou,as,v=>v+d),this._setElementAttributes(Lo,Yc,v=>v-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,as),this._resetElementAttributes(Ou,as),this._resetElementAttributes(Lo,Yc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,v,A){const M=this.getWidth();this._applyManipulationCallback(d,z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+M)return;this._saveInitialAttribute(z,v);const Z=window.getComputedStyle(z).getPropertyValue(v);z.style.setProperty(v,`${A(Number.parseFloat(Z))}px`)})}_saveInitialAttribute(d,v){const A=d.style.getPropertyValue(v);A&&ze.setDataAttribute(d,v,A)}_resetElementAttributes(d,v){this._applyManipulationCallback(d,A=>{const M=ze.getDataAttribute(A,v);M!==null?(ze.removeDataAttribute(A,v),A.style.setProperty(v,M)):A.style.removeProperty(v)})}_applyManipulationCallback(d,v){if(f(d))v(d);else for(const A of _e.find(d,this._element))v(A)}}const Ar=".bs.modal",Zc=`hide${Ar}`,Du=`hidePrevented${Ar}`,bl=`hidden${Ar}`,Lu=`show${Ar}`,eh=`shown${Ar}`,th=`resize${Ar}`,Tf=`click.dismiss${Ar}`,If=`mousedown.dismiss${Ar}`,Sf=`keydown.dismiss${Ar}`,Af=`click${Ar}.data-api`,nh="modal-open",Pr="show",Qs="modal-static",rh={backdrop:!0,focus:!0,keyboard:!0},ih={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ls extends We{constructor(d,v){super(d,v),this._dialog=_e.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Vo,this._addEventListeners()}static get Default(){return rh}static get DefaultType(){return ih}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||H.trigger(this._element,Lu,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(nh),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){this._isShown&&!this._isTransitioning&&(H.trigger(this._element,Zc).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Pr),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){H.off(window,Ar),H.off(this._dialog,Ar),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new xu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Nu({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const v=_e.findOne(".modal-body",this._dialog);v&&(v.scrollTop=0),B(this._element),this._element.classList.add(Pr),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,H.trigger(this._element,eh,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){H.on(this._element,Sf,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),H.on(window,th,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),H.on(this._element,If,d=>{H.one(this._element,Tf,v=>{this._element===d.target&&this._element===v.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(nh),this._resetAdjustments(),this._scrollBar.reset(),H.trigger(this._element,bl)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(H.trigger(this._element,Du).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._element.style.overflowY;v==="hidden"||this._element.classList.contains(Qs)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(Qs),this._queueCallback(()=>{this._element.classList.remove(Qs),this._queueCallback(()=>{this._element.style.overflowY=v},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._scrollBar.getWidth(),A=v>0;if(A&&!d){const M=N()?"paddingLeft":"paddingRight";this._element.style[M]=`${v}px`}if(!A&&d){const M=N()?"paddingRight":"paddingLeft";this._element.style[M]=`${v}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,v){return this.each(function(){const A=ls.getOrCreateInstance(this,d);if(typeof d=="string"){if(A[d]===void 0)throw new TypeError(`No method named "${d}"`);A[d](v)}})}}H.on(document,Af,'[data-bs-toggle="modal"]',function(T){const d=_e.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&T.preventDefault(),H.one(d,Lu,A=>{A.defaultPrevented||H.one(d,bl,()=>{y(this)&&this.focus()})});const v=_e.findOne(".modal.show");v&&ls.getInstance(v).hide(),ls.getOrCreateInstance(d).toggle(this)}),mt(ls),G(ls);const ui=".bs.offcanvas",xl=".data-api",Pf=`load${ui}${xl}`,sh="show",Xs="showing",Nl="hiding",Mo=".offcanvas.show",Vu=`show${ui}`,oh=`shown${ui}`,Ol=`hide${ui}`,Js=`hidePrevented${ui}`,Dl=`hidden${ui}`,ah=`resize${ui}`,Ll=`click${ui}${xl}`,lh=`keydown.dismiss${ui}`,uh={backdrop:!0,keyboard:!0,scroll:!1},ch={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ci extends We{constructor(d,v){super(d,v),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return uh}static get DefaultType(){return ch}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||H.trigger(this._element,Vu,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Vo().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Xs),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(sh),this._element.classList.remove(Xs),H.trigger(this._element,oh,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&(H.trigger(this._element,Ol).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Nl),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(sh,Nl),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Vo().reset(),H.trigger(this._element,Dl)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const d=!!this._config.backdrop;return new xu({className:"offcanvas-backdrop",isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?()=>{this._config.backdrop!=="static"?this.hide():H.trigger(this._element,Js)}:null})}_initializeFocusTrap(){return new Nu({trapElement:this._element})}_addEventListeners(){H.on(this._element,lh,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():H.trigger(this._element,Js))})}static jQueryInterface(d){return this.each(function(){const v=ci.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d](this)}})}}H.on(document,Ll,'[data-bs-toggle="offcanvas"]',function(T){const d=_e.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&T.preventDefault(),w(this))return;H.one(d,Dl,()=>{y(this)&&this.focus()});const v=_e.findOne(Mo);v&&v!==d&&ci.getInstance(v).hide(),ci.getOrCreateInstance(d).toggle(this)}),H.on(window,Pf,()=>{for(const T of _e.find(Mo))ci.getOrCreateInstance(T).show()}),H.on(window,ah,()=>{for(const T of _e.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(T).position!=="fixed"&&ci.getOrCreateInstance(T).hide()}),mt(ci),G(ci);const Mu={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},hh=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),us=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,ju=(T,d)=>{const v=T.nodeName.toLowerCase();return d.includes(v)?!hh.has(v)||!!us.test(T.nodeValue):d.filter(A=>A instanceof RegExp).some(A=>A.test(v))},Fu={allowList:Mu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Cf={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Rf={entry:"(string|element|function|null)",selector:"(string|element)"};class Va extends Qe{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return Fu}static get DefaultType(){return Cf}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[M,z]of Object.entries(this._config.content))this._setContent(d,z,M);const v=d.children[0],A=this._resolvePossibleFunction(this._config.extraClass);return A&&v.classList.add(...A.split(" ")),v}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[v,A]of Object.entries(d))super._typeCheckConfig({selector:v,entry:A},Rf)}_setContent(d,v,A){const M=_e.findOne(A,d);M&&((v=this._resolvePossibleFunction(v))?f(v)?this._putElementInTemplate(m(v),M):this._config.html?M.innerHTML=this._maybeSanitize(v):M.textContent=v:M.remove())}_maybeSanitize(d){return this._config.sanitize?function(v,A,M){if(!v.length)return v;if(M&&typeof M=="function")return M(v);const z=new window.DOMParser().parseFromString(v,"text/html"),Z=[].concat(...z.body.querySelectorAll("*"));for(const re of Z){const me=re.nodeName.toLowerCase();if(!Object.keys(A).includes(me)){re.remove();continue}const Ie=[].concat(...re.attributes),Se=[].concat(A["*"]||[],A[me]||[]);for(const Ee of Ie)ju(Ee,Se)||re.removeAttribute(Ee.nodeName)}return z.body.innerHTML}(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return J(d,[this])}_putElementInTemplate(d,v){if(this._config.html)return v.innerHTML="",void v.append(d);v.textContent=d.textContent}}const kf=new Set(["sanitize","allowList","sanitizeFn"]),Vl="fade",Ma="show",Ct=".modal",Ml="hide.bs.modal",cs="hover",Ys="focus",dh={AUTO:"auto",TOP:"top",RIGHT:N()?"left":"right",BOTTOM:"bottom",LEFT:N()?"right":"left"},Uu={allowList:Mu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ja={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class hi extends We{constructor(d,v){if(No===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(d,v),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Uu}static get DefaultType(){return ja}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),H.off(this._element.closest(Ct),Ml,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=H.trigger(this._element,this.constructor.eventName("show")),v=(S(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!v)return;this._disposePopper();const A=this._getTipElement();this._element.setAttribute("aria-describedby",A.getAttribute("id"));const{container:M}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(M.append(A),H.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(A),A.classList.add(Ma),"ontouchstart"in document.documentElement)for(const z of[].concat(...document.body.children))H.on(z,"mouseover",R);this._queueCallback(()=>{H.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!H.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Ma),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))H.off(d,"mouseover",R);this._activeTrigger.click=!1,this._activeTrigger[Ys]=!1,this._activeTrigger[cs]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),H.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const v=this._getTemplateFactory(d).toHtml();if(!v)return null;v.classList.remove(Vl,Ma),v.classList.add(`bs-${this.constructor.NAME}-auto`);const A=(M=>{do M+=Math.floor(1e6*Math.random());while(document.getElementById(M));return M})(this.constructor.NAME).toString();return v.setAttribute("id",A),this._isAnimated()&&v.classList.add(Vl),v}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new Va({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Vl)}_isShown(){return this.tip&&this.tip.classList.contains(Ma)}_createPopper(d){const v=J(this._config.placement,[this,d,this._element]),A=dh[v.toUpperCase()];return ss(this._element,d,this._getPopperConfig(A))}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(v=>Number.parseInt(v,10)):typeof d=="function"?v=>d(v,this._element):d}_resolvePossibleFunction(d){return J(d,[this._element])}_getPopperConfig(d){const v={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:A=>{this._getTipElement().setAttribute("data-popper-placement",A.state.placement)}}]};return{...v,...J(this._config.popperConfig,[v])}}_setListeners(){const d=this._config.trigger.split(" ");for(const v of d)if(v==="click")H.on(this._element,this.constructor.eventName("click"),this._config.selector,A=>{this._initializeOnDelegatedTarget(A).toggle()});else if(v!=="manual"){const A=v===cs?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),M=v===cs?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");H.on(this._element,A,this._config.selector,z=>{const Z=this._initializeOnDelegatedTarget(z);Z._activeTrigger[z.type==="focusin"?Ys:cs]=!0,Z._enter()}),H.on(this._element,M,this._config.selector,z=>{const Z=this._initializeOnDelegatedTarget(z);Z._activeTrigger[z.type==="focusout"?Ys:cs]=Z._element.contains(z.relatedTarget),Z._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},H.on(this._element.closest(Ct),Ml,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,v){clearTimeout(this._timeout),this._timeout=setTimeout(d,v)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const v=ze.getDataAttributes(this._element);for(const A of Object.keys(v))kf.has(A)&&delete v[A];return d={...v,...typeof d=="object"&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=d.container===!1?document.body:m(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[v,A]of Object.entries(this._config))this.constructor.Default[v]!==A&&(d[v]=A);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const v=hi.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}}G(hi);const jo={...hi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},fh={...hi.DefaultType,content:"(null|string|element|function)"};class jl extends hi{static get Default(){return jo}static get DefaultType(){return fh}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const v=jl.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}}G(jl);const zu=".bs.scrollspy",ph=`activate${zu}`,Fa=`click${zu}`,Fl=`load${zu}.data-api`,hs="active",Ua="[href]",Ul=".nav-link",Bu=`${Ul}, .nav-item > ${Ul}, .list-group-item`,bf={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},mh={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class za extends We{constructor(d,v){super(d,v),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return bf}static get DefaultType(){return mh}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=m(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,typeof d.threshold=="string"&&(d.threshold=d.threshold.split(",").map(v=>Number.parseFloat(v))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(H.off(this._config.target,Fa),H.on(this._config.target,Fa,Ua,d=>{const v=this._observableSections.get(d.target.hash);if(v){d.preventDefault();const A=this._rootElement||window,M=v.offsetTop-this._element.offsetTop;if(A.scrollTo)return void A.scrollTo({top:M,behavior:"smooth"});A.scrollTop=M}}))}_getNewObserver(){const d={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(v=>this._observerCallback(v),d)}_observerCallback(d){const v=Z=>this._targetLinks.get(`#${Z.target.id}`),A=Z=>{this._previousScrollData.visibleEntryTop=Z.target.offsetTop,this._process(v(Z))},M=(this._rootElement||document.documentElement).scrollTop,z=M>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=M;for(const Z of d){if(!Z.isIntersecting){this._activeTarget=null,this._clearActiveClass(v(Z));continue}const re=Z.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(z&&re){if(A(Z),!M)return}else z||re||A(Z)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=_e.find(Ua,this._config.target);for(const v of d){if(!v.hash||w(v))continue;const A=_e.findOne(decodeURI(v.hash),this._element);y(A)&&(this._targetLinks.set(decodeURI(v.hash),v),this._observableSections.set(v.hash,A))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(hs),this._activateParents(d),H.trigger(this._element,ph,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))_e.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(hs);else for(const v of _e.parents(d,".nav, .list-group"))for(const A of _e.prev(v,Bu))A.classList.add(hs)}_clearActiveClass(d){d.classList.remove(hs);const v=_e.find(`${Ua}.${hs}`,d);for(const A of v)A.classList.remove(hs)}static jQueryInterface(d){return this.each(function(){const v=za.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}})}}H.on(window,Fl,()=>{for(const T of _e.find('[data-bs-spy="scroll"]'))za.getOrCreateInstance(T)}),G(za);const Zs=".bs.tab",$u=`hide${Zs}`,ds=`hidden${Zs}`,gh=`show${Zs}`,Fo=`shown${Zs}`,di=`click${Zs}`,Ba=`keydown${Zs}`,ji=`load${Zs}`,qu="ArrowLeft",_h="ArrowRight",xf="ArrowUp",fs="ArrowDown",eo="Home",to="End",fi="active",zl="fade",ps="show",Fi=".dropdown-toggle",St=`:not(${Fi})`,At='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',pi=`.nav-link${St}, .list-group-item${St}, [role="tab"]${St}, ${At}`,Tn=`.${fi}[data-bs-toggle="tab"], .${fi}[data-bs-toggle="pill"], .${fi}[data-bs-toggle="list"]`;class Ht extends We{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),H.on(this._element,Ba,v=>this._keydown(v)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const v=this._getActiveElem(),A=v?H.trigger(v,$u,{relatedTarget:d}):null;H.trigger(d,gh,{relatedTarget:v}).defaultPrevented||A&&A.defaultPrevented||(this._deactivate(v,d),this._activate(d,v))}_activate(d,v){d&&(d.classList.add(fi),this._activate(_e.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),H.trigger(d,Fo,{relatedTarget:v})):d.classList.add(ps)},d,d.classList.contains(zl)))}_deactivate(d,v){d&&(d.classList.remove(fi),d.blur(),this._deactivate(_e.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),H.trigger(d,ds,{relatedTarget:v})):d.classList.remove(ps)},d,d.classList.contains(zl)))}_keydown(d){if(![qu,_h,xf,fs,eo,to].includes(d.key))return;d.stopPropagation(),d.preventDefault();const v=this._getChildren().filter(M=>!w(M));let A;if([eo,to].includes(d.key))A=v[d.key===eo?0:v.length-1];else{const M=[_h,fs].includes(d.key);A=ne(v,d.target,M,!0)}A&&(A.focus({preventScroll:!0}),Ht.getOrCreateInstance(A).show())}_getChildren(){return _e.find(pi,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,v){this._setAttributeIfNotExists(d,"role","tablist");for(const A of v)this._setInitialAttributesOnChild(A)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const v=this._elemIsActive(d),A=this._getOuterElement(d);d.setAttribute("aria-selected",v),A!==d&&this._setAttributeIfNotExists(A,"role","presentation"),v||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const v=_e.getElementFromSelector(d);v&&(this._setAttributeIfNotExists(v,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(v,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,v){const A=this._getOuterElement(d);if(!A.classList.contains("dropdown"))return;const M=(z,Z)=>{const re=_e.findOne(z,A);re&&re.classList.toggle(Z,v)};M(Fi,fi),M(".dropdown-menu",ps),A.setAttribute("aria-expanded",v)}_setAttributeIfNotExists(d,v,A){d.hasAttribute(v)||d.setAttribute(v,A)}_elemIsActive(d){return d.classList.contains(fi)}_getInnerElement(d){return d.matches(pi)?d:_e.findOne(pi,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const v=Ht.getOrCreateInstance(this);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}})}}H.on(document,di,At,function(T){["A","AREA"].includes(this.tagName)&&T.preventDefault(),w(this)||Ht.getOrCreateInstance(this).show()}),H.on(window,ji,()=>{for(const T of _e.find(Tn))Ht.getOrCreateInstance(T)}),G(Ht);const Xn=".bs.toast",Uo=`mouseover${Xn}`,Jn=`mouseout${Xn}`,Bl=`focusin${Xn}`,yh=`focusout${Xn}`,vh=`hide${Xn}`,$l=`hidden${Xn}`,Eh=`show${Xn}`,Ui=`shown${Xn}`,$a="hide",zo="show",qa="showing",Nf={animation:"boolean",autohide:"boolean",delay:"number"},ms={animation:!0,autohide:!0,delay:5e3};class mi extends We{constructor(d,v){super(d,v),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ms}static get DefaultType(){return Nf}static get NAME(){return"toast"}show(){H.trigger(this._element,Eh).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove($a),B(this._element),this._element.classList.add(zo,qa),this._queueCallback(()=>{this._element.classList.remove(qa),H.trigger(this._element,Ui),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(H.trigger(this._element,vh).defaultPrevented||(this._element.classList.add(qa),this._queueCallback(()=>{this._element.classList.add($a),this._element.classList.remove(qa,zo),H.trigger(this._element,$l)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(zo),super.dispose()}isShown(){return this._element.classList.contains(zo)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,v){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=v;break;case"focusin":case"focusout":this._hasKeyboardInteraction=v}if(v)return void this._clearTimeout();const A=d.relatedTarget;this._element===A||this._element.contains(A)||this._maybeScheduleHide()}_setListeners(){H.on(this._element,Uo,d=>this._onInteraction(d,!0)),H.on(this._element,Jn,d=>this._onInteraction(d,!1)),H.on(this._element,Bl,d=>this._onInteraction(d,!0)),H.on(this._element,yh,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const v=mi.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d](this)}})}}return mt(mi),G(mi),{Alert:yr,Button:Zr,Carousel:ri,Collapse:gn,Dropdown:wt,Modal:ls,Offcanvas:ci,Popover:jl,ScrollSpy:za,Tab:Ht,Toast:mi,Tooltip:hi}})}(gd)),gd.exports}var YD=ID();try{vf(p0())}catch{}const v0=document.getElementById("root");if(!v0)throw new Error("Missing #root element in index.html");lI.createRoot(v0).render(C.jsx(aS,{children:C.jsx(RN,{children:C.jsx(wD,{})})}));export{lc as L,CD as N,de as R,pe as _,uI as a,Sm as b,SD as c,Zv as d,vf as e,p0 as f,AD as g,PD as h,eE as i,C as j,YD as k,Gi as l,QD as m,Dc as n,bn as o,RD as p,y0 as q,le as r,XD as s,JD as t,Ii as u,KD as v,Bd as w};
