import{h as he,i as fe,a as u,b as ee,B as p,j as e,I as l,l as Ne,M as xe}from"./index-mw4Z2CkO.js";import{g as Ae,d as Pe,c as ye}from"./firebase-DMviGkW7.js";import{B as ve}from"./Breadcrumb-B5TdIF_E.js";import{r as i,L as W}from"./vendor-C0neu5ZX.js";import{M as c}from"./Modal-CDlYKZZ8.js";import{B as D}from"./Button-D-Jgjti_.js";import{W as Ce,a as ke,A as Ee,T as We,f as De}from"./WalletNavigation-r05jshpu.js";import"./utils-B2rxisVD.js";import"./index-DbrnFe3V.js";import"./removeClass-yVR4guBs.js";import"./index-DWoOtcwh.js";function Le(){const[L,d]=i.useState(!1),[r,g]=i.useState(null),[b,w]=i.useState(""),[S,U]=i.useState(!1),[F,T]=i.useState(""),[se,v]=i.useState(!1),[C,ae]=i.useState(null),[M,I]=i.useState(""),[B,z]=i.useState(!1),[R,G]=i.useState(""),[H,ie]=i.useState([]),[V,$]=i.useState(!0),[h,le]=i.useState(""),[f,k]=i.useState(!1),[m,te]=i.useState(""),[re,q]=i.useState([]),[N,Q]=i.useState(!1),[K,E]=i.useState(""),[x,O]=i.useState(""),[j,Me]=i.useState(100),J=i.useRef(!1),{wallet:A,loading:ne,eligible:ce,refresh:Y,grantCredits:me}=he(),{isAdmin:oe}=fe(),X=i.useCallback(async(s=!0)=>{E(""),Q(!0);try{const a={search:m,pageSize:j};!s&&x&&(a.pageToken=x);const{data:n}=await u.get("/api/users/all",{params:a}),t=Array.isArray(n?.items)?n.items:[];q(y=>s?t:[...y,...t]),O(n?.nextPageToken||"")}catch(a){const n=a?.response?.status;if(n===401||n===403)try{await ee();const t={search:m,pageSize:j};!s&&x&&(t.pageToken=x);const{data:y}=await u.get("/api/users/all",{params:t}),_=Array.isArray(y?.items)?y.items:[];q(be=>s?_:[...be,..._]),O(y?.nextPageToken||""),E("");return}catch(t){E(t?.response?.data?.message||t?.message||"Failed to search platform users")}else E(a?.response?.data?.message||a?.message||"Failed to search platform users")}finally{Q(!1)}},[m,j,x]);i.useEffect(()=>{if(J.current)return;J.current=!0;let s=!0;return(async()=>{try{if(await ee(),!s||(await X(!0),!s))return;await o()}catch(a){console.error("Failed to auto-load users:",a)}})(),()=>{s=!1}},[X]);const o=async()=>{try{$(!0);const n=((await u.get("/api/users")).data||[]).map(t=>({...t,walletBalance:ue(t.uid||t.email),lastActivity:t.lastActivity||new Date().toISOString(),avatar:t.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name||t.email)}&background=6366f1&color=fff`}));ie(n)}catch(s){console.error("Error loading users:",s),p.error("Failed to load user data")}finally{$(!1)}},ue=s=>H.find(n=>n.uid===s)?.walletBalance||0,pe=async()=>{if(!f)try{k(!0),await u.post("/api/admin/wallet/normalize-appdata"),p.success("Successfully normalized app data"),await o()}catch(s){console.error("Error normalizing data:",s);const a=s.response?.data?.message||"Failed to normalize app data";p.error(a)}finally{k(!1)}},de=async()=>{if(!f)try{k(!0);const s=["mncubekhulekani@gmail.com","ruthmaphosa2024@gmail.com","zinhlesloane@gmail.com","khulekani@gecafrica.co","22onsloanedigitalteam@gmail.com","khulekani@22onsloane.co"],a=await u.post("/api/admin/wallet/sync-firebase-users",{promoteVendors:s,defaultRole:"member",defaultTenant:"vendor"});p.success(`Successfully synced ${a.data.synced} Firebase users`),await o()}catch(s){console.error("Error syncing Firebase users:",s);const a=s.response?.data?.message||"Failed to sync Firebase users";p.error(a)}finally{k(!1)}},Z=H.filter(s=>s.email.toLowerCase().includes(h.toLowerCase())||s.name?.toLowerCase().includes(h.toLowerCase())||s.role.toLowerCase().includes(h.toLowerCase())),P=re.filter(s=>s.email?.toLowerCase().includes(m.toLowerCase())||s.displayName?.toLowerCase().includes(m.toLowerCase()));return e.jsxDEV("div",{className:"container-fluid",children:[e.jsxDEV("div",{className:"row mb-4",children:e.jsxDEV("div",{className:"col-12",children:e.jsxDEV("div",{className:"alert alert-info",children:e.jsxDEV("div",{className:"d-flex align-items-center",children:[e.jsxDEV(l,{icon:"mdi:information",className:"me-2 text-xl"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:221,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"Enhanced Integration Available:"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:223,columnNumber:17},this),e.jsxDEV("p",{className:"mb-1",children:["The main ",e.jsxDEV(W,{to:"/wallet",className:"alert-link",children:"Wallet interface"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:224,columnNumber:46},this)," now includes all admin functionality with improved user transaction tracking capabilities."]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:224,columnNumber:17},this),e.jsxDEV("small",{className:"text-muted",children:"This legacy interface remains available for compatibility, but we recommend using the unified wallet for better user experience."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:225,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:222,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:220,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:219,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:218,columnNumber:9},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:217,columnNumber:7},this),e.jsxDEV("div",{className:"row gy-4",children:[e.jsxDEV("div",{className:"col-12",children:e.jsxDEV(Ce,{},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:235,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:234,columnNumber:9},this),oe&&A&&e.jsxDEV("div",{className:"col-12",children:e.jsxDEV("div",{className:"row gy-4",children:[e.jsxDEV("div",{className:"col-12 col-lg-8",children:e.jsxDEV(ke,{wallet:A,loading:ne,eligible:ce,onRefresh:Y,showActions:!0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:243,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:242,columnNumber:15},this),e.jsxDEV("div",{className:"col-12 col-lg-4",children:e.jsxDEV("div",{className:"card p-24 radius-12 h-100",children:[e.jsxDEV("h5",{className:"mb-3",children:[e.jsxDEV(l,{icon:"mdi:shield-crown",className:"text-xl text-primary-600 me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:254,columnNumber:21},this),"Admin Actions"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:253,columnNumber:19},this),e.jsxDEV("div",{className:"d-grid gap-2",children:[e.jsxDEV("button",{className:"btn btn-outline-primary btn-sm",onClick:pe,disabled:f,children:f?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:265,columnNumber:27},this),"Normalizing..."]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:264,columnNumber:25},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(l,{icon:"mdi:database-sync",className:"me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:270,columnNumber:27},this),"Normalize Data"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:269,columnNumber:25},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:258,columnNumber:21},this),e.jsxDEV("button",{className:"btn btn-outline-secondary btn-sm",onClick:de,disabled:f,children:f?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:282,columnNumber:27},this),"Syncing..."]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:281,columnNumber:25},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(l,{icon:"mdi:account-sync",className:"me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:287,columnNumber:27},this),"Sync Firebase Users"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:286,columnNumber:25},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:275,columnNumber:21},this),e.jsxDEV(W,{to:"/wallet",className:"btn btn-outline-success btn-sm",children:[e.jsxDEV(l,{icon:"mdi:wallet",className:"me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:293,columnNumber:23},this),"Unified Wallet Interface"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:292,columnNumber:21},this),e.jsxDEV(W,{to:"/dashboard",className:"btn btn-outline-info btn-sm",children:[e.jsxDEV(l,{icon:"mdi:view-dashboard",className:"me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:297,columnNumber:23},this),"Dashboard"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:296,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:257,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:252,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:251,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:241,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:240,columnNumber:11},this),e.jsxDEV("div",{className:"col-12",children:e.jsxDEV(Ee,{grantCredits:async s=>{const a=await me(s.email||"",s.amount,s.description,{metadata:s.metadata||void 0,reference:s.reference});return{ok:a.success,error:a.error,wallet:a.wallet}},onRefresh:async()=>{await o(),await Y()},compact:!1,showUserLookup:!0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:309,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:308,columnNumber:9},this),A?.transactions&&A.transactions.length>0&&e.jsxDEV("div",{className:"col-12",children:e.jsxDEV("div",{className:"card p-24 radius-12",children:[e.jsxDEV("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsxDEV("h5",{className:"mb-0",children:[e.jsxDEV(l,{icon:"mdi:history",className:"text-xl text-primary-600 me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:334,columnNumber:19},this),"My Recent Activity"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:333,columnNumber:17},this),e.jsxDEV(W,{to:"/wallet",className:"btn btn-outline-primary btn-sm",children:"View Full History"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:337,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:332,columnNumber:15},this),e.jsxDEV(We,{transactions:A.transactions,compact:!0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:341,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:331,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:330,columnNumber:11},this),e.jsxDEV("div",{className:"col-12",children:e.jsxDEV("div",{className:"card p-24 radius-12",children:[e.jsxDEV("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsxDEV("h5",{className:"mb-0",children:[e.jsxDEV(l,{icon:"mdi:account-group",className:"text-xl text-primary-600 me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:354,columnNumber:17},this),"Platform Users"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:353,columnNumber:15},this),e.jsxDEV("div",{className:"d-flex gap-2",children:e.jsxDEV("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>X(!0),disabled:N,children:N?e.jsxDEV("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:364,columnNumber:21},this):e.jsxDEV(l,{icon:"mdi:refresh"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:366,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:358,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:357,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:352,columnNumber:13},this),e.jsxDEV("div",{className:"row mb-3",children:e.jsxDEV("div",{className:"col-12 col-md-6",children:e.jsxDEV("div",{className:"input-group",children:[e.jsxDEV("span",{className:"input-group-text",children:e.jsxDEV(l,{icon:"mdi:magnify"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:376,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:375,columnNumber:19},this),e.jsxDEV("input",{type:"text",className:"form-control",placeholder:"Search platform users...",value:m,onChange:s=>te(s.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:378,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:374,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:373,columnNumber:15},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:372,columnNumber:13},this),K&&e.jsxDEV("div",{className:"alert alert-warning mb-3",children:[e.jsxDEV(l,{icon:"mdi:alert-circle",className:"me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:391,columnNumber:17},this),K]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:390,columnNumber:15},this),N&&e.jsxDEV("div",{className:"text-center py-4",children:[e.jsxDEV("div",{className:"spinner-border text-primary",role:"status",children:e.jsxDEV("span",{className:"visually-hidden",children:"Loading..."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:399,columnNumber:19},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:398,columnNumber:17},this),e.jsxDEV("p",{className:"text-secondary mt-2",children:"Searching platform users..."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:401,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:397,columnNumber:15},this),!N&&P.length>0&&e.jsxDEV("div",{className:"table-responsive",children:[e.jsxDEV("table",{className:"table table-hover",children:[e.jsxDEV("thead",{className:"table-light",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{children:"User"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:410,columnNumber:23},this),e.jsxDEV("th",{children:"Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:411,columnNumber:23},this),e.jsxDEV("th",{children:"Last Sign In"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:412,columnNumber:23},this),e.jsxDEV("th",{children:"Provider"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:413,columnNumber:23},this),e.jsxDEV("th",{children:"Actions"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:414,columnNumber:23},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:409,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:408,columnNumber:19},this),e.jsxDEV("tbody",{children:P.slice(0,20).map(s=>e.jsxDEV("tr",{children:[e.jsxDEV("td",{children:e.jsxDEV("div",{className:"d-flex align-items-center",children:[e.jsxDEV("img",{src:s.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(s.displayName||s.email)}&background=6366f1&color=fff`,alt:s.displayName||s.email,className:"rounded-circle me-2",width:"32",height:"32"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:422,columnNumber:29},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"fw-medium",children:s.displayName||"No Name"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:430,columnNumber:31},this),e.jsxDEV("div",{className:"text-xs text-secondary",children:s.uid},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:431,columnNumber:31},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:429,columnNumber:29},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:421,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:420,columnNumber:25},this),e.jsxDEV("td",{children:s.email},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:435,columnNumber:25},this),e.jsxDEV("td",{children:e.jsxDEV("span",{className:"text-sm",children:s.metadata?.lastSignInTime?new Date(s.metadata.lastSignInTime).toLocaleDateString():"Never"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:437,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:436,columnNumber:25},this),e.jsxDEV("td",{children:e.jsxDEV("span",{className:"badge bg-light text-dark",children:s.providerData?.[0]?.providerId||"Unknown"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:445,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:444,columnNumber:25},this),e.jsxDEV("td",{children:e.jsxDEV("div",{className:"btn-group btn-group-sm",children:[e.jsxDEV("button",{className:"btn btn-outline-primary",onClick:()=>{const a=document.querySelector('input[type="email"]');a&&(a.value=s.email,a.dispatchEvent(new Event("input",{bubbles:!0})))},title:"Grant credits to this user",children:e.jsxDEV(l,{icon:"mdi:wallet-plus"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:463,columnNumber:31},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:451,columnNumber:29},this),e.jsxDEV("button",{className:"btn btn-outline-success",onClick:()=>{g(s),d(!0)},title:"Apply voucher for this user",children:e.jsxDEV(l,{icon:"mdi:ticket-percent"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:473,columnNumber:31},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:465,columnNumber:29},this),e.jsxDEV("button",{className:"btn btn-outline-warning",onClick:()=>{ae(s),v(!0)},title:"Apply sponsorship for this user",children:e.jsxDEV(l,{icon:"mdi:account-group"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:483,columnNumber:31},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:475,columnNumber:29},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:450,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:449,columnNumber:25},this)]},s.uid,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:419,columnNumber:23},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:417,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:407,columnNumber:17},this),P.length>20&&e.jsxDEV("div",{className:"text-center pt-3",children:e.jsxDEV("small",{className:"text-secondary",children:["Showing 20 of ",P.length," users. Use search to narrow results."]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:494,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:493,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:406,columnNumber:15},this),!N&&P.length===0&&m&&e.jsxDEV("div",{className:"text-center py-4",children:[e.jsxDEV(l,{icon:"mdi:account-search",className:"text-4xl text-secondary-light mb-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:504,columnNumber:17},this),e.jsxDEV("p",{className:"text-secondary",children:['No users found matching "',m,'"']},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:505,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:503,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:351,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:350,columnNumber:9},this),e.jsxDEV("div",{className:"col-12",children:e.jsxDEV("div",{className:"card p-24 radius-12",children:[e.jsxDEV("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsxDEV("h5",{className:"mb-0",children:[e.jsxDEV(l,{icon:"mdi:account-group",className:"text-xl text-primary-600 me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:516,columnNumber:17},this),"Local Users & Wallets"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:515,columnNumber:15},this),e.jsxDEV("button",{className:"btn btn-outline-secondary btn-sm",onClick:o,disabled:V,children:V?e.jsxDEV("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:525,columnNumber:19},this):e.jsxDEV(l,{icon:"mdi:refresh"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:527,columnNumber:19},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:519,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:514,columnNumber:13},this),e.jsxDEV("div",{className:"row mb-3",children:e.jsxDEV("div",{className:"col-12 col-md-6",children:e.jsxDEV("div",{className:"input-group",children:[e.jsxDEV("span",{className:"input-group-text",children:e.jsxDEV(l,{icon:"mdi:magnify"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:536,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:535,columnNumber:19},this),e.jsxDEV("input",{type:"text",className:"form-control",placeholder:"Search users...",value:h,onChange:s=>le(s.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:538,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:534,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:533,columnNumber:15},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:532,columnNumber:13},this),V?e.jsxDEV("div",{className:"text-center py-4",children:[e.jsxDEV("div",{className:"spinner-border text-primary",role:"status",children:e.jsxDEV("span",{className:"visually-hidden",children:"Loading..."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:552,columnNumber:19},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:551,columnNumber:17},this),e.jsxDEV("p",{className:"text-secondary mt-2",children:"Loading users..."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:554,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:550,columnNumber:15},this):Z.length>0?e.jsxDEV("div",{className:"table-responsive",children:e.jsxDEV("table",{className:"table table-hover",children:[e.jsxDEV("thead",{className:"table-light",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{children:"User"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:561,columnNumber:23},this),e.jsxDEV("th",{children:"Role"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:562,columnNumber:23},this),e.jsxDEV("th",{children:"Tenant"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:563,columnNumber:23},this),e.jsxDEV("th",{children:"Wallet Balance"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:564,columnNumber:23},this),e.jsxDEV("th",{children:"Last Activity"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:565,columnNumber:23},this),e.jsxDEV("th",{children:"Actions"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:566,columnNumber:23},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:560,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:559,columnNumber:19},this),e.jsxDEV("tbody",{children:Z.map(s=>e.jsxDEV("tr",{children:[e.jsxDEV("td",{children:e.jsxDEV("div",{className:"d-flex align-items-center",children:[e.jsxDEV("img",{src:s.avatar,alt:s.name,className:"rounded-circle me-2",width:"32",height:"32"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:574,columnNumber:29},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"fw-medium",children:s.name},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:582,columnNumber:31},this),e.jsxDEV("div",{className:"text-xs text-secondary",children:s.email},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:583,columnNumber:31},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:581,columnNumber:29},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:573,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:572,columnNumber:25},this),e.jsxDEV("td",{children:e.jsxDEV("span",{className:`badge ${s.role==="admin"?"bg-danger":s.role==="vendor"?"bg-warning":"bg-secondary"}`,children:s.role},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:588,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:587,columnNumber:25},this),e.jsxDEV("td",{children:s.tenantId},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:592,columnNumber:25},this),e.jsxDEV("td",{children:e.jsxDEV("span",{className:"fw-medium",children:["R ",De(s.walletBalance)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:594,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:593,columnNumber:25},this),e.jsxDEV("td",{children:e.jsxDEV("span",{className:"text-sm",children:new Date(s.lastActivity).toLocaleDateString()},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:597,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:596,columnNumber:25},this),e.jsxDEV("td",{children:e.jsxDEV("div",{className:"btn-group btn-group-sm",children:e.jsxDEV("button",{className:"btn btn-outline-primary",onClick:()=>{const a=document.querySelector('input[type="email"]');a&&(a.value=s.email,a.dispatchEvent(new Event("input",{bubbles:!0})))},title:"Grant credits to this user",children:e.jsxDEV(l,{icon:"mdi:wallet-plus"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:615,columnNumber:31},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:603,columnNumber:29},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:602,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:601,columnNumber:25},this)]},s.uid,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:571,columnNumber:23},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:569,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:558,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:557,columnNumber:15},this):e.jsxDEV("div",{className:"text-center py-4",children:[e.jsxDEV(l,{icon:"mdi:account-search",className:"text-4xl text-secondary-light mb-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:626,columnNumber:17},this),e.jsxDEV("p",{className:"text-secondary",children:h?`No users found matching "${h}"`:"No users found"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:627,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:625,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:513,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:512,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:232,columnNumber:7},this),e.jsxDEV(c,{show:L,onHide:()=>d(!1),children:[e.jsxDEV(c.Header,{closeButton:!0,children:e.jsxDEV(c.Title,{children:["Apply Voucher for ",r?r.name||r.email:"User"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:638,columnNumber:9},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:637,columnNumber:7},this),e.jsxDEV(c.Body,{children:[e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"form-label",children:"Voucher Code"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:642,columnNumber:11},this),e.jsxDEV("input",{type:"text",className:"form-control",value:b,onChange:s=>w(s.target.value),placeholder:"Enter voucher code"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:643,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:641,columnNumber:9},this),F&&e.jsxDEV("div",{className:"alert alert-danger py-2",children:F},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:651,columnNumber:26},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:640,columnNumber:7},this),e.jsxDEV(c.Footer,{children:[e.jsxDEV(D,{variant:"secondary",onClick:()=>d(!1),children:"Cancel"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:654,columnNumber:9},this),e.jsxDEV(D,{variant:"success",disabled:S||!b,onClick:async()=>{U(!0),T("");try{const s=await u.post("/api/admin/apply-voucher",{userId:r?.uid,voucherCode:b});p.success("Voucher applied successfully"),d(!1),w(""),await o()}catch(s){T(s?.response?.data?.message||s?.message||"Failed to apply voucher")}finally{U(!1)}},children:S?"Applying...":"Apply Voucher"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:655,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:653,columnNumber:7},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:636,columnNumber:5},this),e.jsxDEV(c,{show:se,onHide:()=>v(!1),children:[e.jsxDEV(c.Header,{closeButton:!0,children:e.jsxDEV(c.Title,{children:["Apply Sponsorship for ",C?C.name||C.email:"User"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:685,columnNumber:9},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:684,columnNumber:7},this),e.jsxDEV(c.Body,{children:[e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"form-label",children:"Sponsorship Group"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:689,columnNumber:11},this),e.jsxDEV("input",{type:"text",className:"form-control",value:M,onChange:s=>I(s.target.value),placeholder:"Enter sponsorship group name"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:690,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:688,columnNumber:9},this),R&&e.jsxDEV("div",{className:"alert alert-danger py-2",children:R},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:698,columnNumber:26},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:687,columnNumber:7},this),e.jsxDEV(c.Footer,{children:[e.jsxDEV(D,{variant:"secondary",onClick:()=>v(!1),children:"Cancel"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:701,columnNumber:9},this),e.jsxDEV(D,{variant:"warning",disabled:B||!M,onClick:async()=>{z(!0),G("");try{const s=await u.post("/api/admin/apply-sponsorship",{userId:C?.uid,group:M});p.success("Sponsorship applied successfully"),v(!1),I(""),await o()}catch(s){G(s?.response?.data?.message||s?.message||"Failed to apply sponsorship")}finally{z(!1)}},children:B?"Applying...":"Apply Sponsorship"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:702,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:700,columnNumber:7},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:683,columnNumber:5},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/AdminWalletCreditsLayer.tsx",lineNumber:215,columnNumber:5},this)}const ze=()=>{const{data:L=[],isLoading:d}=Ne({queryKey:["adminWalletCredits"],queryFn:async()=>{const r=Ae();return(await Pe(ye(r,"adminWalletCredits"))).docs.map(b=>({id:b.id,...b.data()}))},staleTime:6e4});return e.jsxDEV(xe,{children:[e.jsxDEV(ve,{title:"Wallet Credits Management"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:22,columnNumber:7},void 0),e.jsxDEV(Le,{},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:23,columnNumber:7},void 0),e.jsxDEV("div",{className:"container py-4",children:[e.jsxDEV("h2",{className:"h5 mb-3",children:"Wallet Credits"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:25,columnNumber:9},void 0),d?e.jsxDEV("div",{children:"Loading wallet creditsâ€¦"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:27,columnNumber:11},void 0):e.jsxDEV("div",{className:"table-responsive",children:e.jsxDEV("table",{className:"table align-middle",children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{children:"ID"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:33,columnNumber:19},void 0),e.jsxDEV("th",{children:"User"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:34,columnNumber:19},void 0),e.jsxDEV("th",{children:"Amount"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:35,columnNumber:19},void 0),e.jsxDEV("th",{children:"Date"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:36,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:32,columnNumber:17},void 0)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:31,columnNumber:15},void 0),e.jsxDEV("tbody",{children:L.map(r=>e.jsxDEV("tr",{children:[e.jsxDEV("td",{children:r.id},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:42,columnNumber:21},void 0),e.jsxDEV("td",{children:r.user||r.email||"â€”"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:43,columnNumber:21},void 0),e.jsxDEV("td",{children:r.amount},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:44,columnNumber:21},void 0),e.jsxDEV("td",{children:r.date||"â€”"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:45,columnNumber:21},void 0)]},r.id,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:41,columnNumber:19},void 0))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:39,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:30,columnNumber:13},void 0)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:29,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:24,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/AdminWalletCreditsPage.tsx",lineNumber:21,columnNumber:5},void 0)};export{ze as default};
