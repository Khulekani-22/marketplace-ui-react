import{r as o,k as z,j as e,t as Q,s as Y,l as J,L as k,c as D,M as K,m as X,u as Z,b as S,o as ee,N as v,w as se}from"./index-CmOqa4Kr.js";import{I as i}from"./iconify-Bjpih9DI.js";function q(){try{const t=localStorage.getItem("theme");return t==="light"||t==="dark"||t==="system"?t:"system"}catch{return"system"}}function C(){return typeof document>"u"?"light":document.documentElement.getAttribute("data-theme")||J()}function te(){const[t,a]=o.useState(q),[s,n]=o.useState(C);o.useEffect(()=>{z(t),n(C())},[]),o.useEffect(()=>{const l=()=>n(C()),A=f=>{if(f.key==="theme"){const M=q();a(M),n(C())}};return window.addEventListener("themechange",l),window.addEventListener("storage",A),()=>{window.removeEventListener("themechange",l),window.removeEventListener("storage",A)}},[]);const d=o.useMemo(()=>s==="dark"?"solar:moon-outline":"solar:sun-2-outline",[s]),x=o.useMemo(()=>t==="system"?`System (${s})`:s.charAt(0).toUpperCase()+s.slice(1),[t,s]),N=()=>{Q(),n(C());const l=C();a(l)},w=l=>{a(l),Y(l),n(C())},y=l=>t===l;return e.jsxs("div",{className:"dropdown",children:[e.jsx("button",{className:"has-indicator w-40-px h-40-px bg-neutral-200 rounded-circle d-flex justify-content-center align-items-center",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false","aria-label":"Theme",title:`Theme: ${x}`,onClick:()=>{N()},children:e.jsx(i,{icon:d,className:"text-primary-light text-xl"})}),e.jsxs("ul",{className:"dropdown-menu dropdown-menu-end to-top p-0 overflow-hidden",children:[e.jsx("li",{className:"px-16 py-12 bg-primary-50",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between w-100",children:[e.jsx("h6",{className:"text-lg text-primary-light fw-semibold mb-0",children:"Theme"}),e.jsx("span",{className:"text-secondary-light text-sm",children:x})]})}),e.jsx("li",{children:e.jsxs("button",{className:`dropdown-item d-flex align-items-center gap-2 ${y("light")?"active":""}`,onClick:()=>w("light"),children:[e.jsx(i,{icon:"solar:sun-2-outline",className:"text-lg"}),e.jsx("span",{children:"Light"}),y("light")&&e.jsx(i,{icon:"mdi:check",className:"ms-auto text-primary"})]})}),e.jsx("li",{children:e.jsxs("button",{className:`dropdown-item d-flex align-items-center gap-2 ${y("dark")?"active":""}`,onClick:()=>w("dark"),children:[e.jsx(i,{icon:"solar:moon-outline",className:"text-lg"}),e.jsx("span",{children:"Dark"}),y("dark")&&e.jsx(i,{icon:"mdi:check",className:"ms-auto text-primary"})]})}),e.jsx("li",{children:e.jsxs("button",{className:`dropdown-item d-flex align-items-center gap-2 ${y("system")?"active":""}`,onClick:()=>w("system"),children:[e.jsx(i,{icon:"solar:monitor-outline",className:"text-lg"}),e.jsx("span",{children:"System"}),y("system")&&e.jsx(i,{icon:"mdi:check",className:"ms-auto text-primary"})]})})]})]})}function ne({title:t,subtitle:a,primary:s,secondary:n}){return e.jsx("div",{className:"col-12",children:e.jsxs("div",{style:{width:"100%",maxHeight:"30vh"},className:"nft-promo-card card radius-12 overflow-hidden position-relative z-1",children:[e.jsx("img",{src:"assets/images/nft/nft-gradient-bg.png",className:"position-absolute start-0 top-0 w-100 h-100 z-n1",alt:"Hero background"}),e.jsxs("div",{className:"nft-promo-card__inner d-flex align-items-center",children:[e.jsx("div",{className:"nft-promo-card__thumb w-100",children:e.jsx("img",{style:{width:"100%",maxHeight:"26vh"},src:"assets/images/nft/nf-card-img.png",alt:"Hero art",className:"w-100 object-fit-cover"})}),e.jsxs("div",{className:"flex-grow-1",children:[t&&e.jsx("h4",{className:"mb-16 text-white",children:t}),a&&e.jsx("p",{className:"text-white text-md",children:a}),e.jsxs("div",{className:"d-flex align-items-center flex-wrap mt-24 gap-16",children:[(s==null?void 0:s.to)&&(s==null?void 0:s.label)&&e.jsx(k,{to:s.to,className:"btn rounded-pill border br-white text-white radius-8 px-32 py-11 hover-bg-white text-hover-neutral-900",children:s.label}),(n==null?void 0:n.to)&&(n==null?void 0:n.label)&&e.jsx(k,{to:n.to,className:"btn rounded-pill btn-primary-600 radius-8 px-28 py-11",children:n.label})]})]})]})]})})}function c(t,a,s,n){return{title:t,subtitle:a,primary:s,secondary:n}}function P(t={}){const a=!!t.authed,s=!!t.isAdmin,n=t.tenantId||"vendor";return{authed:a,isAdmin:s,isBasic:!s&&n==="basic"&&a,isVendor:!s&&n!=="basic"&&a,tenantId:n}}const ae=[{test:/^\/?dashboard$/,hero:null},{test:/^\/?listings-admin$/,hero:null},{test:/^\/?profile-vendor-admin$/,hero:null},{test:/^\/?marketplace$/,hero:t=>{const{isVendor:a,isBasic:s,authed:n}=P(t);return a?c("Marketplace: Discover Services","Showcase your offerings and connect with startups across Africa.",{to:"/listings-vendors",label:"List a Service"},{to:"/listings-vendors-mine",label:"My Listings"}):s?c("Explore Trusted Vendors","Find vetted partners to accelerate your startup’s growth.",{to:"/marketplace",label:"Browse Market"},{to:"/signup/vendor",label:"Become a Vendor"}):c("Marketplace: Discover Services","Browse vetted SMME services across Africa and connect with trusted vendors.",{to:"/marketplace",label:"Browse Market"},{to:n?"/subscriptions":"/signup/startup",label:n?"My Subscriptions":"Join Now"})}},{test:/^\/?marketplace-details/,hero:t=>{const{isVendor:a,isBasic:s}=P(t);return a?c("Listing Details","Keep listings accurate and compelling to increase conversions.",{to:"/listings-vendors-mine",label:"Edit My Listings"},{to:"/marketplace",label:"Back to Market"}):s?c("Listing Details","Evaluate services, compare options, and engage with confidence.",{to:"/marketplace",label:"Back to Market"},{to:"/email",label:"Contact Vendor"}):c("Listing Details","Review service details, pricing and vendor information before engaging.",{to:"/marketplace",label:"Back to Market"},{to:"/email",label:"Contact Vendor"})}},{test:/^\/?vendor-home$/,hero:c("Vendor Portal","Manage your store, listings, and engagement with startups.",{to:"/listings-vendors",label:"Submit Listings"},{to:"/listings-vendors-mine",label:"My Listings"})},{test:/^\/?listings-vendors$/,hero:c("Vendor: Submit Listings","Draft locally, save checkpoints to the server, and publish when ready.",{to:"/listings-vendors-mine",label:"My Listings"},{to:"/vendor-home",label:"Vendor Home"})},{test:/^\/?listings-vendors-mine$/,hero:c("Vendor: My Listings","Track status, edit content, and highlight featured services.",{to:"/listings-vendors",label:"Add New Listing"},{to:"/vendor-home",label:"Vendor Home"})},{test:/^\/?profile-vendor$/,hero:t=>{const{authed:a,isVendor:s,isBasic:n}=P(t);return s?c("Vendor Profile","Keep your company profile current to build trust with buyers.",{to:"/profile-vendor",label:"Edit Profile"},{to:"/vendor-home",label:"Vendor Home"}):n||a?c("Startup Profile","Complete your startup profile to get better vendor matches.",{to:"/profile-startup",label:"Edit Profile"},{to:"/marketplace",label:"Find Vendors"}):c("Profile","Sign in to manage your profile and preferences.",{to:"/login",label:"Login"},{to:"/signup/startup",label:"Sign Up"})}},{test:/^\/?admin\/users$/,hero:c("Admin: User Roles","Manage access across vendors, startups, and administrators.",{to:"/admin/users",label:"Manage Users"},{to:"/listings-admin",label:"Listings Admin"})},{test:/^\/?profile-startup$/,hero:c("Startup Profile","Tell vendors what you need; discover solutions tailored to your goals.",{to:"/marketplace",label:"Find Vendors"},{to:"/profile-startup",label:"Edit Profile"})},{test:/^\/?signup\/vendor$/,hero:c("Become a Vendor","Join the GEN Africa marketplace and reach startups across the continent.",{to:"/signup/vendor",label:"Vendor Sign Up"},{to:"/login",label:"Login"})},{test:/^\/?signup\/startup$/,hero:c("Join as a Startup","Access curated vendors and accelerate your growth.",{to:"/signup/startup",label:"Startup Sign Up"},{to:"/login",label:"Login"})},{test:/^\/?login$/,hero:c("Welcome Back","Sign in to manage your listings, profiles, and subscriptions.",{to:"/login",label:"Login"},{to:"/signup/startup",label:"Sign Up"})},{test:/^\/?lms(?:$|\/.+)/,hero:t=>{const{authed:a,isBasic:s}=P(t);return c("Sloane Academy","Upskill with practical courses for startups and vendors.",{to:"/lms",label:"Explore Courses"},{to:a?s?"/signup/vendor":"/subscriptions":"/login",label:a?s?"Become a Vendor":"My Subscriptions":"Login"})}},{test:/.*/,hero:t=>{const{isAdmin:a,isVendor:s,isBasic:n,authed:d}=P(t);return a?c("Admin Console","Oversee users, vendors, and marketplace quality.",{to:"/listings-admin",label:"Listings Admin"},{to:"/admin/users",label:"Manage Users"}):s?c("Welcome, Vendor","Reach startups across Africa through the GEN Africa marketplace.",{to:"/listings-vendors",label:"Add Listing"},{to:"/listings-vendors-mine",label:"My Listings"}):n?c("Welcome, Startup","Discover solutions, track opportunities, and learn with Sloane Academy.",{to:"/marketplace",label:"Find Vendors"},{to:"/signup/vendor",label:"Become a Vendor"}):c("Discover The African SMME Marketplace","Access the AfCFTA SMME marketplace backed by GEN Africa for safety and convenience.",{to:"/marketplace",label:"Browse Listings"},{to:d?"/subscriptions":"/faq",label:d?"My Subscriptions":"Get Help"})}}];function ie(t,a){const s=String(t||"").replace(/^\//,"");for(const n of ae)if(n.test.test(s)){const d=n.hero;return d==null?null:typeof d=="function"?d(a):d}return null}const re=["admin","admin portal","user roles","roles","audit logs","approval","listings approval","vendor approval","superadmin","moderation","delete user","elevate","privilege","permission","billing","payout","/listings-admin","/admin/users","/audit-logs","/profile-vendor-admin"],oe=[{id:"add-listing",match:["add listing","submit listing","create listing","new listing","vendor listing"],answer:"Vendors can add listings from ‘Add Listings’. Fill in the title, description, category, pricing and contact details, then submit. You can edit later from ‘My Listings’."},{id:"my-listings",match:["my listings","manage listings","edit listing","update listing","draft"],answer:"Open 'My Listings' to view, edit, or unpublish your vendor listings. Use the action menu on each row to edit details or change visibility."},{id:"vendor-profile",match:["vendor profile","company profile","profile vendor","business profile"],answer:"Go to ‘Vendor Profile’ to update company name, bio, logo, categories, and contact links. Changes reflect on your public vendor page."},{id:"vendor-home",match:["vendor home","dashboard","vendor dashboard"],answer:"The Vendor Home highlights shortcuts to create or manage listings, shows quick stats, and links to your profile and support resources."},{id:"startup-profile",match:["startup profile","tenant profile","basic profile"],answer:"In ‘Startup Profile’, basic tenants can maintain organization details and preferences. Use this to keep your discovery profile up to date."},{id:"subscriptions",match:["subscriptions","follow","alerts","notifications","subscribe"],answer:"‘My Subscriptions’ lets you follow listings or categories and receive updates. You can unsubscribe at any time from the same page."},{id:"academy",match:["sloane academy","academy","training","learn"],answer:"Visit ‘Sloane Academy’ for learning modules and resources. Browse courses and track your progress from the academy page."},{id:"support",match:["support","help","contact","assist"],answer:"For help, go to ‘Support’. You can browse FAQs or submit a ticket if you need further assistance."},{id:"search",match:["search","find","filter","browse"],answer:"Use the search bar to find listings by keyword. Apply filters such as category or price to narrow down results."},{id:"tenant-switch",match:["tenant","switch tenant","change tenant","select tenant"],answer:"Admins can switch the active tenant using the tenant selector in the top bar. Basic tenants and vendors typically operate under the default ‘vendor’ tenant."}];function G(t=""){return t.toLowerCase().replace(/\s+/g," ").trim()}function _(t,{isAdmin:a,tenantId:s}){const n=G(t);return re.some(N=>n.includes(N))?{allowed:!1,reason:"This topic is restricted to admins or elevated roles."}:!new Set(["vendor","basic","public",""]).has((s||"").toLowerCase())&&!a?{allowed:!1,reason:"Assistant is limited to vendor and basic tenant features."}:{allowed:!0}}function le(t){const a=G(t);for(const s of oe)if(s.match.some(n=>a.includes(n)))return s.answer;return null}function O(t,a={}){const s=_(t,a);if(!s.allowed)return{type:"refusal",text:s.reason+" I can help with vendor and basic tenant features like: Add Listings, My Listings, Vendor Profile, Startup Profile, Subscriptions, Sloane Academy, Support, and Search."};const n=le(t);return n?{type:"answer",text:n}:{type:"fallback",text:"I couldn’t find a direct match. I can help with vendor and basic tenant features such as adding or managing listings, updating profiles, using subscriptions, academy, support, and search. Please rephrase or include specific feature names."}}const ce=["How do I add a listing?","Where can I edit my listings?","How do I update my vendor profile?","What is Sloane Academy?","How do I manage subscriptions?","How do I contact support?"];function de({isAdmin:t,tenantId:a}){const[s,n]=o.useState(!1),[d,x]=o.useState(""),[N,w]=o.useState(!1),[y,l]=o.useState(()=>[{role:"assistant",text:"Hi! I can help with vendor and basic tenant features. Ask me about adding listings, managing listings, profiles, subscriptions, academy, or support."}]),A=o.useRef(null),f=o.useMemo(()=>({isAdmin:!!t,tenantId:a||sessionStorage.getItem("tenantId")||"vendor"}),[t,a]);o.useEffect(()=>{var g;(g=A.current)==null||g.scrollIntoView({behavior:"smooth"})},[y,s]);async function M(g){const j=(g??d).trim();if(!j)return;if(x(""),l(h=>[...h,{role:"user",text:j}]),w(!0),!_(j,f).allowed){const h=O(j,f);l(L=>[...L,{role:"assistant",text:h.text,type:h.type}]),w(!1);return}try{const{data:h}=await D.post("/api/assistant/ask",{question:j,tenantId:f.tenantId,isAdmin:f.isAdmin}),L=typeof(h==null?void 0:h.text)=="string"?h.text:null;if(L)l(V=>[...V,{role:"assistant",text:L,type:(h==null?void 0:h.type)||"answer"}]);else{const V=O(j,f);l(R=>[...R,{role:"assistant",text:V.text,type:V.type}])}}catch{const h=O(j,f);l(L=>[...L,{role:"assistant",text:h.text,type:h.type}])}finally{w(!1)}}return e.jsxs("div",{className:"sl-ai-root","aria-live":"polite",children:[e.jsxs("button",{className:"sl-ai-toggle",onClick:()=>n(g=>!g),"aria-expanded":s,"aria-controls":"sl-ai-panel","aria-label":s?"Close AI assistant":"Open AI assistant",children:[e.jsx(i,{icon:"solar:chat-round-dots-line-duotone",className:"sl-ai-toggle-icon"}),e.jsx("span",{className:"sl-ai-toggle-text d-none d-sm-inline",children:"Ask Sloane"})]}),s&&e.jsxs("div",{id:"sl-ai-panel",className:"sl-ai-panel",role:"dialog","aria-label":"Sloane Assistant",children:[e.jsxs("div",{className:"sl-ai-header",children:[e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx(i,{icon:"solar:chat-round-dots-line-duotone",className:"text-primary"}),e.jsx("strong",{children:"Sloane Assistant"}),e.jsx("span",{className:"badge bg-secondary ms-2",children:"Vendor & Basic"})]}),e.jsx("button",{className:"btn btn-sm btn-light",onClick:()=>n(!1),"aria-label":"Close",children:e.jsx(i,{icon:"radix-icons:cross-2"})})]}),e.jsxs("div",{className:"sl-ai-body",children:[e.jsxs("div",{className:"sl-ai-messages",children:[y.map((g,j)=>e.jsx("div",{className:"sl-ai-msg "+(g.role==="user"?"user":"assistant"),children:e.jsx("div",{className:"sl-ai-bubble",children:g.text})},j)),N&&e.jsx("div",{className:"sl-ai-msg assistant",children:e.jsxs("div",{className:"sl-ai-bubble sl-ai-typing",children:[e.jsx("span",{className:"dot"}),e.jsx("span",{className:"dot"}),e.jsx("span",{className:"dot"})]})}),e.jsx("div",{ref:A})]}),e.jsx("div",{className:"sl-ai-suggestions",children:ce.map((g,j)=>e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>M(g),children:g},j))})]}),e.jsxs("form",{className:"sl-ai-input",onSubmit:g=>{g.preventDefault(),M()},children:[e.jsx("input",{type:"text",placeholder:"Ask about vendor or basic tenant features…",value:d,onChange:g=>x(g.target.value),"aria-label":"Ask your question",disabled:N}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:N||!d.trim(),children:e.jsx(i,{icon:"mi:send"})})]})]})]})}const me=()=>{const t=o.useContext(K);if(!t)throw new Error("useMessages must be used inside <MessagesProvider />");return t};function xe({children:t}){return e.jsx(ue,{children:t})}function ue({children:t}){const a=X(),s=Z(),[n,d]=o.useState(null),[x,N]=o.useState(!1),[w,y]=o.useState(!1),[l,A]=o.useState(()=>sessionStorage.getItem("role")==="admin"),[f,M]=o.useState(()=>sessionStorage.getItem("tenantId")||"vendor"),[g,j]=o.useState([]),b=({isActive:r})=>r?"active-page":"",h=o.useMemo(()=>w?"overlay active":"overlay",[w]),L=o.useMemo(()=>x?"sidebar active":w?"sidebar sidebar-open":"sidebar",[x,w]);o.useEffect(()=>{const r=sessionStorage.getItem("role")||"",u=sessionStorage.getItem("tenantId")||"vendor";A(r==="admin"),M(u)},[a.pathname]),o.useEffect(()=>{var U,$;async function r(m,I){if(!(!m&&!I))try{const T={};m&&(T.email=m),I&&(T.uid=I);const{data:B}=await D.get("/api/users/me",{params:T}),F=(B==null?void 0:B.role)||"member",W=(B==null?void 0:B.tenantId)||"vendor";m&&sessionStorage.setItem("userEmail",m),I&&sessionStorage.setItem("userId",I),sessionStorage.setItem("role",F),sessionStorage.setItem("tenantId",W),A(F==="admin"),M(W)}catch{}}const u=((U=S.currentUser)==null?void 0:U.email)||sessionStorage.getItem("userEmail"),E=(($=S.currentUser)==null?void 0:$.uid)||sessionStorage.getItem("userId");S.currentUser&&(S.currentUser.email&&sessionStorage.setItem("userEmail",S.currentUser.email),S.currentUser.uid&&sessionStorage.setItem("userId",S.currentUser.uid),d(S.currentUser)),(u||E)&&r(u,E);const p=ee(S,m=>{d(m||null),m?(m.email&&sessionStorage.setItem("userEmail",m.email),m.uid&&sessionStorage.setItem("userId",m.uid)):(sessionStorage.removeItem("userId"),sessionStorage.removeItem("userEmail"));const I=(m==null?void 0:m.email)||sessionStorage.getItem("userEmail"),T=(m==null?void 0:m.uid)||sessionStorage.getItem("userId");I||T?r(I,T):(A(!1),M("vendor"))});return()=>p==null?void 0:p()},[]),o.useEffect(()=>{(async()=>{try{const{data:r}=await D.get("/api/tenants"),u=Array.isArray(r)?r.map(p=>(p==null?void 0:p.id)==="public"?{...p,id:"vendor",name:(p==null?void 0:p.name)||"Vendor"}:p):[],E=[{id:"vendor",name:"Vendor"},...u.filter(p=>(p==null?void 0:p.id)!=="vendor")];j(E)}catch{j([{id:"vendor",name:"Vendor"}])}})()},[]);const V=r=>{const u=r.target.value;M(u),sessionStorage.setItem("tenantId",u)};async function R(r){var p,U,$,m,I;(p=r==null?void 0:r.preventDefault)==null||p.call(r);try{sessionStorage.setItem("sl_manual_logout","1")}catch{}const u=((U=S.currentUser)==null?void 0:U.email)||sessionStorage.getItem("userEmail")||null,E=(($=S.currentUser)==null?void 0:$.uid)||sessionStorage.getItem("userId")||null;try{await se({action:"LOGOUT",userEmail:u,userId:E})}catch{}try{await((I=(m=S).signOut)==null?void 0:I.call(m))}catch{}sessionStorage.removeItem("tenantId"),sessionStorage.removeItem("role"),sessionStorage.removeItem("userEmail"),sessionStorage.removeItem("userId"),s("/login",{replace:!0})}const H=!l&&f==="basic";return e.jsxs("section",{className:h,onClick:r=>{var u;return((u=r.target.classList)==null?void 0:u.contains("overlay"))&&y(!1)},children:[e.jsxs("aside",{className:L,"aria-label":"Main sidebar",children:[e.jsx("button",{onClick:()=>y(!1),type:"button",className:"sidebar-close-btn","aria-label":"Close sidebar",children:e.jsx(i,{icon:"radix-icons:cross-2"})}),e.jsx("div",{children:e.jsxs(k,{to:"/",className:"sidebar-logo","aria-label":"Go to home",children:[e.jsx("img",{src:"assets/images/logo-22.png",alt:"logo",className:"light-logo"}),e.jsx("img",{src:"assets/images/logo-22-light.png",alt:"logo",className:"dark-logo"}),e.jsx("img",{src:"assets/images/logo-mark.png",alt:"logo mark",className:"logo-icon"})]})}),e.jsx("div",{className:"sidebar-menu-area p-0 m-0",children:e.jsxs("ul",{className:"sidebar-menu",id:"sidebar-menu",children:[e.jsx("li",{children:e.jsxs(v,{to:"/dashboard",className:b,children:[e.jsx(i,{icon:"material-symbols:map-outline",className:"menu-icon"}),e.jsx("span",{children:"All Listings"})]})}),!H&&e.jsx("li",{children:e.jsxs(v,{to:"/listings-vendors",className:b,children:[e.jsx(i,{icon:"solar:document-text-outline",className:"menu-icon"}),e.jsx("span",{children:"Add Listings"})]})}),!H&&e.jsx("li",{children:e.jsxs(v,{to:"/listings-vendors-mine",className:b,children:[e.jsx(i,{icon:"mdi:view-list-outline",className:"menu-icon"}),e.jsx("span",{children:"My Listings"})]})}),!H&&e.jsx("li",{children:e.jsxs(v,{to:"/profile-vendor",className:b,children:[e.jsx(i,{icon:"solar:user-linear",className:"menu-icon"}),e.jsx("span",{children:"Vendor Profile"})]})}),!H&&e.jsx("li",{children:e.jsxs(v,{to:"/vendor-home",className:b,children:[e.jsx(i,{icon:"mdi:view-dashboard-outline",className:"menu-icon"}),e.jsx("span",{children:"Vendor Home"})]})}),e.jsx("li",{children:e.jsxs(v,{to:"/profile-startup",className:b,children:[e.jsx(i,{icon:"mdi:account-box-outline",className:"menu-icon"}),e.jsx("span",{children:"Startup Profile"})]})}),l&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{}),e.jsx("li",{children:e.jsxs(v,{to:"/profile-vendor-admin",className:b,children:[e.jsx(i,{icon:"ri-user-settings-line",className:"menu-icon"}),e.jsx("span",{children:"Vendor Approval"})]})}),e.jsx("li",{children:e.jsxs(v,{to:"/audit-logs",className:b,children:[e.jsx(i,{icon:"mdi:clipboard-text-clock-outline",className:"menu-icon"}),e.jsx("span",{children:"Audit Logs"})]})}),e.jsx("li",{children:e.jsxs(v,{to:"/listings-admin",className:b,children:[e.jsx(i,{icon:"mdi:view-list-outline",className:"menu-icon"}),e.jsx("span",{children:"Listings Approval"})]})}),e.jsx("li",{children:e.jsxs(v,{to:"/admin/users",className:b,children:[e.jsx(i,{icon:"mdi:account-cog-outline",className:"menu-icon"}),e.jsx("span",{children:"User Roles"})]})})]}),e.jsx("hr",{}),e.jsx("li",{children:e.jsxs(v,{to:"/email",className:b,children:[e.jsx(i,{icon:"tabler:message-check",className:"menu-icon"}),e.jsx("span",{children:"Message Center"})]})}),e.jsx("li",{children:e.jsxs(v,{to:"/subscriptions",className:b,children:[e.jsx(i,{icon:"mdi:bell-ring-outline",className:"menu-icon"}),e.jsx("span",{children:"My Subscriptions"})]})}),e.jsx("li",{children:e.jsxs(v,{to:"/sloane-academy",className:b,children:[e.jsx(i,{icon:"mdi:school-outline",className:"menu-icon"}),e.jsx("span",{children:"Sloane Academy"})]})}),e.jsx("li",{children:e.jsxs(v,{to:"/support",className:b,children:[e.jsx(i,{icon:"mdi:headset",className:"menu-icon"}),e.jsx("span",{children:"Support"})]})})]})})]}),e.jsxs("main",{className:x?"dashboard-main active":"dashboard-main",children:[e.jsx("div",{className:"navbar-header",children:e.jsxs("div",{className:"row align-items-center justify-content-between",children:[e.jsx("div",{className:"col-auto",children:e.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-4",children:[e.jsx("button",{type:"button",className:"sidebar-toggle",onClick:()=>N(r=>!r),"aria-label":"Toggle sidebar",children:x?e.jsx(i,{icon:"iconoir:arrow-right",className:"icon text-2xl non-active"}):e.jsx(i,{icon:"heroicons:bars-3-solid",className:"icon text-2xl non-active"})}),e.jsx("button",{onClick:()=>y(!0),type:"button",className:"sidebar-mobile-toggle","aria-label":"Open mobile menu",children:e.jsx(i,{icon:"heroicons:bars-3-solid",className:"icon"})}),e.jsxs("form",{className:"navbar-search",role:"search",onSubmit:r=>r.preventDefault(),children:[e.jsx("input",{type:"text",name:"search",placeholder:"Search","aria-label":"Search"}),e.jsx(i,{icon:"ion:search-outline",className:"icon"})]})]})}),e.jsx("div",{className:"col-auto",children:e.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-3",children:[e.jsx(te,{}),e.jsxs("span",{className:"badge text-bg-secondary d-none d-sm-inline",children:["Tenant: ",f]}),n?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-muted small d-none d-md-inline",children:n.email}),e.jsx("button",{className:"btn btn-sm rounded-pill btn-outline-danger",onClick:R,children:"Logout"})]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"btn rounded-pill border text-neutral-500 border-neutral-700 radius-8 px-12 py-6 bg-hover-primary-700 text-hover-white",to:"/signup/startup",children:"Startup Sign Up"}),e.jsx(k,{className:"btn rounded-pill text-primary-50 hover-text-primary-200 bg-primary-500 bg-hover-primary-800 radius-8 px-12 py-6",to:"/login",children:"Login"})]}),e.jsx(pe,{}),e.jsxs("div",{className:"dropdown",children:[e.jsx("button",{className:"has-indicator w-40-px h-40-px bg-neutral-200 rounded-circle d-flex justify-content-center align-items-center",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false","aria-label":"Open notifications",children:e.jsx(i,{icon:"iconoir:bell",className:"text-primary-light text-xl"})}),e.jsxs("div",{className:"dropdown-menu to-top dropdown-menu-lg p-0",children:[e.jsxs("div",{className:"m-16 py-12 px-16 radius-8 bg-primary-50 mb-16 d-flex align-items-center justify-content-between gap-2",children:[e.jsx("div",{children:e.jsx("h6",{className:"text-lg text-primary-light fw-semibold mb-0",children:"Notifications"})}),e.jsx("span",{className:"text-primary-600 fw-semibold text-lg w-40-px h-40-px rounded-circle bg-base d-flex justify-content-center align-items-center",children:"05"})]}),e.jsx("div",{className:"text-center py-12 px-16",children:e.jsx(k,{to:"#",className:"text-primary-600 fw-semibold text-md",children:"See All Notification"})})]})]}),l&&e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("span",{className:"badge bg-success-focus text-success-700",children:"Admin"}),e.jsx("label",{className:"text-sm text-secondary-light",children:"Tenant"}),e.jsx("select",{className:"form-select form-select-sm w-auto bg-base border text-secondary-light rounded-pill",value:f,onChange:V,children:g.map(r=>e.jsx("option",{value:r.id,children:r.name||r.id},r.id))})]}),e.jsxs("div",{className:"dropdown",children:[e.jsx("button",{className:"d-flex justify-content-center align-items-center rounded-circle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false","aria-label":"Open profile menu",children:e.jsx("img",{src:"assets/images/user.png",alt:"user",className:"w-40-px h-40-px object-fit-cover rounded-circle"})}),e.jsxs("div",{className:"dropdown-menu to-top dropdown-menu-sm",children:[e.jsxs("div",{className:"py-12 px-16 radius-8 bg-primary-50 mb-16 d-flex align-items-center justify-content-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"text-lg text-primary-light fw-semibold mb-2",children:(n==null?void 0:n.email)||"User"}),e.jsx("span",{className:"text-secondary-light fw-medium text-sm",children:l?"Admin":"Member"})]}),e.jsx("button",{type:"button",className:"hover-text-danger","aria-label":"Close",children:e.jsx(i,{icon:"radix-icons:cross-1",className:"icon text-xl"})})]}),e.jsxs("ul",{className:"to-top-list",children:[e.jsx("li",{children:e.jsxs(k,{className:"dropdown-item text-black px-0 py-8 hover-bg-transparent hover-text-primary d-flex align-items-center gap-3",to:"/profile-vendor",children:[e.jsx(i,{icon:"solar:user-linear",className:"icon text-xl"})," ","My Profile"]})}),e.jsx("li",{children:e.jsxs(k,{className:"dropdown-item text-black px-0 py-8 hover-bg-transparent hover-text-primary d-flex align-items-center gap-3",to:"/email",children:[e.jsx(i,{icon:"tabler:message-check",className:"icon text-xl"})," Message Center"]})}),e.jsx("li",{children:e.jsxs(k,{className:"dropdown-item text-black px-0 py-8 hover-bg-transparent hover-text-primary d-flex align-items-center gap-3",to:"/company",children:[e.jsx(i,{icon:"icon-park-outline:setting-two",className:"icon text-xl"}),"Setting"]})}),e.jsx("li",{children:e.jsxs(k,{className:"dropdown-item text-black px-0 py-8 hover-bg-transparent hover-text-danger d-flex align-items-center gap-3",to:"#",onClick:R,children:[e.jsx(i,{icon:"lucide:power",className:"icon text-xl"})," Log Out"]})})]})]})]})]})})]})}),e.jsxs("div",{className:"dashboard-main-body",children:[(()=>{const r=sessionStorage.getItem("role")||"member",u=ie(a.pathname,{isAdmin:l,tenantId:f,role:r,authed:!!n});return u?e.jsx("div",{className:"container py-4",children:e.jsx("div",{className:"row mb-3",children:e.jsx(ne,{title:u.title,subtitle:u.subtitle,primary:u.primary,secondary:u.secondary})})}):null})(),t]}),e.jsx("footer",{className:"d-footer",children:e.jsxs("div",{className:"row align-items-center justify-content-between",children:[e.jsx("div",{className:"col-auto",children:e.jsx("p",{className:"mb-0",children:"© 2025, 22 On Sloane Capital. All Rights Reserved."})}),e.jsx("div",{className:"col-auto",children:e.jsxs("p",{className:"mb-0",children:["Developed by ",e.jsx("span",{className:"text-primary-600",children:"22 On Sloane"})]})})]})})]}),e.jsx(de,{isAdmin:l,tenantId:f})]})}function pe(){const{unreadCount:t,latestFive:a}=me();return e.jsxs("div",{className:"dropdown",children:[e.jsxs("button",{className:"has-indicator w-40-px h-40-px bg-neutral-200 rounded-circle d-flex justify-content-center align-items-center position-relative",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false","aria-label":"Open messages",children:[e.jsx(i,{icon:"mage:email",className:"text-primary-light text-xl"}),t>0&&e.jsx("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger",children:Math.min(99,t)})]}),e.jsxs("div",{className:"dropdown-menu to-top dropdown-menu-lg p-0",children:[e.jsxs("div",{className:"m-16 py-12 px-16 radius-8 bg-primary-50 mb-16 d-flex align-items-center justify-content-between gap-2",children:[e.jsx("div",{children:e.jsx("h6",{className:"text-lg text-primary-light fw-semibold mb-0",children:"Messages"})}),e.jsx("span",{className:"text-primary-600 fw-semibold text-lg w-40-px h-40-px rounded-circle bg-base d-flex justify-content-center align-items-center",children:t})]}),e.jsxs("div",{className:"list-group list-group-flush px-2",children:[a.length===0&&e.jsx("div",{className:"text-center text-muted small py-2",children:"No messages"}),a.map(s=>{var n,d,x,N;return e.jsxs(k,{className:"list-group-item list-group-item-action d-flex align-items-start gap-2",to:`/view-details?tid=${encodeURIComponent(s.id)}`,children:[e.jsx("div",{className:`badge ${s.read?"text-bg-light":"text-bg-primary"}`,style:{alignSelf:"center"},children:s.read?"read":"new"}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-semibold text-truncate",style:{maxWidth:260},children:s.subject||"Message"}),e.jsx("div",{className:"small text-muted text-truncate",style:{maxWidth:260},children:((n=s.lastMessage)==null?void 0:n.snippet)||((N=(x=s.messages)==null?void 0:x[((d=s.messages)==null?void 0:d.length)-1])==null?void 0:N.content)||""})]})]},s.id)})]}),e.jsx("div",{className:"text-center py-12 px-16",children:e.jsx(k,{to:"/email",className:"text-primary-600 fw-semibold text-md",children:"See all messages"})})]})]})}export{xe as M,me as u};
