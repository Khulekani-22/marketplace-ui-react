import{v as De,a as v,j as e,M as Ve,w as M,i as D,l as Xe}from"./index-D4OG-ef-.js";import{r as u,R as ce}from"./vendor-CSSB0Yhz.js";import"./firebase-ARhtPVQA.js";import"./utils-B2rxisVD.js";const ue="/api/lms",te="listings_admin_draft_v1",Q="listings_admin_undo_v1",me="listings_admin_history_cache_v1";function U(s){try{return typeof s=="string"?JSON.parse(s):s}catch{return null}}function V(s){return JSON.parse(JSON.stringify(s))}function ne(){return Date.now().toString(36)+"-"+Math.random().toString(36).slice(2,8)}function we(s){return new Date(s).toLocaleString()}function Se(s=[]){const p=s.length,n=s.reduce((h,E)=>{const P=(E.status||"unknown").toLowerCase();return h[P]=(h[P]||0)+1,h},{}),b=s.filter(h=>!!h.isFeatured).length,f=new Set(s.map(h=>(h.category||"").trim()).filter(Boolean)).size;return{total:p,featured:b,categories:f,byStatus:n}}function pe(s){const p=s.vendorId||s.id||s.uid||(s.email?s.email.toLowerCase():ne());return{id:p,vendorId:s.vendorId||p,companyName:s.companyName||s.name||s.displayName||"",name:s.name||s.companyName||"",email:(s.email||s.contactEmail||"").toLowerCase(),website:s.website||"",phone:s.phone||s.phoneNumber||"",avatar:s.avatar||s.logoUrl||"",status:(s.status||"").toLowerCase(),kycStatus:(s.kycStatus||"").toLowerCase(),raw:s}}function oe(s){const p=[Array.isArray(s?.startups)&&s.startups,Array.isArray(s?.vendors)&&s.vendors,Array.isArray(s?.companies)&&s.companies,Array.isArray(s?.profiles)&&s.profiles].filter(Boolean);return re(p.flat().map(pe))}function re(s=[]){const p=new Map;return s.forEach(n=>{const b=(n.email||"").toLowerCase()||n.vendorId||n.id;if(b)if(!p.has(b))p.set(b,n);else{const h={...p.get(b)};for(const[E,P]of Object.entries(n))P==null||P===""||(h[E]=P);p.set(b,h)}}),Array.from(p.values())}function Ce(s=[]){const p={},n={};return s.forEach(b=>{p[b.vendorId]=b,b.email&&(n[b.email]=b)}),{byId:p,byEmail:n}}function le(s){return{id:s.id??ne(),title:s.title??"",category:s.category??"",vendor:s.vendor??s.vendorName??"",vendorId:s.vendorId??"",contactEmail:(s.contactEmail||s.email||"").toLowerCase(),price:typeof s.price=="number"?s.price:Number(s.price||0),rating:typeof s.rating=="number"?s.rating:Number(s.rating||0),reviewCount:typeof s.reviewCount=="number"?s.reviewCount:Number(s.reviewCount||s.reviews?.length||0),imageUrl:s.imageUrl??s.thumbnail??"",aiHint:s.aiHint??"",listingType:s.listingType??"service",status:s.status??"approved",isFeatured:!!s.isFeatured,description:s.description??"",reviews:Array.isArray(s.reviews)?s.reviews:[]}}function Je(){const s=u.useMemo(()=>sessionStorage.getItem("tenantId")||"vendor",[]),{syncNow:p}=De(),[n,b]=u.useState(()=>U(localStorage.getItem(te))??{startups:[],vendors:[],companies:[],services:[]}),f=u.useMemo(()=>(n?.services||[]).map(le),[n]),[h,E]=u.useState(()=>oe(n));u.useEffect(()=>{let i=!0;return(async()=>{try{const l=await v.get("/api/data/vendors",{suppressToast:!0,suppressErrorLog:!0}).then(t=>t.data||[]),r=Array.isArray(l)?re(l.map(pe)):[];i&&E(t=>re([...t||[],...r]))}catch{}})(),()=>{i=!1}},[s]);const{byId:P,byEmail:_}=u.useMemo(()=>Ce(h),[h]),[B,w]=u.useState(()=>JSON.stringify(n,null,2)),[F,G]=u.useState("visual"),[k,z]=u.useState(!0),[X,c]=u.useState(!1),[K,W]=u.useState(""),[S,x]=u.useState(!1),[Y,J]=u.useState(null),[q,d]=u.useState(null),N=u.useRef([]),[L,Z]=u.useState(()=>U(localStorage.getItem(me))??[]),ee=u.useMemo(()=>["All",...Array.from(new Set(f.map(l=>(l.category||"").trim()).filter(Boolean)))],[f]),[C,I]=u.useState("All"),[T,a]=u.useState("All"),[m,H]=u.useState(""),[ie,R]=u.useState(f[0]?.id||""),de=u.useMemo(()=>f.filter(i=>!(C!=="All"&&(i.category||"").trim()!==C||T!=="All"&&(i.status||"").toLowerCase()!==T||m&&!`${i.title} ${i.vendor} ${i.vendorId} ${i.contactEmail} ${i.category}`.toLowerCase().includes(m.toLowerCase()))),[f,C,T,m]),A=u.useMemo(()=>f.find(i=>i.id===ie),[f,ie]);function j(i){J(i),setTimeout(()=>J(null),2500)}function be(i){const l=U(localStorage.getItem(Q))??[];l.unshift(i);const r=l.slice(0,10);localStorage.setItem(Q,JSON.stringify(r)),N.current=r}function y(i){be(n),b(i),w(JSON.stringify(i,null,2)),localStorage.setItem(te,JSON.stringify(i))}function fe(i){if(!A)return;const l=V(n),r=l.services.findIndex(t=>t.id===A.id);if(r>=0){l.services[r]={...le(l.services[r]),...i},y(l);try{const t=A.status;typeof i.status<"u"&&i.status!==t?M({action:"LISTING_STATUS_CHANGE",userEmail:D.currentUser?.email,targetType:"listing",targetId:A.id,metadata:{from:t,to:i.status,title:A.title}}):M({action:"LISTING_UPDATE",userEmail:D.currentUser?.email,targetType:"listing",targetId:A.id,metadata:{patch:i}})}catch{}}}function he(){const i=prompt("Service title?");if(!i)return;const l=V(n),r=Math.max(0,...l.services.map(t=>Number(t.id)).filter(t=>!Number.isNaN(t)))+1;l.services.push(le({id:String(r),title:i,vendor:"",vendorId:"",contactEmail:"",category:"",price:0,rating:0,reviewCount:0,imageUrl:"",listingType:"service",status:"approved",isFeatured:!1,description:"",aiHint:"",reviews:[]})),y(l),R(String(r));try{M({action:"LISTING_CREATE",userEmail:D.currentUser?.email,targetType:"listing",targetId:String(r),metadata:{title:i}})}catch{}}function ge(){if(!A)return;const i=V(n),l=V(A);l.id=ne(),l.title=`${l.title} (Copy)`,i.services.push(l),y(i),R(l.id);try{M({action:"LISTING_DUPLICATE",userEmail:D.currentUser?.email,targetType:"listing",targetId:l.id,metadata:{sourceId:A.id,title:l.title}})}catch{}}function Ne(){if(!A||!window.confirm(`Delete "${A.title}"?`))return;const i=V(n);i.services=i.services.filter(l=>l.id!==A.id),y(i),R(i.services[0]?.id||"");try{M({action:"LISTING_DELETE",userEmail:D.currentUser?.email,targetType:"listing",targetId:A.id,metadata:{title:A.title}})}catch{}}function xe(){const i=N.current.length>0?N.current:U(localStorage.getItem(Q))??[];if(!i.length)return;const l=i.shift();N.current=i,localStorage.setItem(Q,JSON.stringify(i)),b(l),w(JSON.stringify(l,null,2))}const O=u.useCallback(async()=>{try{const l=(await v.get("/api/lms/checkpoints",{suppressToast:!0,suppressErrorLog:!0}).then(r=>r.data)).items??[];Z(l),localStorage.setItem(me,JSON.stringify(l.slice(0,2)))}catch{}},[]),se=u.useCallback(async({silent:i}={})=>{i?c(!0):z(!0),W("");try{let l=null;try{const{data:r}=await v.get(`${ue}/live`,{headers:{"x-tenant-id":s,"cache-control":"no-cache"},suppressToast:!0,suppressErrorLog:!0});r&&typeof r=="object"&&Object.keys(r).length&&(l=r)}catch(r){const t=r?.response?.data?.message||r?.message||"Failed to fetch latest listings";W(t)}if(l){const r=V(l);b(r),w(JSON.stringify(r,null,2)),localStorage.setItem(te,JSON.stringify(r));const t=r?.services?.[0];R(t?String(t.id):""),E(oe(r))}await O()}finally{i?c(!1):z(!1)}},[s,O]);u.useEffect(()=>{se({silent:!1}).catch(()=>{})},[se]);async function Ae(){d(null),x(!0);try{let i=n;try{const l=await v.get("/api/lms/live").then(o=>o.data),r=V(n),t=Object.fromEntries((l?.services||[]).map(o=>[String(o.id),o]));r.services=(r.services||[]).map(o=>{const g=t[String(o.id)];return g?{...o,reviews:Array.isArray(g.reviews)?g.reviews:o.reviews,reviewCount:typeof g.reviewCount=="number"?g.reviewCount:Number(g.reviewCount||(Array.isArray(g.reviews)?g.reviews.length:0)||o.reviewCount||0),rating:typeof g.rating=="number"?g.rating:Number(g.rating||o.rating||0),lastReviewedAt:g.lastReviewedAt||o.lastReviewedAt}:o}),i=r,y(r)}catch{}await v.put("/api/lms/publish",{data:i});try{await p()}catch{}j("Published listings to live");try{await M({action:"LISTINGS_PUBLISH",userEmail:D.currentUser?.email,targetType:"appData",targetId:"services",metadata:{count:f.length}})}catch{}await O()}catch(i){d(i.message||"Publish failed")}finally{x(!1)}}async function Pe(i){try{await v.post("/api/lms/checkpoints",{message:i||"",data:n}),j("Checkpoint saved");try{await M({action:"LISTINGS_CHECKPOINT",userEmail:D.currentUser?.email,targetType:"services",targetId:"checkpoint",metadata:{message:i||""}})}catch{}await O()}catch(l){d(l.message||"Failed to save checkpoint")}}async function ve(i){if(window.confirm("Restore this snapshot to LIVE appData.json?"))try{await v.post(`/api/lms/restore/${i}`),j("Restored snapshot"),await O();const l=await v.get("/api/lms/live").then(r=>r.data);y(l);try{await p()}catch{}}catch(l){d(l.message||"Restore failed")}}async function Ee(){if(window.confirm("Delete ALL checkpoints on the server?"))try{await v.delete("/api/lms/checkpoints"),j("Cleared history");try{await M({action:"LISTINGS_HISTORY_CLEAR",userEmail:D.currentUser?.email,targetType:"services",targetId:"history"})}catch{}await O()}catch(i){d(i.message||"Failed to clear")}}const $=Se(f);function ke(i){const l=i.vendorId&&P[i.vendorId],r=i.contactEmail&&_[i.contactEmail],t=l||r||null,o=t?.companyName||t?.name||i.vendor||i.contactEmail||"—",g=t?.email||i.contactEmail||"",ae=t?.vendorId||i.vendorId||"",Me=ae?`/profile-vendor?vendorId=${encodeURIComponent(ae)}`:null;return{v:t,name:o,email:g,vendorId:ae,profileHref:Me}}function Le(i){return!i||typeof i!="object"?"File is not valid JSON.":Array.isArray(i.services)?null:"JSON must include an array: services[]."}async function ye(i){d(null);const l=i.target.files?.[0];if(l)try{const r=await l.text(),t=U(r),o=Le(t);if(o){d(o);return}y(t),R(t?.services?.[0]?.id||""),j(`Imported ${l.name}`)}catch(r){d("Import failed: "+(r?.message||"unknown error"))}finally{i.target.value=""}}function je(){try{const i=new Blob([JSON.stringify(n,null,2)],{type:"application/json;charset=utf-8"}),l=URL.createObjectURL(i),r=document.createElement("a");r.href=l;const t=new Date().toISOString().replace(/[:.]/g,"-");r.download=`appData-${s}-${t}.json`,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(l),j("Exported current working copy")}catch(i){d("Export failed: "+(i?.message||"unknown error"))}}return e.jsxDEV(Ve,{children:e.jsxDEV("div",{className:"container py-4",children:[e.jsxDEV("div",{className:"row g-3 mb-3",children:[e.jsxDEV("div",{className:"col-md-3 col-sm-6",children:e.jsxDEV("div",{className:"card px-24 py-16 shadow-none radius-12 border h-100 bg-gradient-start-5 bg-animated-gradient text-center p-3",children:[e.jsxDEV("i",{className:"bi bi-bag-check text-primary fs-3 mb-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:652,columnNumber:13},this),e.jsxDEV("h6",{className:"fw-bold mb-0",children:$.total},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:653,columnNumber:13},this),e.jsxDEV("small",{className:"text-muted",children:"Services"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:654,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:651,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:650,columnNumber:9},this),e.jsxDEV("div",{className:"col-md-3 col-sm-6",children:e.jsxDEV("div",{className:"card px-24 py-16 shadow-none radius-12 border h-100 bg-gradient-start-5 text-center p-3",children:[e.jsxDEV("i",{className:"bi bi-grid text-success fs-3 mb-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:660,columnNumber:13},this),e.jsxDEV("h6",{className:"fw-bold mb-0",children:$.categories},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:661,columnNumber:13},this),e.jsxDEV("small",{className:"text-muted",children:"Categories"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:662,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:659,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:658,columnNumber:9},this),e.jsxDEV("div",{className:"col-md-3 col-sm-6",children:e.jsxDEV("div",{className:"card px-24 py-16 shadow-none radius-12 border h-100 bg-gradient-start-5 text-center p-3",children:[e.jsxDEV("i",{className:"bi bi-star-fill text-warning fs-3 mb-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:668,columnNumber:13},this),e.jsxDEV("h6",{className:"fw-bold mb-0",children:$.featured},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:669,columnNumber:13},this),e.jsxDEV("small",{className:"text-muted",children:"Featured"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:670,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:667,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:666,columnNumber:9},this),e.jsxDEV("div",{className:"col-md-3 col-sm-6",children:e.jsxDEV("div",{className:"card px-24 py-16 shadow-none radius-12 border h-100 bg-gradient-start-5 p-3",children:[e.jsxDEV("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsxDEV("div",{className:"d-flex align-items-center gap-2",children:[e.jsxDEV("i",{className:"bi bi-flag text-danger fs-4","aria-hidden":"true"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:679,columnNumber:17},this),e.jsxDEV("div",{className:"fw-semibold",children:"Status"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:680,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:678,columnNumber:15},this),e.jsxDEV("span",{className:"badge text-bg-light",children:[Object.values($.byStatus||{}).reduce((i,l)=>i+l,0)," total"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:682,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:677,columnNumber:13},this),(()=>{const i=t=>t==="approved"?"success":t==="pending"?"warning":t==="rejected"?"danger":"secondary",l=Object.entries($.byStatus||{}),r=l.reduce((t,[,o])=>t+o,0);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"progress",style:{height:10},"aria-label":"Status proportions",children:l.map(([t,o])=>{const g=r?Math.round(o/r*100):0;return e.jsxDEV("div",{className:`progress-bar bg-${i(t)}`,role:"progressbar",style:{width:`${g}%`},"aria-label":`${t} ${g}%`,"aria-valuenow":g,"aria-valuemin":0,"aria-valuemax":100,title:`${t}: ${o} (${g}%)`},t,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:709,columnNumber:25},this)})},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:701,columnNumber:19},this),e.jsxDEV("div",{className:"d-flex flex-wrap gap-2 mt-3",children:l.length?l.map(([t,o])=>e.jsxDEV("span",{className:`d-inline-flex align-items-center gap-2 px-2 py-1 rounded-pill border border-${i(t)} text-${i(t)} bg-${i(t)}-subtle small`,title:`${t}: ${o}`,"aria-label":`${t}: ${o}`,children:[e.jsxDEV("i",{className:`bi ${t==="approved"?"bi-check-circle":t==="pending"?"bi-hourglass-split":t==="rejected"?"bi-x-octagon":"bi-dot"} `,"aria-hidden":"true"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:735,columnNumber:27},this),e.jsxDEV("span",{className:"text-capitalize",children:t},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:747,columnNumber:27},this),e.jsxDEV("span",{className:"badge text-bg-light",children:o},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:748,columnNumber:27},this)]},t,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:727,columnNumber:25},this)):e.jsxDEV("span",{className:"text-muted small",children:"No status data"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:752,columnNumber:23},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:724,columnNumber:19},this),e.jsxDEV("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[e.jsxDEV("small",{className:"text-muted",children:"Total Approved: "},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:757,columnNumber:21},this),e.jsxDEV("span",{className:"fw-semibold",children:[r?Math.round(($.byStatus?.approved??0)/r*100):0,"%"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:758,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:756,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:700,columnNumber:17},this)})()]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:676,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:675,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:649,columnNumber:7},this),e.jsxDEV("div",{className:"pt-4 d-flex gap-2 mb-3",children:[e.jsxDEV("button",{className:"btn btn-outline-secondary",onClick:()=>se({silent:!0}),disabled:k||X,children:X?"Refreshing…":k?"Loading…":"Refresh data"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:775,columnNumber:9},this),e.jsxDEV("label",{className:"btn btn-light mb-0 d-none",children:["Import JSON",e.jsxDEV("input",{type:"file",accept:"application/json",hidden:!0,onChange:ye},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:784,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:782,columnNumber:9},this),e.jsxDEV("button",{className:"btn rounded-pill border text-neutral-500 border-neutral-700 radius-8 px-12 py-6 bg-hover-primary-700 text-hover-white",onClick:je,children:"Export Current"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:791,columnNumber:9},this),e.jsxDEV("button",{className:"btn rounded-pill border text-neutral-500 border-neutral-700 radius-8 px-12 py-6 bg-hover-primary-700 text-hover-white",disabled:S||k||X,onClick:async()=>{d(null),x(!0);try{const i=await v.get("/api/lms/live",{headers:{"x-tenant-id":s,"cache-control":"no-cache"},suppressToast:!0,suppressErrorLog:!0}).then(t=>t.data),l=V(n),r=Object.fromEntries((i?.services||[]).map(t=>[String(t.id),t]));l.services=(l.services||[]).map(t=>{const o=r[String(t.id)];return o?{...t,reviews:Array.isArray(o.reviews)?o.reviews:t.reviews,reviewCount:typeof o.reviewCount=="number"?o.reviewCount:Number(o.reviewCount||(Array.isArray(o.reviews)?o.reviews.length:0)||t.reviewCount||0),rating:typeof o.rating=="number"?o.rating:Number(o.rating||t.rating||0),lastReviewedAt:o.lastReviewedAt||t.lastReviewedAt}:t}),y(l),j("Synced reviews from live")}catch(i){d(i.message||"Failed to sync reviews")}finally{x(!1)}},title:"Fetch live data and merge review counts and lists",children:"Sync reviews from live"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:797,columnNumber:9},this),e.jsxDEV("button",{className:"btn rounded-pill text-primary-50 hover-text-primary-200 bg-primary-500 bg-hover-primary-800 radius-8 px-12 py-6",onClick:Ae,disabled:S||k||X,title:"Write working copy to live appData.json on the server",children:S?"Publishing…":"Publish to live"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:847,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:774,columnNumber:7},this),K&&e.jsxDEV("div",{className:"alert alert-warning py-2",children:K},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:858,columnNumber:19},this),Y&&e.jsxDEV("div",{className:"alert alert-success py-2",children:Y},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:859,columnNumber:17},this),q&&e.jsxDEV("div",{className:"alert alert-danger py-2",children:q},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:860,columnNumber:15},this),e.jsxDEV(Ie,{onSave:Pe,onClear:Ee,onUndo:xe,disabled:S||k||X},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:863,columnNumber:7},this),e.jsxDEV("div",{className:"d-flex gap-3",children:[e.jsxDEV("div",{className:"flex-grow-1",children:[e.jsxDEV("ul",{className:"nav nav-tabs mb-3",children:[e.jsxDEV("li",{className:"nav-item",children:e.jsxDEV("button",{className:`nav-link ${F==="visual"?"active":""}`,onClick:()=>G("visual"),children:"Visual editor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:875,columnNumber:15},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:874,columnNumber:13},this),e.jsxDEV("li",{className:"nav-item",children:e.jsxDEV("button",{className:`nav-link ${F==="json"?"active":""}`,onClick:()=>G("json"),children:"JSON editor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:883,columnNumber:15},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:882,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:873,columnNumber:11},this),F==="json"?e.jsxDEV(Te,{text:B,setText:w,onApply:()=>{const i=U(B);if(!i){d("Invalid JSON");return}y(i),j("Applied JSON to working copy")}},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:893,columnNumber:13},this):e.jsxDEV(Re,{services:f,vendors:h,vendorsById:P,vendorsByEmail:_,resolveVendor:ke,category:C,setCategory:I,status:T,setStatus:a,allCategories:ee,search:m,setSearch:H,filtered:de,selectedId:ie,setSelectedId:R,selected:A,addService:he,duplicateService:ge,deleteService:Ne,updateService:fe},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:907,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:872,columnNumber:9},this),e.jsxDEV("div",{style:{width:380},children:e.jsxDEV(Oe,{items:L,onRestore:ve},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:934,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:933,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:870,columnNumber:7},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:645,columnNumber:7},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:644,columnNumber:5},this)}function Ie({onSave:s,onClear:p,onUndo:n,disabled:b}){const[f,h]=u.useState("");return e.jsxDEV("div",{className:"d-flex align-items-center gap-2 mb-3",children:[e.jsxDEV("input",{className:"form-control",placeholder:"Checkpoint message (e.g. 'Tweaked pricing & featured items')",value:f,onChange:E=>h(E.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:948,columnNumber:7},this),e.jsxDEV("button",{className:"btn btn-sm rounded-pill text-primary-50 hover-text-primary-200 bg-primary-500 bg-hover-primary-800 radius-8 px-12 py-6",onClick:()=>s(f),disabled:b,children:"Save checkpoint"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:954,columnNumber:7},this),e.jsxDEV("button",{className:"btn btn-sm rounded-pill border text-neutral-500 border-neutral-700 radius-8 px-12 py-6 bg-hover-danger-700 text-hover-white",onClick:p,children:"Clear history"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:961,columnNumber:7},this),e.jsxDEV("button",{className:"btn btn-outline-secondary",onClick:n,children:"Undo"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:967,columnNumber:7},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:947,columnNumber:5},this)}function Te({text:s,setText:p,onApply:n}){return e.jsxDEV("div",{className:"card",children:[e.jsxDEV("div",{className:"card-header fw-semibold",children:"Working copy (JSON)"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:977,columnNumber:7},this),e.jsxDEV("div",{className:"card-body",children:[e.jsxDEV("textarea",{value:s,onChange:b=>p(b.target.value),rows:22,spellCheck:!1,className:"form-control font-monospace"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:979,columnNumber:9},this),e.jsxDEV("div",{className:"d-flex justify-content-between mt-2",children:[e.jsxDEV("small",{className:"text-muted",children:["Tip: Press ",e.jsxDEV("kbd",{children:"⌘/Ctrl"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:988,columnNumber:24},this),"+",e.jsxDEV("kbd",{children:"A"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:988,columnNumber:42},this)," then ",e.jsxDEV("kbd",{children:"⌘/Ctrl"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:988,columnNumber:60},this),"+",e.jsxDEV("kbd",{children:"C"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:988,columnNumber:78},this)," to copy."]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:987,columnNumber:11},this),e.jsxDEV("button",{className:"btn btn-outline-primary",onClick:n,children:"Apply JSON"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:990,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:986,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:978,columnNumber:7},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:976,columnNumber:5},this)}function Re(s){const{services:p,vendors:n,vendorsById:b,vendorsByEmail:f,resolveVendor:h,category:E,setCategory:P,status:_,setStatus:B,allCategories:w,search:F,setSearch:G,filtered:k,selectedId:z,setSelectedId:X,selected:c,addService:K,duplicateService:W,deleteService:S,updateService:x}=s,Y=u.useMemo(()=>{const a=m=>m.status==="active"||m.kycStatus==="approved";return n.filter(a).map(m=>({id:m.vendorId,label:`${m.companyName||m.name||"(unnamed)"}${m.email?" — "+m.email:""}`}))},[n]);function J(a){const m=b[a];x({vendorId:a||"",vendor:m&&(m.companyName||m.name)||"",contactEmail:m?.email||c?.contactEmail||""})}const q=ce.useMemo(()=>{if(!c)return"";if(c.vendorId)return c.vendorId;const a=(c.contactEmail||"").toLowerCase();return(a?f[a]:null)?.vendorId||""},[c,f]),d=c?h(c):null,[N,L]=ce.useState({open:!1,subject:"",content:"",sending:!1,err:null,done:!1}),{syncMessagesToLive:Z,refresh:ee}=Xe();function C(){if(!c)return;const a=`Listing feedback: ${c.title}`,m=`Hello ${d?.name||"Vendor"},

Regarding your listing "${c.title}" (ID: ${c.id}).

Reason / guidance:
- 

Please update and resubmit when ready.

Regards,
Admin`;L({open:!0,subject:a,content:m,sending:!1,err:null,done:!1})}function I(){L({open:!1,subject:"",content:"",sending:!1,err:null,done:!1})}async function T(a){if(a?.preventDefault?.(),!(!c||!N.content.trim())){L(m=>({...m,sending:!0,err:null}));try{await v.post("/api/messages",{listingId:c.id,listingTitle:c.title,vendorId:c.vendorId||"",vendorEmail:d?.email||"",subject:N.subject,content:N.content}),L(m=>({...m,sending:!1,done:!0}));try{await ee({force:!0}),await Z()}catch{}setTimeout(()=>I(),1200)}catch(m){L(H=>({...H,sending:!1,err:m?.response?.data?.message||m?.message||"Failed to send"}))}}}return e.jsxDEV("div",{className:"card",children:[e.jsxDEV("div",{className:"card-header d-flex justify-content-between align-items-center",children:[e.jsxDEV("span",{className:"fw-semibold",children:"Visual editor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1091,columnNumber:9},this),e.jsxDEV("span",{className:"text-muted small",children:"CRUD for services (listings)"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1092,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1090,columnNumber:7},this),e.jsxDEV("div",{className:"card-body",children:[e.jsxDEV("div",{className:"row g-2 align-items-end mb-3",children:[e.jsxDEV("div",{className:"col-12 col-md-3",children:[e.jsxDEV("label",{className:"form-label",children:"Category"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1098,columnNumber:13},this),e.jsxDEV("select",{className:"form-select",value:E,onChange:a=>P(a.target.value),children:w.map(a=>e.jsxDEV("option",{value:a,children:a},a,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1105,columnNumber:17},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1099,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1097,columnNumber:11},this),e.jsxDEV("div",{className:"col-12 col-md-3",children:[e.jsxDEV("label",{className:"form-label",children:"Status"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1112,columnNumber:13},this),e.jsxDEV("select",{className:"form-select",value:_,onChange:a=>B(a.target.value),children:["All","approved","pending","rejected"].map(a=>e.jsxDEV("option",{value:a,children:a},a,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1119,columnNumber:17},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1113,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1111,columnNumber:11},this),e.jsxDEV("div",{className:"col",children:[e.jsxDEV("label",{className:"form-label",children:"Search"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1126,columnNumber:13},this),e.jsxDEV("input",{className:"form-control",placeholder:"Title, vendor, email, vendorId, category…",value:F,onChange:a=>G(a.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1127,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1125,columnNumber:11},this),e.jsxDEV("div",{className:"col-auto",children:e.jsxDEV("button",{className:"btn rounded-pill text-primary-50 hover-text-primary-200 bg-primary-500 bg-hover-primary-800 radius-8 px-12 py-6 w-100",onClick:K,children:"+ Add service"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1135,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1134,columnNumber:11},this),e.jsxDEV("div",{className:"col-auto",children:e.jsxDEV("button",{className:"btn rounded-pill border text-neutral-500 border-neutral-700 radius-8 px-12 py-6 bg-hover-primary-700 text-hover-white w-100",onClick:W,disabled:!c,children:"Duplicate"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1143,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1142,columnNumber:11},this),e.jsxDEV("div",{className:"col-auto",children:e.jsxDEV("button",{className:"btn btn-danger-500 rounded-pill border text-neutral-500 border-neutral-700 radius-8 px-12 py-6 bg-hover-danger-700 text-hover-white w-100",onClick:S,disabled:!c,children:"Delete"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1152,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1151,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1096,columnNumber:9},this),e.jsxDEV("div",{className:"row",children:[e.jsxDEV("div",{className:"col-4",children:[e.jsxDEV("div",{className:"list-group mb-2",style:{maxHeight:420,overflow:"auto"},children:[k.map(a=>{const m=h(a);return e.jsxDEV("button",{className:"list-group-item list-group-item-action d-flex justify-content-between align-items-center "+(z===a.id?"active":""),onClick:()=>X(a.id),title:m.email||"",children:[e.jsxDEV("span",{className:"text-truncate",children:[a.title,e.jsxDEV("span",{className:"text-muted",children:" · "},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1183,columnNumber:23},this),e.jsxDEV("span",{className:"text-truncate",children:m.name},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1184,columnNumber:23},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1181,columnNumber:21},this),m.profileHref?e.jsxDEV("a",{className:"badge bg-light text-dark text-decoration-none",href:m.profileHref,target:"_blank",rel:"noreferrer",onClick:H=>H.stopPropagation(),title:"Open vendor profile",children:m.vendorId},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1187,columnNumber:23},this):e.jsxDEV("span",{className:"badge bg-light text-dark",children:a.category||"—"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1198,columnNumber:23},this)]},a.id,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1172,columnNumber:19},this)}),!k.length&&e.jsxDEV("div",{className:"text-muted small p-2",children:"No services match your filters."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1206,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1165,columnNumber:13},this),e.jsxDEV("div",{className:"small text-muted",children:["Showing ",k.length," of ",p.length]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1211,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1164,columnNumber:11},this),e.jsxDEV("div",{className:"col",children:c?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"form-label",children:"Title"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1221,columnNumber:19},this),e.jsxDEV("input",{className:"form-control",value:c.title,onChange:a=>x({title:a.target.value})},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1222,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1220,columnNumber:17},this),e.jsxDEV("div",{className:"row g-3",children:[e.jsxDEV("div",{className:"col-md-4",children:[e.jsxDEV("label",{className:"form-label",children:"Category"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1231,columnNumber:21},this),e.jsxDEV("input",{className:"form-control",value:c.category||"",onChange:a=>x({category:a.target.value})},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1232,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1230,columnNumber:19},this),e.jsxDEV("div",{className:"col-md-4",children:[e.jsxDEV("label",{className:"form-label",children:"Listing type"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1241,columnNumber:21},this),e.jsxDEV("select",{className:"form-select",value:c.listingType||"service",onChange:a=>x({listingType:a.target.value}),children:[e.jsxDEV("option",{value:"service",children:"Service"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1249,columnNumber:23},this),e.jsxDEV("option",{value:"saas",children:"SaaS"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1250,columnNumber:23},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1242,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1240,columnNumber:19},this),e.jsxDEV("div",{className:"col-md-4",children:[e.jsxDEV("label",{className:"form-label",children:"Status"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1254,columnNumber:21},this),e.jsxDEV("select",{className:"form-select",value:c.status||"approved",onChange:a=>x({status:a.target.value}),children:[e.jsxDEV("option",{value:"approved",children:"approved"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1262,columnNumber:23},this),e.jsxDEV("option",{value:"pending",children:"pending"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1263,columnNumber:23},this),e.jsxDEV("option",{value:"rejected",children:"rejected"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1264,columnNumber:23},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1255,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1253,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1229,columnNumber:17},this),e.jsxDEV("div",{className:"row g-3 mt-1",children:[e.jsxDEV("div",{className:"col-md-6",children:[e.jsxDEV("label",{className:"form-label",children:"Bind to vendor (by company or email)"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1271,columnNumber:21},this),e.jsxDEV("select",{className:"form-select",value:q,onChange:a=>J(a.target.value),children:[e.jsxDEV("option",{value:"",children:"—"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1279,columnNumber:23},this),Y.map(a=>e.jsxDEV("option",{value:a.id,children:a.label},a.id,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1281,columnNumber:25},this))]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1274,columnNumber:21},this),e.jsxDEV("div",{className:"form-text",children:["Saves both ",e.jsxDEV("code",{children:"vendorId"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1287,columnNumber:34},this)," and display"," ",e.jsxDEV("code",{children:"vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1288,columnNumber:23},this)," name on the listing."]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1286,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1270,columnNumber:19},this),e.jsxDEV("div",{className:"col-md-3",children:[e.jsxDEV("label",{className:"form-label",children:"Contact email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1292,columnNumber:21},this),e.jsxDEV("input",{className:"form-control",value:c.contactEmail||"",onChange:a=>x({contactEmail:a.target.value.toLowerCase()}),onBlur:()=>{if(!c)return;const a=(c.contactEmail||"").toLowerCase(),m=a?f[a]:null;m&&c.vendorId!==m.vendorId&&J(m.vendorId)}},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1293,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1291,columnNumber:19},this),e.jsxDEV("div",{className:"col-md-3 d-flex align-items-end",children:d?.profileHref?e.jsxDEV("a",{className:"btn btn-outline-primary w-100",href:d.profileHref,target:"_blank",rel:"noreferrer",title:"Open vendor profile",children:"View profile"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1313,columnNumber:23},this):e.jsxDEV("button",{className:"btn btn-outline-secondary w-100",disabled:!0,children:"No profile linked"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1323,columnNumber:23},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1311,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1269,columnNumber:17},this),e.jsxDEV("div",{className:"row g-3 mt-1",children:[e.jsxDEV("div",{className:"col-md-4",children:[e.jsxDEV("label",{className:"form-label",children:"Price (R)"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1332,columnNumber:21},this),e.jsxDEV("input",{type:"number",min:"0",className:"form-control",value:Number(c.price||0),onChange:a=>x({price:Number(a.target.value||0)})},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1333,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1331,columnNumber:19},this),e.jsxDEV("div",{className:"col-md-4",children:[e.jsxDEV("label",{className:"form-label",children:"Rating (0–5)"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1344,columnNumber:21},this),e.jsxDEV("input",{type:"number",min:"0",max:"5",step:"0.1",className:"form-control",value:Number(c.rating||0),onChange:a=>x({rating:Number(a.target.value||0)})},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1345,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1343,columnNumber:19},this),e.jsxDEV("div",{className:"col-md-4",children:[e.jsxDEV("label",{className:"form-label",children:"Review count"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1358,columnNumber:21},this),e.jsxDEV("input",{type:"number",min:"0",className:"form-control",value:Number(c.reviewCount||0),onChange:a=>x({reviewCount:Number(a.target.value||0)})},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1359,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1357,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1330,columnNumber:17},this),e.jsxDEV("div",{className:"row g-3 mt-1",children:[e.jsxDEV("div",{className:"col-md-8",children:[e.jsxDEV("label",{className:"form-label",children:"Image URL"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1375,columnNumber:21},this),e.jsxDEV("input",{className:"form-control",value:c.imageUrl||"",onChange:a=>x({imageUrl:a.target.value})},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1376,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1374,columnNumber:19},this),e.jsxDEV("div",{className:"col-md-4 d-flex align-items-end gap-3",children:e.jsxDEV("div",{className:"form-check",children:[e.jsxDEV("input",{id:"isFeatured",type:"checkbox",className:"form-check-input",checked:!!c.isFeatured,onChange:a=>x({isFeatured:!!a.target.checked})},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1386,columnNumber:23},this),e.jsxDEV("label",{htmlFor:"isFeatured",className:"form-check-label",children:"Featured"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1395,columnNumber:23},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1385,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1384,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1373,columnNumber:17},this),e.jsxDEV("div",{className:"mb-3 mt-2",children:[e.jsxDEV("label",{className:"form-label",children:"Description"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1403,columnNumber:19},this),e.jsxDEV("textarea",{className:"form-control",rows:4,value:c.description||"",onChange:a=>x({description:a.target.value})},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1404,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1402,columnNumber:17},this),e.jsxDEV("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsxDEV("div",{className:"text-secondary small",children:["Vendor: ",e.jsxDEV("strong",{children:d?.name||"Unknown"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1416,columnNumber:29},this),d?.email?` · ${d.email}`:""]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1415,columnNumber:19},this),e.jsxDEV("div",{children:e.jsxDEV("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:C,disabled:!d?.email&&!c?.vendorId,children:"Message Vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1419,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1418,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1414,columnNumber:17},this),e.jsxDEV("div",{className:"border rounded p-2",children:[e.jsxDEV("div",{className:"text-muted small mb-1",children:"Card preview"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1427,columnNumber:19},this),e.jsxDEV("div",{className:"d-flex align-items-center gap-2",children:[e.jsxDEV("img",{src:c.imageUrl||"/assets/images/placeholder-4x3.png",alt:"",style:{width:120,height:72,objectFit:"cover",borderRadius:6}},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1429,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"fw-semibold",children:c.title||"Untitled service"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1442,columnNumber:23},this),e.jsxDEV("div",{className:"text-muted small",children:[d?.name||"Vendor",d?.email?` · ${d.email}`:""]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1445,columnNumber:23},this),e.jsxDEV("div",{className:"small",children:["R",Number(c.price||0).toLocaleString()," · ★"," ",Number(c.rating||0).toFixed(1)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1451,columnNumber:23},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1441,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1428,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1426,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1219,columnNumber:15},this):e.jsxDEV("div",{className:"text-muted mt-2",children:"Select a service to edit details."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1460,columnNumber:15},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1217,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1162,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1094,columnNumber:7},this),N.open&&e.jsxDEV("div",{className:"position-fixed top-0 start-0 w-100 h-100",style:{background:"rgba(0,0,0,0.5)",zIndex:1070},onClick:a=>a.target===a.currentTarget&&I(),children:e.jsxDEV("div",{className:"card",style:{maxWidth:560,margin:"10vh auto"},children:[e.jsxDEV("div",{className:"card-header d-flex align-items-center justify-content-between",children:[e.jsxDEV("h6",{className:"mb-0",children:"Message Vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1471,columnNumber:15},this),e.jsxDEV("button",{className:"btn btn-sm btn-outline-secondary",onClick:I,children:"Close"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1472,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1470,columnNumber:13},this),e.jsxDEV("form",{onSubmit:T,children:[e.jsxDEV("div",{className:"card-body",children:[N.err&&e.jsxDEV("div",{className:"alert alert-danger py-2 mb-2",children:N.err},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1476,columnNumber:34},this),N.done&&e.jsxDEV("div",{className:"alert alert-success py-2 mb-2",children:"Sent"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1477,columnNumber:35},this),e.jsxDEV("div",{className:"mb-2",children:[e.jsxDEV("label",{className:"form-label",children:"Subject"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1479,columnNumber:19},this),e.jsxDEV("input",{className:"form-control",value:N.subject,onChange:a=>L(m=>({...m,subject:a.target.value}))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1480,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1478,columnNumber:17},this),e.jsxDEV("div",{className:"mb-2",children:[e.jsxDEV("label",{className:"form-label",children:"Message"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1483,columnNumber:19},this),e.jsxDEV("textarea",{className:"form-control",rows:6,value:N.content,onChange:a=>L(m=>({...m,content:a.target.value}))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1484,columnNumber:19},this),e.jsxDEV("div",{className:"text-secondary small mt-1",children:["To: ",d?.email||c?.vendorId||"Vendor"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1485,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1482,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1475,columnNumber:15},this),e.jsxDEV("div",{className:"card-footer d-flex justify-content-end gap-2",children:[e.jsxDEV("button",{type:"button",className:"btn btn-outline-secondary",onClick:I,disabled:N.sending,children:"Cancel"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1489,columnNumber:17},this),e.jsxDEV("button",{type:"submit",className:"btn btn-primary",disabled:N.sending||!N.content.trim(),children:N.sending?"Sending…":"Send"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1490,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1488,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1474,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1469,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1468,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1089,columnNumber:5},this)}function Oe({items:s,onRestore:p}){return e.jsxDEV("div",{className:"card",children:[e.jsxDEV("div",{className:"card-header fw-semibold d-flex justify-content-between",children:[e.jsxDEV("span",{children:"Version history"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1505,columnNumber:9},this),e.jsxDEV("span",{className:"text-muted small",children:"Latest checkpoints"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1506,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1504,columnNumber:7},this),e.jsxDEV("div",{className:"list-group list-group-flush",children:[!s?.length&&e.jsxDEV("div",{className:"list-group-item text-muted small",children:["No checkpoints yet.",e.jsxDEV("div",{className:"mt-1",children:"Offline cache keeps the two most recent checkpoints."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1512,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1510,columnNumber:11},this),s?.map(n=>e.jsxDEV("div",{className:"list-group-item",children:e.jsxDEV("div",{className:"d-flex justify-content-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"fw-semibold",children:n.message||"(no message)"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1521,columnNumber:17},this),e.jsxDEV("div",{className:"text-muted small",children:we(n.ts)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1522,columnNumber:17},this),e.jsxDEV("div",{className:"text-muted small",children:["Δ Cohorts: ",n.delta?.cohorts>=0?"+":"",n.delta?.cohorts??0," · Δ Courses:"," ",n.delta?.courses>=0?"+":"",n.delta?.courses??0," · Δ Lessons:"," ",n.delta?.lessons>=0?"+":"",n.delta?.lessons??0]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1523,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1520,columnNumber:15},this),e.jsxDEV("div",{className:"d-flex align-items-start gap-2",children:[e.jsxDEV("button",{className:"btn btn rounded-pill text-primary-50 hover-text-primary-200 bg-primary-500 bg-hover-primary-800 radius-8 px-12 py-6 btn-sm",title:"Restore snapshot to LIVE",onClick:()=>p(n.id),children:"Restore"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1533,columnNumber:17},this),e.jsxDEV("a",{className:"btn btn-outline-secondary btn-sm",title:"Download snapshot JSON",href:`${ue}/checkpoints/${n.id}`,target:"_blank",rel:"noreferrer",children:"Download"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1540,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1532,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1519,columnNumber:13},this)},n.id,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1518,columnNumber:11},this))]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1508,columnNumber:7},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/ListingsAdminPage.tsx",lineNumber:1503,columnNumber:5},this)}export{Je as default};
