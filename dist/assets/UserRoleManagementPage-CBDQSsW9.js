import{c as S,n as x,a as c,b as xe,j as a,k as Ke,w as ge,M as Je}from"./index-BPWo5SsL.js";import{B as Ye}from"./Breadcrumb-Dx9oxHeu.js";import{r as l}from"./vendor-C0neu5ZX.js";import"./firebase-DMviGkW7.js";import"./utils-B2rxisVD.js";const Ae=[{key:"dashboard",label:"Access To Market"},{key:"market1",label:"Full Marketplace"},{key:"access-capital",label:"Access to Capital"},{key:"listings-vendors",label:"Add Listings"},{key:"listings-vendors-mine",label:"My Listings"},{key:"profile-vendor",label:"Vendor Profile"},{key:"vendor-home",label:"Vendor Home"},{key:"profile-startup",label:"Startup Profile"},{key:"profile-vendor-admin",label:"Vendor Approval"},{key:"audit-logs",label:"Audit Logs"},{key:"listings-admin",label:"Listings Approval"},{key:"admin-users",label:"User Roles"},{key:"sloane-academy-admin",label:"Academy Admin"},{key:"admin-dashboard",label:"Admin Dashboard"},{key:"admin-wallet-credits",label:"Manage Wallet Credits"},{key:"email",label:"Message Center"},{key:"wallet",label:"My Wallet"},{key:"subscriptions",label:"My Subscriptions"},{key:"sloane-academy",label:"Sloane Academy"},{key:"support",label:"Support"}];function Ze(){const[P,v]=l.useState([]),[_,I]=l.useState({}),[Pe,W]=l.useState({}),[C,q]=l.useState(!1),[G,ve]=l.useState(""),[H,Me]=l.useState(""),[Q,m]=l.useState(""),[K,p]=l.useState(""),[J,Y]=l.useState([{id:"vendor",name:"Vendor"}]),L=(S.currentUser?.email||sessionStorage.getItem("userEmail")||"").toLowerCase(),[D,Z]=l.useState({}),[ke,ye]=l.useState({}),[Ue,Ee]=l.useState({}),[u,Re]=l.useState({}),[ee,ae]=l.useState({}),[se,te]=l.useState({}),[F,De]=l.useState({}),[U,ie]=l.useState([]),[V,Ve]=l.useState(""),[h,ne]=l.useState(!1),[le,j]=l.useState(""),[M,re]=l.useState(""),[X,je]=l.useState(100),[T,oe]=l.useState(!0),[B,ce]=l.useState(!1),[$,me]=l.useState(!1),ue=l.useRef(!1),pe=l.useMemo(()=>[...P].sort((e,n)=>(e.email||"").localeCompare(n.email||"")),[P]),[z,Xe]=l.useState(""),[w,we]=l.useState("All"),O=l.useMemo(()=>{const e=z.trim().toLowerCase(),n=w==="All"?null:x(w);return pe.filter(i=>{const s=x(i.role);return n&&s!==n?!1:e?`${i.email} ${i.tenantId} ${i.role}`.toLowerCase().includes(e):!0})},[pe,z,w]);function de(e){return(Array.isArray(e)?e:[]).map(i=>({email:(i.email||"").toLowerCase(),tenantId:i.tenantId==="vendor"?"public":i.tenantId||"public",role:x(i.role)}))}async function E(){q(!0),m("");try{const{data:e}=await c.get("/api/users"),n=Array.isArray(e)?e:[],i=n.filter(t=>(t.role||"member").toLowerCase()==="admin");v(i.map(t=>({email:(t.email||"").toLowerCase(),tenantId:!t.tenantId||t.tenantId==="public"?"vendor":t.tenantId,role:t.role||"admin"})));const s=n.map(t=>(t.email||"").toLowerCase()).filter(Boolean);try{const{data:t}=await c.post("/api/users/batch-privileges",{emails:s});t&&typeof t.privileges=="object"&&I(t.privileges)}catch{I(t=>{const o={...t};return s.forEach(r=>{o[r]={}}),o})}try{const t=await c.get("/api/data/vendors").then(d=>d.data||[]),o={},r={},g={};t.forEach(d=>{const y=(d.contactEmail||d.email||"").toLowerCase(),f=d.ownerUid||"",N=String(d.id||""),b=String(d.vendorId||"");y&&(o[y]=d),f&&(r[f]=d),N&&(g[N]=d),b&&(g[b]=d)}),Z(o),ye(r),Ee(g)}catch{}}catch(e){m(e?.response?.data?.message||e?.message||"Failed to load users")}finally{q(!1)}}async function Se(e,n,i){W(s=>({...s,[e]:!0}));try{const t={..._[e]||{},[n]:i};await c.patch(`/api/users/${encodeURIComponent(e)}/privileges`,{featurePrivileges:t}),I(o=>({...o,[e]:t}))}catch{}finally{W(s=>({...s,[e]:!1}))}}l.useEffect(()=>{E()},[]),l.useEffect(()=>{(async()=>{try{if(!L)return;await c.get("/api/users/lookup",{params:{email:L}}),oe(!0)}catch{oe(!1)}})()},[]),l.useEffect(()=>{(async()=>{try{const{data:e}=await c.get("/api/tenants"),n=Array.isArray(e)?e:[],i=[{id:"vendor",name:"Vendor"},...n.map(t=>typeof t=="string"?{id:t,name:t}:{id:t?.id,name:t?.name||t?.id}).map(t=>t.id==="public"?{...t,id:"vendor",name:t.name||"Vendor"}:t)].filter(t=>t&&t.id),s=new Map;i.forEach(t=>s.set(t.id,t)),Y(Array.from(s.values()))}catch{Y([{id:"vendor",name:"Vendor"}])}})()},[]);async function Ie(e){e.preventDefault(),m(""),p("");const n=G.trim(),i=H.trim();if(!n||!i){m("Email and new tenant id are required");return}try{await c.post("/api/users/upgrade",{email:n,newTenantId:i}),p("Upgraded successfully");const s=window?.localStorage&&window.localStorage.getItem("userEmail")||window?.sessionStorage?.getItem("userEmail");s&&s.toLowerCase()===n.toLowerCase()&&(sessionStorage.setItem("tenantId",i),sessionStorage.setItem("role","admin")),await E()}catch(s){m(s?.response?.data?.message||s?.message||"Upgrade failed")}}async function R({email:e,tenantId:n,role:i}){const s=n==="vendor"?"public":n,t=x(i);await c.post("/api/users",{email:e,tenantId:s,role:t}),e.toLowerCase()===L&&(sessionStorage.setItem("tenantId",n),sessionStorage.setItem("role",t))}async function Ce(e){m(""),p("");const i=x(e.role)==="admin"?"member":"admin";try{await R({email:e.email,tenantId:e.tenantId||"vendor",role:i}),v(s=>s.map(t=>t.email===e.email?{...t,role:i}:t)),p(`${e.email} is now ${i}`)}catch(s){m(s?.response?.data?.message||s?.message||"Failed to update role")}}async function Le(e){m(""),p("");const i=x(e.role)==="partner"?"member":"partner";try{await R({email:e.email,tenantId:e.tenantId||"vendor",role:i}),v(s=>s.map(t=>t.email===e.email?{...t,role:i}:t)),p(`${e.email} is now ${i}`)}catch(s){m(s?.response?.data?.message||s?.message||"Failed to update role")}}async function Fe(e,n){m(""),p("");try{await R({email:e.email,tenantId:n,role:e.role||"member"}),v(i=>i.map(s=>s.email===e.email?{...s,tenantId:n}:s)),p(`${e.email} moved to ${n}`)}catch(i){m(i?.response?.data?.message||i?.message||"Failed to change tenant")}}async function Te(e){m(""),p("");const n=(e.email||"").toLowerCase();if(n&&window.confirm(`Delete user ${n}? This removes their account and role mapping but keeps listings.`))try{await c.delete("/api/users",{data:{email:n}}),v(i=>i.filter(s=>(s.email||"").toLowerCase()!==n)),p(`Deleted ${n}`)}catch(i){m(i?.response?.data?.message||i?.message||"Failed to delete user")}}async function Be(e){m(""),p("");try{let n="";try{const{data:t}=await c.get("/api/users/lookup",{params:{email:e.email}});n=t?.uid||""}catch{n=""}const i=(e.email||"").split("@")[0]||"Vendor",s={id:n||void 0,name:i,contactEmail:e.email,ownerUid:n||void 0,status:"pending",kycStatus:"pending",categories:[],tags:[]};await c.post("/api/data/vendors",s),Z(t=>({...t,[e.email]:!0})),p(`Created vendor profile for ${e.email}`)}catch(n){m(n?.response?.data?.message||n?.message||"Failed to create vendor profile")}}async function $e(e,n={}){const i=(e.email||"").toLowerCase();te(s=>({...s,[i]:!0})),m(""),p("");try{let s="";try{const{data:r}=await c.get("/api/users/lookup",{params:{email:i}});s=r?.uid||""}catch{m("Could not find Firebase UID for this email");return}await c.post("/api/users",{email:i,tenantId:e.tenantId||"vendor",role:e.role||"member",uid:s});let t=!1;const o=D[i];if(o){const r=String(o.id||o.vendorId||"");if(r)try{await c.put(`/api/data/vendors/${encodeURIComponent(r)}`,{ownerUid:s}),t=!0}catch{}}else try{const r=await c.get("/api/tenants"),d=(Array.isArray(r.data)?r.data:[]).map(f=>typeof f=="string"?f:f?.id).filter(Boolean),y=Array.from(new Set(["vendor",...d]));for(const f of y)try{const{data:N}=await c.get("/api/data/vendors",{headers:{"x-tenant-id":f}}),b=Array.isArray(N)?N.find(A=>(A.contactEmail||A.email||"").toLowerCase()===i):null;if(b){const A=String(b.id||b.vendorId||"");if(A){await c.put(`/api/data/vendors/${encodeURIComponent(A)}`,{ownerUid:s},{headers:{"x-tenant-id":f}}),t=!0;break}}}catch{}}catch{}if(!t){const r=i.split("@")[0]||"Vendor";try{await c.post("/api/data/vendors",{name:r,contactEmail:i,ownerUid:s,status:"pending",kycStatus:"pending",categories:[]})}catch{}}n.doRefresh!==!1&&await E(),p(`Synced Firebase UID for ${i}`)}catch(s){m(s?.response?.data?.message||s?.message||"Failed to sync UID")}finally{te(s=>({...s,[i]:!1}))}}function ze(e){const n={},i={},s={};return(e||[]).forEach(t=>{const o=(t.contactEmail||t.email||"").toLowerCase(),r=t.ownerUid||"",g=String(t.id||""),d=String(t.vendorId||"");o&&(n[o]=t),r&&(i[r]=t),g&&(s[g]=t),d&&(s[d]=t)}),{byEmail:n,byOwner:i,byId:s}}async function Oe(e){const n=(e.email||"").toLowerCase();ae(i=>({...i,[n]:!0}));try{let i=D[n]||null,s="",t=null,o=null;try{const{data:r}=await c.get("/api/users/lookup",{params:{email:n}});s=r?.uid||""}catch{}if(s&&(t=ke[s]||null,o=Ue[s]||null),!i&&!t&&!o)try{const r=await c.get("/api/tenants"),d=(Array.isArray(r.data)?r.data:[]).map(b=>typeof b=="string"?b:b?.id).filter(Boolean),y=[],f=Array.from(new Set(["vendor",...d]));for(const b of f)try{const{data:A}=await c.get("/api/data/vendors",{headers:{"x-tenant-id":b}});Array.isArray(A)&&y.push(...A.map(Ne=>({...Ne,_tenantId:Ne.tenantId||b})))}catch{}const N=ze(y);i=N.byEmail[n]||null,s&&(t=N.byOwner[s]||t,o=N.byId[s]||o)}catch{}Re(r=>({...r,[n]:{uid:s,viaEmail:i,viaUid:t,viaId:o}}))}finally{ae(i=>({...i,[n]:!1}))}}const k=l.useCallback(async(e=!0)=>{j(""),ne(!0);try{const n={search:V,pageSize:X};!e&&M&&(n.pageToken=M);const{data:i}=await c.get("/api/users/all",{params:n}),s=Array.isArray(i?.items)?i.items:[];ie(t=>e?s:[...t,...s]),re(i?.nextPageToken||"")}catch(n){const i=n?.response?.status;if(i===401||i===403)try{await xe();const s={search:V,pageSize:X};!e&&M&&(s.pageToken=M);const{data:t}=await c.get("/api/users/all",{params:s}),o=Array.isArray(t?.items)?t.items:[];ie(r=>e?o:[...r,...o]),re(t?.nextPageToken||""),j("");return}catch(s){j(s?.response?.data?.message||s?.message||"Failed to search platform users")}else j(n?.response?.data?.message||n?.message||"Failed to search platform users")}finally{ne(!1)}},[V,X,M]),be=l.useRef(!1);l.useEffect(()=>{if(be.current)return;be.current=!0;let e=!0;return(async()=>{try{if(await xe(),!e)return;await k(!0)}catch{}})(),()=>{e=!1}},[k]),l.useEffect(()=>{if(!ue.current&&!h&&Array.isArray(U)&&U.length===0){const e=setTimeout(()=>{ue.current=!0,k(!0)},800);return()=>clearTimeout(e)}},[h,U,k]);async function fe(e,n){const i=F[e]||"vendor",s=x(n);try{await R({email:e,tenantId:i,role:s}),v(t=>t.find(r=>r.email===e)?t.map(r=>r.email===e?{...r,role:s,tenantId:i}:r):[...t,{email:e,role:s,tenantId:i}]),p(`${e} granted ${s} (${i})`)}catch(t){m(t?.response?.data?.message||t?.message||`Failed to grant ${s}`)}}async function _e(e){await fe(e,"admin")}async function We(e){await fe(e,"partner")}function qe(e){const n=(e||"").toLowerCase();return P.some(i=>i.email===n&&Ke(i.role))}function he(e){const n=(e||"").toLowerCase(),i=P.find(s=>s.email===n);return x(i?.role)}async function Ge(e){const i=P.find(s=>s.email===(e||"").toLowerCase())?.tenantId||F[e]||"vendor";try{await R({email:e,tenantId:i,role:"member"}),v(s=>s.map(t=>t.email===e?{...t,role:"member"}:t)),p(`${e} access revoked`)}catch(s){m(s?.response?.data?.message||s?.message||"Failed to revoke admin")}}async function He(){m(""),p(""),ce(!0);try{const e=await c.get("/api/lms/live").then(s=>s.data||{}),n=de(P),i={...e,users:n};await c.put("/api/users/bulk",{users:n}),await c.put("/api/lms/publish",{data:i});try{await ge({action:"USERS_SAVE_ALL",userEmail:S.currentUser?.email||void 0,targetType:"appData",targetId:"users",metadata:{count:n.length}})}catch{}p("All changes saved to appData.json"),await E()}catch(e){m(e?.response?.data?.message||e?.message||"Failed to save changes")}finally{ce(!1)}}async function Qe(){m(""),p(""),me(!0);try{const e=await c.get("/api/lms/live").then(s=>s.data||{}),n=de(P),i={...e,users:n};await c.put("/api/users/bulk",{users:n}),await c.post("/api/lms/checkpoints",{message:"User Roles checkpoint",data:i});try{await ge({action:"USERS_CHECKPOINT",userEmail:S.currentUser?.email||void 0,targetType:"appData",targetId:"users",metadata:{count:n.length}})}catch{}p("Checkpoint saved"),await E()}catch(e){m(e?.response?.data?.message||e?.message||"Failed to save checkpoint")}finally{me(!1)}}return a.jsxDEV(a.Fragment,{children:a.jsxDEV("div",{className:"card h-100 p-0 radius-12 overflow-hidden",children:[a.jsxDEV("div",{className:"card-header border-bottom bg-base py-16 px-24 d-flex align-items-center justify-content-between gap-3 flex-wrap",children:a.jsxDEV("h6",{className:"mb-0",children:"Upgrade Public Tenant to Private Admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:691,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:690,columnNumber:9},this),a.jsxDEV("div",{className:"card-body p-24",children:[a.jsxDEV("form",{onSubmit:Ie,className:"row g-3 align-items-end mb-24",children:[a.jsxDEV("div",{className:"col-sm-5",children:[a.jsxDEV("label",{className:"form-label text-sm",children:"User Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:696,columnNumber:15},this),a.jsxDEV("input",{type:"email",className:"form-control",value:G,onChange:e=>ve(e.target.value),placeholder:"user@example.com",required:!0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:697,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:695,columnNumber:13},this),a.jsxDEV("div",{className:"col-sm-5",children:[a.jsxDEV("label",{className:"form-label text-sm",children:"New Tenant ID (private)"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:707,columnNumber:15},this),a.jsxDEV("input",{type:"text",className:"form-control",value:H,onChange:e=>Me(e.target.value),placeholder:"acme-inc",required:!0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:708,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:706,columnNumber:13},this),a.jsxDEV("div",{className:"col-sm-2",children:a.jsxDEV("button",{type:"submit",className:"btn btn-primary w-100",children:"Upgrade"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:718,columnNumber:15},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:717,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:694,columnNumber:11},this),Q&&a.jsxDEV("div",{className:"alert alert-danger py-8 px-12 mb-16",children:Q},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:723,columnNumber:21},this),K&&a.jsxDEV("div",{className:"alert alert-success py-8 px-12 mb-16",children:K},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:724,columnNumber:18},this),a.jsxDEV("div",{className:"d-flex flex-wrap align-items-end justify-content-between gap-2 mb-3",children:a.jsxDEV("div",{className:"d-flex align-items-end gap-2 flex-wrap",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"form-label text-sm",children:"Search"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:729,columnNumber:17},this),a.jsxDEV("input",{className:"form-control",placeholder:"Filter by email, tenant, role",value:z,onChange:e=>Xe(e.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:730,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:728,columnNumber:15},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"form-label text-sm",children:"Role"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:738,columnNumber:17},this),a.jsxDEV("select",{className:"form-select",value:w,onChange:e=>we(e.target.value),children:[a.jsxDEV("option",{children:"All"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:740,columnNumber:19},this),a.jsxDEV("option",{children:"admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:741,columnNumber:19},this),a.jsxDEV("option",{children:"partner"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:742,columnNumber:19},this),a.jsxDEV("option",{children:"member"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:743,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:739,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:737,columnNumber:15},this),a.jsxDEV("div",{className:"align-self-end mb-1 d-flex gap-2",children:[a.jsxDEV("button",{className:"btn btn-outline-secondary",onClick:Qe,disabled:$||B,title:"Create a checkpoint containing the current user role assignments",children:$?"Saving…":"Save Checkpoint"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:747,columnNumber:17},this),a.jsxDEV("button",{className:"btn btn-primary",onClick:He,disabled:B||$,title:"Publish all user role/tenant mappings to live appData.json",children:B?"Saving…":"Save All Changes"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:755,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:746,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:727,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:726,columnNumber:11},this),a.jsxDEV("div",{className:"table-responsive scroll-sm",children:[a.jsxDEV("table",{className:"table bordered-table sm-table mb-0 align-middle",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{children:"Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:771,columnNumber:19},this),a.jsxDEV("th",{style:{minWidth:160},children:"Tenant"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:772,columnNumber:19},this),a.jsxDEV("th",{children:"Role"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:773,columnNumber:19},this),a.jsxDEV("th",{children:"Vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:774,columnNumber:19},this),a.jsxDEV("th",{style:{minWidth:320},children:"Actions / Trace"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:775,columnNumber:19},this),a.jsxDEV("th",{style:{minWidth:320},children:"Feature Access"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:776,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:770,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:769,columnNumber:15},this),a.jsxDEV("tbody",{children:[C&&a.jsxDEV("tr",{children:a.jsxDEV("td",{colSpan:6,children:"Loading…"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:782,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:781,columnNumber:19},this),!C&&O.length===0&&a.jsxDEV("tr",{children:a.jsxDEV("td",{colSpan:6,children:"No users match your filters."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:787,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:786,columnNumber:19},this),!C&&O.map(e=>{const n=x(e.role),i=n==="admin",s=n==="partner",t=i?"badge bg-success-focus text-success-700":s?"badge bg-primary-subtle text-primary-700":"badge bg-neutral-200 text-neutral-900";return a.jsxDEV("tr",{children:[a.jsxDEV("td",{children:e.email},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:802,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("select",{className:"form-select form-select-sm w-auto bg-base border text-secondary-light rounded-pill",value:e.tenantId||"vendor",onChange:o=>Fe(e,o.target.value),title:"Switch tenant",children:J.map(o=>a.jsxDEV("option",{value:o.id,children:o.name||o.id},o.id,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:811,columnNumber:31},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:804,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:803,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("span",{className:t,children:n},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:818,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:817,columnNumber:25},this),a.jsxDEV("td",{children:[D[e.email]?a.jsxDEV("span",{className:"badge bg-primary-subtle text-primary-700",children:"Has vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:822,columnNumber:29},this):a.jsxDEV("span",{className:"badge bg-neutral-200 text-neutral-900",children:"No vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:824,columnNumber:29},this),u[e.email]&&a.jsxDEV("div",{className:"small text-secondary mt-1",children:u[e.email].uid?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{children:["uid: ",a.jsxDEV("code",{children:u[e.email].uid},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:831,columnNumber:42},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:830,columnNumber:35},this),a.jsxDEV("div",{children:["by email:"," ",u[e.email].viaEmail?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("code",{children:String(u[e.email].viaEmail.contactEmail||u[e.email].viaEmail.email||"")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:837,columnNumber:41},this)," ","(vendorId:"," ",a.jsxDEV("code",{children:String(u[e.email].viaEmail.id||u[e.email].viaEmail.vendorId)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:845,columnNumber:41},this),", tenant:"," ",a.jsxDEV("code",{children:String(u[e.email].viaEmail.tenantId||u[e.email].viaEmail._tenantId||"vendor")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:849,columnNumber:41},this),")"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:836,columnNumber:39},this):"—"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:833,columnNumber:35},this),a.jsxDEV("div",{children:["by ownerUid:"," ",u[e.email].viaUid?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("code",{children:String(u[e.email].viaUid.ownerUid||"")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:866,columnNumber:41},this)," (vendorId:"," ",a.jsxDEV("code",{children:String(u[e.email].viaUid.id||u[e.email].viaUid.vendorId)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:867,columnNumber:41},this),", tenant:"," ",a.jsxDEV("code",{children:String(u[e.email].viaUid.tenantId||u[e.email].viaUid._tenantId||"vendor")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:871,columnNumber:41},this),")"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:865,columnNumber:39},this):"—"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:862,columnNumber:35},this),a.jsxDEV("div",{children:["by id==uid:"," ",u[e.email].viaId?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("code",{children:String(u[e.email].viaId.id||u[e.email].viaId.vendorId)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:888,columnNumber:41},this)," ","(tenant:"," ",a.jsxDEV("code",{children:String(u[e.email].viaId.tenantId||u[e.email].viaId._tenantId||"vendor")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:890,columnNumber:41},this),")"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:887,columnNumber:39},this):"—"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:884,columnNumber:35},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:829,columnNumber:33},this):a.jsxDEV("div",{children:[a.jsxDEV("span",{className:"me-1",children:"uid:"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:906,columnNumber:35},this),a.jsxDEV("span",{className:"text-secondary",children:"—"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:907,columnNumber:35},this),a.jsxDEV("div",{className:"text-secondary small mt-1",children:T?a.jsxDEV(a.Fragment,{children:"UID not linked. Use “Sync UID” to fetch from Firebase."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:910,columnNumber:39},this):a.jsxDEV(a.Fragment,{children:"UID lookup not available on this server."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:912,columnNumber:39},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:908,columnNumber:35},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:905,columnNumber:33},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:827,columnNumber:29},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:820,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("div",{className:"d-flex gap-2",children:[a.jsxDEV("button",{type:"button",className:i?"btn btn-outline-danger btn-sm":"btn btn-outline-success btn-sm",onClick:()=>Ce(e),title:i?"Revoke admin":"Grant admin",children:i?"Revoke Admin":"Make Admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:922,columnNumber:29},this),a.jsxDEV("button",{type:"button",className:s?"btn btn-outline-danger btn-sm":"btn btn-outline-primary btn-sm",onClick:()=>Le(e),title:s?"Revoke partner":"Grant partner",children:s?"Revoke Partner":"Make Partner"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:930,columnNumber:29},this),!D[e.email]&&a.jsxDEV("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>Be(e),title:"Create vendor profile for this user",children:"Create Vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:941,columnNumber:31},this),a.jsxDEV("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>Oe(e),disabled:!!ee[e.email],title:"Trace vendor status via email, UID, or vendor id",children:ee[e.email]?"Tracing…":"Trace"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:950,columnNumber:29},this),a.jsxDEV("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>$e(e),disabled:!!se[e.email]||!T,title:T?"Lookup Firebase UID and link it to this user's vendor":"UID lookup is not available on this server",children:se[e.email]?"Syncing…":"Sync UID"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:959,columnNumber:29},this),a.jsxDEV("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>Te(e),title:"Delete user from Firebase and remove role mapping (keeps listings)",disabled:(S.currentUser?.email||"").toLowerCase()===(e.email||"").toLowerCase(),children:"Delete User"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:973,columnNumber:29},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:921,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:920,columnNumber:25},this)]},e.email,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:801,columnNumber:23},this)})]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:779,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:768,columnNumber:13},this),a.jsxDEV("div",{className:"mt-32",children:[a.jsxDEV("h6",{className:"mb-2",children:"Feature Access Matrix"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:992,columnNumber:11},this),a.jsxDEV("div",{className:"table-responsive scroll-sm",children:a.jsxDEV("table",{className:"table bordered-table sm-table mb-0 align-middle",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{children:"Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:997,columnNumber:19},this),Ae.map(e=>a.jsxDEV("th",{style:{minWidth:120},children:e.label},e.key,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:999,columnNumber:21},this))]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:996,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:995,columnNumber:15},this),a.jsxDEV("tbody",{children:O.map(e=>a.jsxDEV("tr",{children:[a.jsxDEV("td",{children:e.email},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1006,columnNumber:21},this),Ae.map(n=>a.jsxDEV("td",{className:"text-center",children:a.jsxDEV("input",{type:"checkbox",className:"form-check-input",checked:!!_[e.email]?.[n.key],disabled:!!Pe[e.email],onChange:i=>Se(e.email,n.key,i.target.checked)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1009,columnNumber:25},this)},n.key,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1008,columnNumber:23},this))]},e.email,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1005,columnNumber:19},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1003,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:994,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:993,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:991,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:767,columnNumber:11},this),a.jsxDEV("div",{className:"mt-24",children:[a.jsxDEV("h6",{className:"mb-2",children:"Onboard Admins"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1028,columnNumber:13},this),a.jsxDEV("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-2",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"form-label text-sm",children:"Search users"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1031,columnNumber:17},this),a.jsxDEV("input",{className:"form-control",placeholder:"Search by email or name",value:V,onChange:e=>Ve(e.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1032,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1030,columnNumber:15},this),a.jsxDEV("button",{className:"btn btn-outline-secondary",onClick:()=>k(!0),disabled:h,children:h?"Searching…":"Search"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1039,columnNumber:15},this),le&&a.jsxDEV("div",{className:"text-danger small",children:le},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1042,columnNumber:26},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1029,columnNumber:13},this),a.jsxDEV("div",{className:"table-responsive scroll-sm",children:[a.jsxDEV("table",{className:"table bordered-table sm-table mb-0 align-middle",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{children:"Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1048,columnNumber:21},this),a.jsxDEV("th",{children:"Name"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1049,columnNumber:21},this),a.jsxDEV("th",{children:"UID"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1050,columnNumber:21},this),a.jsxDEV("th",{children:"Tenant"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1051,columnNumber:21},this),a.jsxDEV("th",{children:"Action"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1052,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1047,columnNumber:19},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1046,columnNumber:17},this),a.jsxDEV("tbody",{children:[h&&a.jsxDEV("tr",{children:a.jsxDEV("td",{colSpan:5,children:"Loading…"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1058,columnNumber:23},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1057,columnNumber:21},this),!h&&U.length===0&&a.jsxDEV("tr",{children:a.jsxDEV("td",{colSpan:5,children:"No results"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1063,columnNumber:23},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1062,columnNumber:21},this),!h&&U.map(e=>a.jsxDEV("tr",{children:[a.jsxDEV("td",{children:e.email},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1069,columnNumber:25},this),a.jsxDEV("td",{children:e.displayName||"—"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1070,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("code",{children:e.uid},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1072,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1071,columnNumber:25},this),a.jsxDEV("td",{children:(()=>{const n=(e.email||"").toLowerCase(),i=F[n]||"vendor";return a.jsxDEV("select",{className:"form-select form-select-sm w-auto bg-base border text-secondary-light rounded-pill",value:i,onChange:s=>De(t=>({...t,[n]:s.target.value})),children:J.map(s=>a.jsxDEV("option",{value:s.id,children:s.name||s.id},s.id,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1085,columnNumber:35},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1079,columnNumber:31},this)})()},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1074,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("div",{className:"d-flex flex-wrap gap-2",children:[a.jsxDEV("button",{className:"btn btn-sm btn-outline-success",onClick:()=>_e((e.email||"").toLowerCase()),disabled:he(e.email)==="admin",children:"Grant Admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1095,columnNumber:29},this),a.jsxDEV("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>We((e.email||"").toLowerCase()),disabled:he(e.email)==="partner",children:"Grant Partner"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1102,columnNumber:29},this),qe(e.email)&&a.jsxDEV("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Ge((e.email||"").toLowerCase()),children:"Revoke Access"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1110,columnNumber:31},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1094,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1093,columnNumber:25},this)]},e.uid,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1068,columnNumber:23},this))]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1055,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1045,columnNumber:15},this),a.jsxDEV("div",{className:"d-flex align-items-center justify-content-between mt-2",children:[a.jsxDEV("div",{className:"text-secondary small",children:["Showing ",U.length," user(s)"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1124,columnNumber:17},this),a.jsxDEV("div",{className:"d-flex align-items-center gap-2",children:[a.jsxDEV("label",{className:"text-sm",children:"Page size"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1126,columnNumber:19},this),a.jsxDEV("select",{className:"form-select form-select-sm w-auto",value:X,onChange:e=>je(Number(e.target.value)||100),children:[50,100,200,500,1e3].map(e=>a.jsxDEV("option",{value:e,children:e},e,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1133,columnNumber:23},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1127,columnNumber:19},this),a.jsxDEV("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>k(!0),disabled:h,children:"Refresh"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1138,columnNumber:19},this),a.jsxDEV("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>k(!1),disabled:h||!M,children:h?"Loading…":M?"Load more":"End"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1141,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1125,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1123,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1044,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1027,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:693,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:689,columnNumber:7},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:688,columnNumber:5},this)}function na(){return a.jsxDEV(Je,{children:[a.jsxDEV(Ye,{title:"User Role Management"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/UserRoleManagementPage.tsx",lineNumber:8,columnNumber:7},this),a.jsxDEV(Ze,{},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/UserRoleManagementPage.tsx",lineNumber:9,columnNumber:7},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/UserRoleManagementPage.tsx",lineNumber:7,columnNumber:5},this)}export{na as default};
