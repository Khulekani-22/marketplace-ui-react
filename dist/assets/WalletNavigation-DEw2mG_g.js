import{j as e,b as T,u as $}from"./index-CQbdUr3k.js";import{L as g,r as c,u as L}from"./vendor-5dkO6nAt.js";import{I as l}from"./MasterLayout-f2zXCt4T.js";const R=new Intl.NumberFormat("en-ZA"),I=new Intl.DateTimeFormat("en-ZA",{dateStyle:"medium",timeStyle:"short"});function m(a){const i=Number(a)||0;return R.format(Math.round(i))}function y(a){if(!a)return"--";try{return I.format(new Date(a))}catch{return"--"}}function O({wallet:a,loading:i=!1,eligible:s=!0,onRefresh:n,showActions:t=!0,compact:M=!1}){const p=a?.balance??0,h=a?.startingBalance??0,k=Math.max(0,Math.round((h-p)*100)/100),x=a?.lastUpdated?y(a.lastUpdated):"--";return e.jsxDEV("div",{className:`card ${M?"p-16":"p-24"} radius-12 h-100`,children:[e.jsxDEV("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsxDEV("h5",{className:"mb-0",children:[e.jsxDEV(l,{icon:"mdi:wallet-giftcard",className:"text-xl text-primary-600 me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:55,columnNumber:11},this),"Voucher Wallet"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:54,columnNumber:9},this),n&&e.jsxDEV("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:n,disabled:i,title:"Refresh wallet",children:e.jsxDEV(l,{icon:"mdi:refresh",className:i?"spin":""},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:66,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:59,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:53,columnNumber:7},this),i&&e.jsxDEV("div",{className:"text-center py-4",children:[e.jsxDEV("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:e.jsxDEV("span",{className:"visually-hidden",children:"Loading..."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:74,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:73,columnNumber:11},this),e.jsxDEV("p",{className:"text-secondary mt-2 mb-0",children:"Loading wallet balance..."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:76,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:72,columnNumber:9},this),!i&&!s&&e.jsxDEV("div",{className:"alert alert-warning mb-0",children:[e.jsxDEV(l,{icon:"mdi:shield-alert",className:"me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:82,columnNumber:11},this),"Wallet credits unlock once your profile is verified as a startup or vendor. Reach out to programme support if you need activation."]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:81,columnNumber:9},this),!i&&s&&!a&&e.jsxDEV("div",{className:"alert alert-danger mb-0",children:[e.jsxDEV(l,{icon:"mdi:alert-circle",className:"me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:90,columnNumber:11},this),"Could not load wallet details. Try refreshing or contact support."]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:89,columnNumber:9},this),!i&&s&&a&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"bg-primary-50 p-16 radius-12 mb-3",children:e.jsxDEV("div",{className:"row align-items-center",children:[e.jsxDEV("div",{className:"col",children:[e.jsxDEV("span",{className:"text-sm text-secondary-light d-block mb-1",children:"Available Credits"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:100,columnNumber:17},this),e.jsxDEV("h3",{className:"mb-0 text-primary-600",children:["R ",m(p)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:101,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:99,columnNumber:15},this),e.jsxDEV("div",{className:"col-auto",children:e.jsxDEV(l,{icon:"mdi:credit-card-check",className:"text-3xl text-primary-600"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:104,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:103,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:98,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:97,columnNumber:11},this),e.jsxDEV("div",{className:"row g-2 mb-3",children:[e.jsxDEV("div",{className:"col-6",children:e.jsxDEV(j,{icon:"mdi:rocket-launch-outline",label:"Initial Allocation",value:`R ${m(h)}`},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:111,columnNumber:15},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:110,columnNumber:13},this),e.jsxDEV("div",{className:"col-6",children:e.jsxDEV(j,{icon:"mdi:chart-line",label:"Credits Used",value:`R ${m(k)}`},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:118,columnNumber:15},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:117,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:109,columnNumber:11},this),e.jsxDEV("div",{className:"mb-3",children:e.jsxDEV(j,{icon:"mdi:clock-outline",label:"Last Activity",value:x},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:127,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:126,columnNumber:11},this),t&&e.jsxDEV("div",{className:"d-flex gap-2",children:[e.jsxDEV(g,{to:"/wallet",className:"btn btn-primary flex-fill",children:[e.jsxDEV(l,{icon:"mdi:eye",className:"me-1"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:137,columnNumber:17},this),"View Details"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:136,columnNumber:15},this),e.jsxDEV(g,{to:"/market1",className:"btn btn-outline-primary flex-fill",children:[e.jsxDEV(l,{icon:"mdi:shopping",className:"me-1"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:141,columnNumber:17},this),"Browse"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:140,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:135,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:96,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:52,columnNumber:5},this)}function j({icon:a,label:i,value:s}){return e.jsxDEV("div",{className:"d-flex align-items-center p-2 bg-light rounded",children:[e.jsxDEV(l,{icon:a,className:"text-lg text-secondary-light me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:161,columnNumber:7},this),e.jsxDEV("div",{className:"flex-grow-1 min-width-0",children:[e.jsxDEV("div",{className:"text-xs text-secondary-light",children:i},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:163,columnNumber:9},this),e.jsxDEV("div",{className:"text-sm fw-medium text-truncate",children:s},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:164,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:162,columnNumber:7},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:160,columnNumber:5},this)}function Z({transactions:a,compact:i=!1}){return a?.length?e.jsxDEV("div",{className:"table-responsive",children:[e.jsxDEV("table",{className:"table table-hover mb-0",children:[e.jsxDEV("thead",{className:"table-light",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{scope:"col",children:"Date"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:192,columnNumber:13},this),e.jsxDEV("th",{scope:"col",children:"Description"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:193,columnNumber:13},this),!i&&e.jsxDEV("th",{scope:"col",children:"Type"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:194,columnNumber:26},this),e.jsxDEV("th",{scope:"col",className:"text-end",children:"Amount"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:195,columnNumber:13},this),e.jsxDEV("th",{scope:"col",className:"text-end",children:"Balance"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:196,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:191,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:190,columnNumber:9},this),e.jsxDEV("tbody",{children:a.slice(0,i?5:void 0).map(s=>e.jsxDEV("tr",{children:[e.jsxDEV("td",{children:e.jsxDEV("span",{className:"text-sm",children:y(s.createdAt)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:203,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:202,columnNumber:15},this),e.jsxDEV("td",{children:[e.jsxDEV("span",{className:"text-sm",children:s.description},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:208,columnNumber:17},this),s.reference&&e.jsxDEV("div",{className:"text-xs text-secondary-light",children:["Ref: ",s.reference]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:210,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:207,columnNumber:15},this),!i&&e.jsxDEV("td",{children:e.jsxDEV(B,{type:s.type},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:217,columnNumber:19},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:216,columnNumber:17},this),e.jsxDEV("td",{className:"text-end",children:e.jsxDEV("span",{className:`text-sm fw-medium ${s.type==="credit"?"text-success":"text-danger"}`,children:[s.type==="credit"?"+":"-","R ",m(s.amount)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:221,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:220,columnNumber:15},this),e.jsxDEV("td",{className:"text-end",children:e.jsxDEV("span",{className:"text-sm",children:["R ",m(s.balanceAfter)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:228,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:227,columnNumber:15},this)]},s.id,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:201,columnNumber:13},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:199,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:189,columnNumber:7},this),i&&a.length>5&&e.jsxDEV("div",{className:"text-center pt-3",children:e.jsxDEV(g,{to:"/wallet",className:"btn btn-outline-secondary btn-sm",children:["View All Transactions (",a.length,")"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:236,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:235,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:188,columnNumber:5},this):e.jsxDEV("div",{className:"text-center py-4",children:[e.jsxDEV(l,{icon:"mdi:receipt-text-outline",className:"text-4xl text-secondary-light mb-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:179,columnNumber:9},this),e.jsxDEV("p",{className:"text-secondary-light mb-0",children:"No voucher activity yet. Purchases using the marketplace will appear here."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:180,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:178,columnNumber:7},this)}function B({type:a}){const i={credit:{icon:"mdi:plus-circle",class:"bg-success",label:"Credit"},debit:{icon:"mdi:minus-circle",class:"bg-danger",label:"Debit"},adjustment:{icon:"mdi:circle-edit-outline",class:"bg-warning",label:"Adjustment"}},{icon:s,class:n,label:t}=i[a]||{icon:"mdi:help-circle",class:"bg-secondary",label:a};return e.jsxDEV("span",{className:`badge ${n} d-flex align-items-center gap-1`,children:[e.jsxDEV(l,{icon:s,className:"text-xs"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:261,columnNumber:7},this),t]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletComponents.tsx",lineNumber:260,columnNumber:5},this)}function X(a,i){if(a&&typeof a=="object"&&"response"in a){const n=a.response?.data;if(typeof n=="string"&&n.trim())return n.trim();if(n&&typeof n.message=="string"&&n.message.trim())return n.message.trim()}return a instanceof Error&&a.message?a.message:i}function z({grantCredits:a,onRefresh:i,compact:s=!1,showUserLookup:n=!0,selectedUserEmail:t="",onEmailChange:M}){const[p,h]=c.useState(t),[k,x]=c.useState(""),[W,E]=c.useState(""),[D,V]=c.useState(!1),[A,o]=c.useState({type:"",message:""}),[P,b]=c.useState(null),[v,u]=c.useState({loading:!1,error:""}),f=p.trim().toLowerCase();c.useEffect(()=>{t&&t!==p&&(h(t),o({type:"",message:""}),b(null),u({loading:!1,error:""}))},[t,p]);const C=r=>{h(r),M&&M(r)},w=async()=>{if(!f||!n){u({loading:!1,error:"Enter an email to preview a wallet."}),b(null);return}u({loading:!0,error:""});try{const{data:r}=await T.get("/api/wallets/admin/lookup",{params:{email:f},suppressToast:!0,suppressErrorLog:!0}),d=r?.wallet?r.wallet:null;b(d),u({loading:!1,error:d?"":"No wallet exists yet for that user."})}catch(r){b(null),u({loading:!1,error:X(r,"Unable to fetch wallet details.")})}},S=async r=>{if(r.preventDefault(),o({type:"",message:""}),!f){o({type:"danger",message:"Enter the recipient's email address."});return}const d=Number(k.replace(/[^0-9.]/g,""));if(!Number.isFinite(d)||d<=0){o({type:"danger",message:"Enter a valid credit amount."});return}if(!a){o({type:"danger",message:"Grant credits function not available."});return}V(!0);try{const N=await a({email:f,amount:d,description:W?`Admin credit: ${W.trim()}`:"Admin credit",metadata:{source:"admin-grant",note:W.trim()||void 0}});if(!N.ok){o({type:"danger",message:N.error||"Unable to grant credits."});return}x(""),E(""),o({type:"success",message:`Granted ${m(d)} credits. New balance: ${m(N.wallet?.balance||0)} credits.`}),b(N.wallet||null),u({loading:!1,error:""}),i&&await i()}catch(N){o({type:"danger",message:X(N,"Unable to grant credits.")})}finally{V(!1)}},F=()=>{h(""),x(""),E(""),o({type:"",message:""}),b(null),u({loading:!1,error:""})};return e.jsxDEV("div",{className:`card ${s?"p-16":"p-24"} radius-12 d-flex flex-column gap-3`,children:[e.jsxDEV("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxDEV("h5",{className:"mb-0",children:[e.jsxDEV(l,{icon:"mdi:wallet-plus",className:"text-xl text-primary-600 me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:156,columnNumber:11},this),"Grant Credits"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:155,columnNumber:9},this),e.jsxDEV("span",{className:"badge text-bg-light text-secondary-emphasis",children:"Admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:159,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:154,columnNumber:7},this),e.jsxDEV("p",{className:"text-secondary-light mb-0",children:"Send voucher credits to any account. Wallets are created automatically if they do not exist."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:161,columnNumber:7},this),e.jsxDEV("form",{className:`row g-3 ${s?"g-2":"g-3"}`,onSubmit:S,children:[e.jsxDEV("div",{className:s?"col-12":"col-12 col-md-5",children:[e.jsxDEV("label",{className:"form-label text-sm text-secondary-light",children:"User Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:165,columnNumber:11},this),e.jsxDEV("input",{type:"email",className:"form-control",value:p,onChange:r=>C(r.target.value),placeholder:"user@example.com",autoComplete:"off",required:!0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:166,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:164,columnNumber:9},this),e.jsxDEV("div",{className:s?"col-6":"col-12 col-md-3",children:[e.jsxDEV("label",{className:"form-label text-sm text-secondary-light",children:"Credit Amount"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:177,columnNumber:11},this),e.jsxDEV("div",{className:"input-group",children:[e.jsxDEV("span",{className:"input-group-text",children:"R"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:179,columnNumber:13},this),e.jsxDEV("input",{type:"text",className:"form-control",value:k,onChange:r=>x(r.target.value),inputMode:"decimal",placeholder:"e.g. 5000",required:!0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:180,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:178,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:176,columnNumber:9},this),e.jsxDEV("div",{className:s?"col-6":"col-12 col-md-4",children:[e.jsxDEV("label",{className:"form-label text-sm text-secondary-light",children:"Notes (optional)"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:192,columnNumber:11},this),e.jsxDEV("input",{type:"text",className:"form-control",value:W,onChange:r=>E(r.target.value),placeholder:"Reason or reference",maxLength:120},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:193,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:191,columnNumber:9},this),e.jsxDEV("div",{className:"col-12 d-flex flex-wrap gap-2",children:[e.jsxDEV("button",{type:"submit",className:"btn btn-primary btn-sm",disabled:D,children:D?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:206,columnNumber:17},this),"Granting..."]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:205,columnNumber:15},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(l,{icon:"mdi:plus-circle",className:"me-1"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:211,columnNumber:17},this),"Grant Credits"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:210,columnNumber:15},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:203,columnNumber:11},this),n&&e.jsxDEV("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:w,disabled:v.loading||!f,children:v.loading?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:225,columnNumber:19},this),"Loading..."]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:224,columnNumber:17},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(l,{icon:"mdi:magnify",className:"me-1"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:230,columnNumber:19},this),"Preview Wallet"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:229,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:217,columnNumber:13},this),e.jsxDEV("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:F,disabled:D||v.loading,children:[e.jsxDEV(l,{icon:"mdi:refresh",className:"me-1"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:242,columnNumber:13},this),"Clear"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:236,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:202,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:163,columnNumber:7},this),A.message&&e.jsxDEV("div",{className:`alert alert-${A.type||"info"} mb-0`,children:[e.jsxDEV(l,{icon:A.type==="success"?"mdi:check-circle":"mdi:alert-circle",className:"me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:250,columnNumber:11},this),A.message]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:249,columnNumber:9},this),v.error&&!A.message&&e.jsxDEV("div",{className:"alert alert-warning mb-0",children:[e.jsxDEV(l,{icon:"mdi:information",className:"me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:257,columnNumber:11},this),v.error]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:256,columnNumber:9},this),P&&n&&e.jsxDEV("div",{className:"border border-dashed rounded-3 p-16 bg-neutral-50",children:[e.jsxDEV("h6",{className:"mb-2",children:[e.jsxDEV(l,{icon:"mdi:account-cash",className:"me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:265,columnNumber:13},this),"Wallet Preview"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:264,columnNumber:11},this),e.jsxDEV("div",{className:"d-flex flex-wrap gap-3 text-sm",children:[e.jsxDEV("span",{children:[e.jsxDEV("strong",{children:"Email:"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:270,columnNumber:15},this)," ",P.email||f]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:269,columnNumber:13},this),e.jsxDEV("span",{children:[e.jsxDEV("strong",{children:"Tenant:"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:273,columnNumber:15},this)," ",P.tenantId]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:272,columnNumber:13},this),e.jsxDEV("span",{children:[e.jsxDEV("strong",{children:"Balance:"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:276,columnNumber:15},this)," R ",m(P.balance)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:275,columnNumber:13},this),e.jsxDEV("span",{children:[e.jsxDEV("strong",{children:"Transactions:"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:279,columnNumber:15},this)," ",P.transactions?.length||0]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:278,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:268,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:263,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/AdminWalletManager.tsx",lineNumber:153,columnNumber:5},this)}function H({compact:a=!1}){const i=L(),{isAdmin:s}=$(),n=[{path:"/dashboard",label:"Dashboard",icon:"mdi:view-dashboard",description:"Overview and quick actions"},{path:"/wallet",label:"Unified Wallet",icon:"mdi:wallet",description:"Complete wallet management with transaction tracking"}];return s&&n.push({path:"/admin/wallet-credits",label:"Legacy Admin",icon:"mdi:wallet-plus-outline",description:"Original admin credits interface"}),a?e.jsxDEV("div",{className:"btn-group",role:"group",children:n.map(t=>e.jsxDEV(g,{to:t.path,className:`btn btn-sm ${i.pathname===t.path?"btn-primary":"btn-outline-primary"}`,title:t.description,children:[e.jsxDEV(l,{icon:t.icon,className:"me-1"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletNavigation.tsx",lineNumber:52,columnNumber:13},this),t.label]},t.path,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletNavigation.tsx",lineNumber:42,columnNumber:11},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletNavigation.tsx",lineNumber:40,columnNumber:7},this):e.jsxDEV("div",{className:"card p-16 radius-12 mb-4",children:[e.jsxDEV("h6",{className:"mb-3",children:[e.jsxDEV(l,{icon:"mdi:navigation",className:"me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletNavigation.tsx",lineNumber:63,columnNumber:9},this),"Wallet Management Center"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletNavigation.tsx",lineNumber:62,columnNumber:7},this),e.jsxDEV("div",{className:"alert alert-info py-2 px-3 mb-3",children:[e.jsxDEV(l,{icon:"mdi:information",className:"me-2"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletNavigation.tsx",lineNumber:67,columnNumber:9},this),e.jsxDEV("strong",{children:"Enhanced Integration:"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletNavigation.tsx",lineNumber:68,columnNumber:9},this)," This unified wallet interface now includes complete admin functionality for tracking all platform user transactions."]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletNavigation.tsx",lineNumber:66,columnNumber:7},this),e.jsxDEV("div",{className:"d-flex flex-wrap gap-2",children:n.map(t=>e.jsxDEV(g,{to:t.path,className:`btn btn-sm ${i.pathname===t.path?"btn-primary":"btn-outline-primary"}`,children:[e.jsxDEV(l,{icon:t.icon,className:"me-1"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletNavigation.tsx",lineNumber:81,columnNumber:13},this),e.jsxDEV("span",{children:t.label},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletNavigation.tsx",lineNumber:82,columnNumber:13},this),!a&&e.jsxDEV("div",{className:"text-xs mt-1 opacity-75",children:t.description},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletNavigation.tsx",lineNumber:84,columnNumber:15},this)]},t.path,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletNavigation.tsx",lineNumber:72,columnNumber:11},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletNavigation.tsx",lineNumber:70,columnNumber:7},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/shared/WalletNavigation.tsx",lineNumber:61,columnNumber:5},this)}export{z as A,Z as T,H as W,O as a,m as f};
