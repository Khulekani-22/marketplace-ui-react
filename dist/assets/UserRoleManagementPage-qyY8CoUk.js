import{c as I,n as A,a as o,b as xe,j as a,k as Ke,w as ge,M as Je}from"./index-B3y4czxt.js";import{B as Ye}from"./Breadcrumb-5E_SEbdP.js";import{r}from"./vendor-C0neu5ZX.js";import"./firebase-DMviGkW7.js";import"./utils-B2rxisVD.js";const Ae=[{key:"dashboard",label:"Access To Market"},{key:"market1",label:"Full Marketplace"},{key:"access-capital",label:"Access to Capital"},{key:"listings-vendors",label:"Add Listings"},{key:"listings-vendors-mine",label:"My Listings"},{key:"profile-vendor",label:"Vendor Profile"},{key:"vendor-home",label:"Vendor Home"},{key:"profile-startup",label:"Startup Profile"},{key:"profile-vendor-admin",label:"Vendor Approval"},{key:"audit-logs",label:"Audit Logs"},{key:"listings-admin",label:"Listings Approval"},{key:"admin-users",label:"User Roles"},{key:"sloane-academy-admin",label:"Academy Admin"},{key:"admin-dashboard",label:"Admin Dashboard"},{key:"admin-wallet-credits",label:"Manage Wallet Credits"},{key:"email",label:"Message Center"},{key:"wallet",label:"My Wallet"},{key:"subscriptions",label:"My Subscriptions"},{key:"sloane-academy",label:"Sloane Academy"},{key:"support",label:"Support"}];function Ze(){const[v,M]=r.useState([]),[W,C]=r.useState({}),[Pe,q]=r.useState({}),[L,G]=r.useState(!1),[H,ve]=r.useState(""),[Q,Me]=r.useState(""),[K,m]=r.useState(""),[J,p]=r.useState(""),[Y,Z]=r.useState([{id:"vendor",name:"Vendor"}]),F=(I.currentUser?.email||sessionStorage.getItem("userEmail")||"").toLowerCase(),[V,ee]=r.useState({}),[ke,ye]=r.useState({}),[Ue,Ee]=r.useState({}),[u,Re]=r.useState({}),[ae,se]=r.useState({}),[te,ie]=r.useState({}),[T,De]=r.useState({}),[U,ne]=r.useState([]),[j,Ve]=r.useState(""),[x,le]=r.useState(!1),[re,X]=r.useState(""),[k,oe]=r.useState(""),[w,je]=r.useState(100),[B,ce]=r.useState(!0),[$,me]=r.useState(!1),[z,ue]=r.useState(!1),pe=r.useRef(!1),de=r.useMemo(()=>[...v].sort((e,i)=>(e.email||"").localeCompare(i.email||"")),[v]),[O,Xe]=r.useState(""),[S,we]=r.useState("All"),_=r.useMemo(()=>{const e=O.trim().toLowerCase(),i=S==="All"?null:A(S);return de.filter(t=>{const s=A(t.role);return i&&s!==i?!1:e?`${t.email} ${t.tenantId} ${t.role}`.toLowerCase().includes(e):!0})},[de,O,S]);function be(e){return(Array.isArray(e)?e:[]).map(t=>({email:(t.email||"").toLowerCase(),tenantId:t.tenantId==="vendor"?"public":t.tenantId||"public",role:A(t.role)}))}async function E(){G(!0),m("");try{const{data:e}=await o.get("/api/users"),i=Array.isArray(e)?e:[],t=await o.get("/api/users/all-contacts"),n=(Array.isArray(t.data?.items)?t.data.items:[]).filter(l=>{const f=(l.role||"").toLowerCase();return l.type==="startup"||l.type==="vendor"||f==="admin"});M(n.map(l=>({email:(l.email||"").toLowerCase(),tenantId:!l.tenantId||l.tenantId==="public"?"vendor":l.tenantId,role:l.role||(l.type==="startup"?"startup":l.type==="vendor"?"vendor":"admin")})));const c=i.map(l=>(l.email||"").toLowerCase()).filter(Boolean);try{const{data:l}=await o.post("/api/users/batch-privileges",{emails:c});l&&typeof l.privileges=="object"&&C(l.privileges)}catch{C(l=>{const f={...l};return c.forEach(h=>{f[h]={}}),f})}try{const l=await o.get("/api/data/vendors").then(d=>d.data||[]),f={},h={},P={};l.forEach(d=>{const g=(d.contactEmail||d.email||"").toLowerCase(),b=d.ownerUid||"",N=String(d.id||""),D=String(d.vendorId||"");g&&(f[g]=d),b&&(h[b]=d),N&&(P[N]=d),D&&(P[D]=d)}),ee(f),ye(h),Ee(P)}catch{}}catch(e){m(e?.response?.data?.message||e?.message||"Failed to load users")}finally{G(!1)}}async function Se(e,i,t){q(s=>({...s,[e]:!0}));try{const n={...W[e]||{},[i]:t};await o.patch(`/api/users/${encodeURIComponent(e)}/privileges`,{featurePrivileges:n}),C(c=>({...c,[e]:n}))}catch{}finally{q(s=>({...s,[e]:!1}))}}r.useEffect(()=>{E()},[]),r.useEffect(()=>{(async()=>{try{if(!F)return;await o.get("/api/users/lookup",{params:{email:F}}),ce(!0)}catch{ce(!1)}})()},[]),r.useEffect(()=>{(async()=>{try{const{data:e}=await o.get("/api/tenants"),i=Array.isArray(e)?e:[],t=[{id:"vendor",name:"Vendor"},...i.map(n=>typeof n=="string"?{id:n,name:n}:{id:n?.id,name:n?.name||n?.id}).map(n=>n.id==="public"?{...n,id:"vendor",name:n.name||"Vendor"}:n)].filter(n=>n&&n.id),s=new Map;t.forEach(n=>s.set(n.id,n)),Z(Array.from(s.values()))}catch{Z([{id:"vendor",name:"Vendor"}])}})()},[]);async function Ie(e){e.preventDefault(),m(""),p("");const i=H.trim(),t=Q.trim();if(!i||!t){m("Email and new tenant id are required");return}try{await o.post("/api/users/upgrade",{email:i,newTenantId:t}),p("Upgraded successfully");const s=window?.localStorage&&window.localStorage.getItem("userEmail")||window?.sessionStorage?.getItem("userEmail");s&&s.toLowerCase()===i.toLowerCase()&&(sessionStorage.setItem("tenantId",t),sessionStorage.setItem("role","admin")),await E()}catch(s){m(s?.response?.data?.message||s?.message||"Upgrade failed")}}async function R({email:e,tenantId:i,role:t}){const s=i==="vendor"?"public":i,n=A(t);await o.post("/api/users",{email:e,tenantId:s,role:n}),e.toLowerCase()===F&&(sessionStorage.setItem("tenantId",i),sessionStorage.setItem("role",n))}async function Ce(e){m(""),p("");const t=A(e.role)==="admin"?"member":"admin";try{await R({email:e.email,tenantId:e.tenantId||"vendor",role:t}),M(s=>s.map(n=>n.email===e.email?{...n,role:t}:n)),p(`${e.email} is now ${t}`)}catch(s){m(s?.response?.data?.message||s?.message||"Failed to update role")}}async function Le(e){m(""),p("");const t=A(e.role)==="partner"?"member":"partner";try{await R({email:e.email,tenantId:e.tenantId||"vendor",role:t}),M(s=>s.map(n=>n.email===e.email?{...n,role:t}:n)),p(`${e.email} is now ${t}`)}catch(s){m(s?.response?.data?.message||s?.message||"Failed to update role")}}async function Fe(e,i){m(""),p("");try{await R({email:e.email,tenantId:i,role:e.role||"member"}),M(t=>t.map(s=>s.email===e.email?{...s,tenantId:i}:s)),p(`${e.email} moved to ${i}`)}catch(t){m(t?.response?.data?.message||t?.message||"Failed to change tenant")}}async function Te(e){m(""),p("");const i=(e.email||"").toLowerCase();if(i&&window.confirm(`Delete user ${i}? This removes their account and role mapping but keeps listings.`))try{await o.delete("/api/users",{data:{email:i}}),M(t=>t.filter(s=>(s.email||"").toLowerCase()!==i)),p(`Deleted ${i}`)}catch(t){m(t?.response?.data?.message||t?.message||"Failed to delete user")}}async function Be(e){m(""),p("");try{let i="";try{const{data:n}=await o.get("/api/users/lookup",{params:{email:e.email}});i=n?.uid||""}catch{i=""}const t=(e.email||"").split("@")[0]||"Vendor",s={id:i||void 0,name:t,contactEmail:e.email,ownerUid:i||void 0,status:"pending",kycStatus:"pending",categories:[],tags:[]};await o.post("/api/data/vendors",s),ee(n=>({...n,[e.email]:!0})),p(`Created vendor profile for ${e.email}`)}catch(i){m(i?.response?.data?.message||i?.message||"Failed to create vendor profile")}}async function $e(e,i={}){const t=(e.email||"").toLowerCase();ie(s=>({...s,[t]:!0})),m(""),p("");try{let s="";try{const{data:l}=await o.get("/api/users/lookup",{params:{email:t}});s=l?.uid||""}catch{m("Could not find Firebase UID for this email");return}await o.post("/api/users",{email:t,tenantId:e.tenantId||"vendor",role:e.role||"member",uid:s});let n=!1;const c=V[t];if(c){const l=String(c.id||c.vendorId||"");if(l)try{await o.put(`/api/data/vendors/${encodeURIComponent(l)}`,{ownerUid:s}),n=!0}catch{}}else try{const l=await o.get("/api/tenants"),h=(Array.isArray(l.data)?l.data:[]).map(d=>typeof d=="string"?d:d?.id).filter(Boolean),P=Array.from(new Set(["vendor",...h]));for(const d of P)try{const{data:g}=await o.get("/api/data/vendors",{headers:{"x-tenant-id":d}}),b=Array.isArray(g)?g.find(N=>(N.contactEmail||N.email||"").toLowerCase()===t):null;if(b){const N=String(b.id||b.vendorId||"");if(N){await o.put(`/api/data/vendors/${encodeURIComponent(N)}`,{ownerUid:s},{headers:{"x-tenant-id":d}}),n=!0;break}}}catch{}}catch{}if(!n){const l=t.split("@")[0]||"Vendor";try{await o.post("/api/data/vendors",{name:l,contactEmail:t,ownerUid:s,status:"pending",kycStatus:"pending",categories:[]})}catch{}}i.doRefresh!==!1&&await E(),p(`Synced Firebase UID for ${t}`)}catch(s){m(s?.response?.data?.message||s?.message||"Failed to sync UID")}finally{ie(s=>({...s,[t]:!1}))}}function ze(e){const i={},t={},s={};return(e||[]).forEach(n=>{const c=(n.contactEmail||n.email||"").toLowerCase(),l=n.ownerUid||"",f=String(n.id||""),h=String(n.vendorId||"");c&&(i[c]=n),l&&(t[l]=n),f&&(s[f]=n),h&&(s[h]=n)}),{byEmail:i,byOwner:t,byId:s}}async function Oe(e){const i=(e.email||"").toLowerCase();se(t=>({...t,[i]:!0}));try{let t=V[i]||null,s="",n=null,c=null;try{const{data:l}=await o.get("/api/users/lookup",{params:{email:i}});s=l?.uid||""}catch{}if(s&&(n=ke[s]||null,c=Ue[s]||null),!t&&!n&&!c)try{const l=await o.get("/api/tenants"),h=(Array.isArray(l.data)?l.data:[]).map(b=>typeof b=="string"?b:b?.id).filter(Boolean),P=[],d=Array.from(new Set(["vendor",...h]));for(const b of d)try{const{data:N}=await o.get("/api/data/vendors",{headers:{"x-tenant-id":b}});Array.isArray(N)&&P.push(...N.map(D=>({...D,_tenantId:D.tenantId||b})))}catch{}const g=ze(P);t=g.byEmail[i]||null,s&&(n=g.byOwner[s]||n,c=g.byId[s]||c)}catch{}Re(l=>({...l,[i]:{uid:s,viaEmail:t,viaUid:n,viaId:c}}))}finally{se(t=>({...t,[i]:!1}))}}const y=r.useCallback(async(e=!0)=>{X(""),le(!0);try{const i={search:j,pageSize:w};!e&&k&&(i.pageToken=k);const{data:t}=await o.get("/api/users/all",{params:i}),s=Array.isArray(t?.items)?t.items:[];ne(n=>e?s:[...n,...s]),oe(t?.nextPageToken||"")}catch(i){const t=i?.response?.status;if(t===401||t===403)try{await xe();const s={search:j,pageSize:w};!e&&k&&(s.pageToken=k);const{data:n}=await o.get("/api/users/all",{params:s}),c=Array.isArray(n?.items)?n.items:[];ne(l=>e?c:[...l,...c]),oe(n?.nextPageToken||""),X("");return}catch(s){X(s?.response?.data?.message||s?.message||"Failed to search platform users")}else X(i?.response?.data?.message||i?.message||"Failed to search platform users")}finally{le(!1)}},[j,w,k]),fe=r.useRef(!1);r.useEffect(()=>{if(fe.current)return;fe.current=!0;let e=!0;return(async()=>{try{if(await xe(),!e)return;await y(!0)}catch{}})(),()=>{e=!1}},[y]),r.useEffect(()=>{if(!pe.current&&!x&&Array.isArray(U)&&U.length===0){const e=setTimeout(()=>{pe.current=!0,y(!0)},800);return()=>clearTimeout(e)}},[x,U,y]);async function he(e,i){const t=T[e]||"vendor",s=A(i);try{await R({email:e,tenantId:t,role:s}),M(n=>n.find(l=>l.email===e)?n.map(l=>l.email===e?{...l,role:s,tenantId:t}:l):[...n,{email:e,role:s,tenantId:t}]),p(`${e} granted ${s} (${t})`)}catch(n){m(n?.response?.data?.message||n?.message||`Failed to grant ${s}`)}}async function _e(e){await he(e,"admin")}async function We(e){await he(e,"partner")}function qe(e){const i=(e||"").toLowerCase();return v.some(t=>t.email===i&&Ke(t.role))}function Ne(e){const i=(e||"").toLowerCase(),t=v.find(s=>s.email===i);return A(t?.role)}async function Ge(e){const t=v.find(s=>s.email===(e||"").toLowerCase())?.tenantId||T[e]||"vendor";try{await R({email:e,tenantId:t,role:"member"}),M(s=>s.map(n=>n.email===e?{...n,role:"member"}:n)),p(`${e} access revoked`)}catch(s){m(s?.response?.data?.message||s?.message||"Failed to revoke admin")}}async function He(){m(""),p(""),me(!0);try{const e=await o.get("/api/lms/live").then(s=>s.data||{}),i=be(v),t={...e,users:i};await o.put("/api/users/bulk",{users:i}),await o.put("/api/lms/publish",{data:t});try{await ge({action:"USERS_SAVE_ALL",userEmail:I.currentUser?.email||void 0,targetType:"appData",targetId:"users",metadata:{count:i.length}})}catch{}p("All changes saved to appData.json"),await E()}catch(e){m(e?.response?.data?.message||e?.message||"Failed to save changes")}finally{me(!1)}}async function Qe(){m(""),p(""),ue(!0);try{const e=await o.get("/api/lms/live").then(s=>s.data||{}),i=be(v),t={...e,users:i};await o.put("/api/users/bulk",{users:i}),await o.post("/api/lms/checkpoints",{message:"User Roles checkpoint",data:t});try{await ge({action:"USERS_CHECKPOINT",userEmail:I.currentUser?.email||void 0,targetType:"appData",targetId:"users",metadata:{count:i.length}})}catch{}p("Checkpoint saved"),await E()}catch(e){m(e?.response?.data?.message||e?.message||"Failed to save checkpoint")}finally{ue(!1)}}return a.jsxDEV(a.Fragment,{children:a.jsxDEV("div",{className:"card h-100 p-0 radius-12 overflow-hidden",children:[a.jsxDEV("div",{className:"card-header border-bottom bg-base py-16 px-24 d-flex align-items-center justify-content-between gap-3 flex-wrap",children:a.jsxDEV("h6",{className:"mb-0",children:"Upgrade Public Tenant to Private Admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:703,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:702,columnNumber:9},this),a.jsxDEV("div",{className:"card-body p-24",children:[a.jsxDEV("form",{onSubmit:Ie,className:"row g-3 align-items-end mb-24",children:[a.jsxDEV("div",{className:"col-sm-5",children:[a.jsxDEV("label",{className:"form-label text-sm",children:"User Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:708,columnNumber:15},this),a.jsxDEV("input",{type:"email",className:"form-control",value:H,onChange:e=>ve(e.target.value),placeholder:"user@example.com",required:!0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:709,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:707,columnNumber:13},this),a.jsxDEV("div",{className:"col-sm-5",children:[a.jsxDEV("label",{className:"form-label text-sm",children:"New Tenant ID (private)"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:719,columnNumber:15},this),a.jsxDEV("input",{type:"text",className:"form-control",value:Q,onChange:e=>Me(e.target.value),placeholder:"acme-inc",required:!0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:720,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:718,columnNumber:13},this),a.jsxDEV("div",{className:"col-sm-2",children:a.jsxDEV("button",{type:"submit",className:"btn btn-primary w-100",children:"Upgrade"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:730,columnNumber:15},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:729,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:706,columnNumber:11},this),K&&a.jsxDEV("div",{className:"alert alert-danger py-8 px-12 mb-16",children:K},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:735,columnNumber:21},this),J&&a.jsxDEV("div",{className:"alert alert-success py-8 px-12 mb-16",children:J},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:736,columnNumber:18},this),a.jsxDEV("div",{className:"d-flex flex-wrap align-items-end justify-content-between gap-2 mb-3",children:a.jsxDEV("div",{className:"d-flex align-items-end gap-2 flex-wrap",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"form-label text-sm",children:"Search"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:741,columnNumber:17},this),a.jsxDEV("input",{className:"form-control",placeholder:"Filter by email, tenant, role",value:O,onChange:e=>Xe(e.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:742,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:740,columnNumber:15},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"form-label text-sm",children:"Role"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:750,columnNumber:17},this),a.jsxDEV("select",{className:"form-select",value:S,onChange:e=>we(e.target.value),children:[a.jsxDEV("option",{children:"All"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:752,columnNumber:19},this),a.jsxDEV("option",{children:"admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:753,columnNumber:19},this),a.jsxDEV("option",{children:"partner"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:754,columnNumber:19},this),a.jsxDEV("option",{children:"member"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:755,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:751,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:749,columnNumber:15},this),a.jsxDEV("div",{className:"align-self-end mb-1 d-flex gap-2",children:[a.jsxDEV("button",{className:"btn btn-outline-secondary",onClick:Qe,disabled:z||$,title:"Create a checkpoint containing the current user role assignments",children:z?"Saving…":"Save Checkpoint"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:759,columnNumber:17},this),a.jsxDEV("button",{className:"btn btn-primary",onClick:He,disabled:$||z,title:"Publish all user role/tenant mappings to live appData.json",children:$?"Saving…":"Save All Changes"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:767,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:758,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:739,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:738,columnNumber:11},this),a.jsxDEV("div",{className:"table-responsive scroll-sm",children:[a.jsxDEV("table",{className:"table bordered-table sm-table mb-0 align-middle",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{children:"Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:783,columnNumber:19},this),a.jsxDEV("th",{style:{minWidth:160},children:"Tenant"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:784,columnNumber:19},this),a.jsxDEV("th",{children:"Role"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:785,columnNumber:19},this),a.jsxDEV("th",{children:"Vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:786,columnNumber:19},this),a.jsxDEV("th",{style:{minWidth:320},children:"Actions / Trace"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:787,columnNumber:19},this),a.jsxDEV("th",{style:{minWidth:320},children:"Feature Access"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:788,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:782,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:781,columnNumber:15},this),a.jsxDEV("tbody",{children:[L&&a.jsxDEV("tr",{children:a.jsxDEV("td",{colSpan:6,children:"Loading…"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:794,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:793,columnNumber:19},this),!L&&_.length===0&&a.jsxDEV("tr",{children:a.jsxDEV("td",{colSpan:6,children:"No users match your filters."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:799,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:798,columnNumber:19},this),!L&&_.map(e=>{const i=A(e.role),t=i==="admin",s=i==="partner",n=t?"badge bg-success-focus text-success-700":s?"badge bg-primary-subtle text-primary-700":"badge bg-neutral-200 text-neutral-900";return a.jsxDEV("tr",{children:[a.jsxDEV("td",{children:e.email},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:814,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("select",{className:"form-select form-select-sm w-auto bg-base border text-secondary-light rounded-pill",value:e.tenantId||"vendor",onChange:c=>Fe(e,c.target.value),title:"Switch tenant",children:Y.map(c=>a.jsxDEV("option",{value:c.id,children:c.name||c.id},c.id,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:823,columnNumber:31},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:816,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:815,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("span",{className:n,children:i},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:830,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:829,columnNumber:25},this),a.jsxDEV("td",{children:[V[e.email]?a.jsxDEV("span",{className:"badge bg-primary-subtle text-primary-700",children:"Has vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:834,columnNumber:29},this):a.jsxDEV("span",{className:"badge bg-neutral-200 text-neutral-900",children:"No vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:836,columnNumber:29},this),u[e.email]&&a.jsxDEV("div",{className:"small text-secondary mt-1",children:u[e.email].uid?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{children:["uid: ",a.jsxDEV("code",{children:u[e.email].uid},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:843,columnNumber:42},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:842,columnNumber:35},this),a.jsxDEV("div",{children:["by email:"," ",u[e.email].viaEmail?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("code",{children:String(u[e.email].viaEmail.contactEmail||u[e.email].viaEmail.email||"")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:849,columnNumber:41},this)," ","(vendorId:"," ",a.jsxDEV("code",{children:String(u[e.email].viaEmail.id||u[e.email].viaEmail.vendorId)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:857,columnNumber:41},this),", tenant:"," ",a.jsxDEV("code",{children:String(u[e.email].viaEmail.tenantId||u[e.email].viaEmail._tenantId||"vendor")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:861,columnNumber:41},this),")"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:848,columnNumber:39},this):"—"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:845,columnNumber:35},this),a.jsxDEV("div",{children:["by ownerUid:"," ",u[e.email].viaUid?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("code",{children:String(u[e.email].viaUid.ownerUid||"")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:878,columnNumber:41},this)," (vendorId:"," ",a.jsxDEV("code",{children:String(u[e.email].viaUid.id||u[e.email].viaUid.vendorId)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:879,columnNumber:41},this),", tenant:"," ",a.jsxDEV("code",{children:String(u[e.email].viaUid.tenantId||u[e.email].viaUid._tenantId||"vendor")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:883,columnNumber:41},this),")"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:877,columnNumber:39},this):"—"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:874,columnNumber:35},this),a.jsxDEV("div",{children:["by id==uid:"," ",u[e.email].viaId?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("code",{children:String(u[e.email].viaId.id||u[e.email].viaId.vendorId)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:900,columnNumber:41},this)," ","(tenant:"," ",a.jsxDEV("code",{children:String(u[e.email].viaId.tenantId||u[e.email].viaId._tenantId||"vendor")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:902,columnNumber:41},this),")"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:899,columnNumber:39},this):"—"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:896,columnNumber:35},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:841,columnNumber:33},this):a.jsxDEV("div",{children:[a.jsxDEV("span",{className:"me-1",children:"uid:"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:918,columnNumber:35},this),a.jsxDEV("span",{className:"text-secondary",children:"—"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:919,columnNumber:35},this),a.jsxDEV("div",{className:"text-secondary small mt-1",children:B?a.jsxDEV(a.Fragment,{children:"UID not linked. Use “Sync UID” to fetch from Firebase."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:922,columnNumber:39},this):a.jsxDEV(a.Fragment,{children:"UID lookup not available on this server."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:924,columnNumber:39},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:920,columnNumber:35},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:917,columnNumber:33},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:839,columnNumber:29},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:832,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("div",{className:"d-flex gap-2",children:[a.jsxDEV("button",{type:"button",className:t?"btn btn-outline-danger btn-sm":"btn btn-outline-success btn-sm",onClick:()=>Ce(e),title:t?"Revoke admin":"Grant admin",children:t?"Revoke Admin":"Make Admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:934,columnNumber:29},this),a.jsxDEV("button",{type:"button",className:s?"btn btn-outline-danger btn-sm":"btn btn-outline-primary btn-sm",onClick:()=>Le(e),title:s?"Revoke partner":"Grant partner",children:s?"Revoke Partner":"Make Partner"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:942,columnNumber:29},this),!V[e.email]&&a.jsxDEV("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>Be(e),title:"Create vendor profile for this user",children:"Create Vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:953,columnNumber:31},this),a.jsxDEV("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>Oe(e),disabled:!!ae[e.email],title:"Trace vendor status via email, UID, or vendor id",children:ae[e.email]?"Tracing…":"Trace"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:962,columnNumber:29},this),a.jsxDEV("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>$e(e),disabled:!!te[e.email]||!B,title:B?"Lookup Firebase UID and link it to this user's vendor":"UID lookup is not available on this server",children:te[e.email]?"Syncing…":"Sync UID"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:971,columnNumber:29},this),a.jsxDEV("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>Te(e),title:"Delete user from Firebase and remove role mapping (keeps listings)",disabled:(I.currentUser?.email||"").toLowerCase()===(e.email||"").toLowerCase(),children:"Delete User"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:985,columnNumber:29},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:933,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:932,columnNumber:25},this)]},e.email,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:813,columnNumber:23},this)})]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:791,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:780,columnNumber:13},this),a.jsxDEV("div",{className:"mt-32",children:[a.jsxDEV("h6",{className:"mb-2",children:"Feature Access Matrix"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1004,columnNumber:11},this),a.jsxDEV("div",{className:"table-responsive scroll-sm",children:a.jsxDEV("table",{className:"table bordered-table sm-table mb-0 align-middle",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{children:"Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1009,columnNumber:19},this),Ae.map(e=>a.jsxDEV("th",{style:{minWidth:120},children:e.label},e.key,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1011,columnNumber:21},this))]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1008,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1007,columnNumber:15},this),a.jsxDEV("tbody",{children:_.map(e=>a.jsxDEV("tr",{children:[a.jsxDEV("td",{children:e.email},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1018,columnNumber:21},this),Ae.map(i=>a.jsxDEV("td",{className:"text-center",children:a.jsxDEV("input",{type:"checkbox",className:"form-check-input",checked:!!W[e.email]?.[i.key],disabled:!!Pe[e.email],onChange:t=>Se(e.email,i.key,t.target.checked)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1021,columnNumber:25},this)},i.key,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1020,columnNumber:23},this))]},e.email,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1017,columnNumber:19},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1015,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1006,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1005,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1003,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:779,columnNumber:11},this),a.jsxDEV("div",{className:"mt-24",children:[a.jsxDEV("h6",{className:"mb-2",children:"Onboard Admins"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1040,columnNumber:13},this),a.jsxDEV("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-2",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"form-label text-sm",children:"Search users"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1043,columnNumber:17},this),a.jsxDEV("input",{className:"form-control",placeholder:"Search by email or name",value:j,onChange:e=>Ve(e.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1044,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1042,columnNumber:15},this),a.jsxDEV("button",{className:"btn btn-outline-secondary",onClick:()=>y(!0),disabled:x,children:x?"Searching…":"Search"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1051,columnNumber:15},this),re&&a.jsxDEV("div",{className:"text-danger small",children:re},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1054,columnNumber:26},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1041,columnNumber:13},this),a.jsxDEV("div",{className:"table-responsive scroll-sm",children:[a.jsxDEV("table",{className:"table bordered-table sm-table mb-0 align-middle",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{children:"Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1060,columnNumber:21},this),a.jsxDEV("th",{children:"Name"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1061,columnNumber:21},this),a.jsxDEV("th",{children:"UID"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1062,columnNumber:21},this),a.jsxDEV("th",{children:"Tenant"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1063,columnNumber:21},this),a.jsxDEV("th",{children:"Action"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1064,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1059,columnNumber:19},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1058,columnNumber:17},this),a.jsxDEV("tbody",{children:[x&&a.jsxDEV("tr",{children:a.jsxDEV("td",{colSpan:5,children:"Loading…"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1070,columnNumber:23},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1069,columnNumber:21},this),!x&&U.length===0&&a.jsxDEV("tr",{children:a.jsxDEV("td",{colSpan:5,children:"No results"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1075,columnNumber:23},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1074,columnNumber:21},this),!x&&U.map(e=>a.jsxDEV("tr",{children:[a.jsxDEV("td",{children:e.email},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1081,columnNumber:25},this),a.jsxDEV("td",{children:e.displayName||"—"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1082,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("code",{children:e.uid},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1084,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1083,columnNumber:25},this),a.jsxDEV("td",{children:(()=>{const i=(e.email||"").toLowerCase(),t=T[i]||"vendor";return a.jsxDEV("select",{className:"form-select form-select-sm w-auto bg-base border text-secondary-light rounded-pill",value:t,onChange:s=>De(n=>({...n,[i]:s.target.value})),children:Y.map(s=>a.jsxDEV("option",{value:s.id,children:s.name||s.id},s.id,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1097,columnNumber:35},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1091,columnNumber:31},this)})()},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1086,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("div",{className:"d-flex flex-wrap gap-2",children:[a.jsxDEV("button",{className:"btn btn-sm btn-outline-success",onClick:()=>_e((e.email||"").toLowerCase()),disabled:Ne(e.email)==="admin",children:"Grant Admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1107,columnNumber:29},this),a.jsxDEV("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>We((e.email||"").toLowerCase()),disabled:Ne(e.email)==="partner",children:"Grant Partner"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1114,columnNumber:29},this),qe(e.email)&&a.jsxDEV("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Ge((e.email||"").toLowerCase()),children:"Revoke Access"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1122,columnNumber:31},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1106,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1105,columnNumber:25},this)]},e.uid,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1080,columnNumber:23},this))]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1067,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1057,columnNumber:15},this),a.jsxDEV("div",{className:"d-flex align-items-center justify-content-between mt-2",children:[a.jsxDEV("div",{className:"text-secondary small",children:["Showing ",U.length," user(s)"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1136,columnNumber:17},this),a.jsxDEV("div",{className:"d-flex align-items-center gap-2",children:[a.jsxDEV("label",{className:"text-sm",children:"Page size"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1138,columnNumber:19},this),a.jsxDEV("select",{className:"form-select form-select-sm w-auto",value:w,onChange:e=>je(Number(e.target.value)||100),children:[50,100,200,500,1e3].map(e=>a.jsxDEV("option",{value:e,children:e},e,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1145,columnNumber:23},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1139,columnNumber:19},this),a.jsxDEV("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>y(!0),disabled:x,children:"Refresh"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1150,columnNumber:19},this),a.jsxDEV("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>y(!1),disabled:x||!k,children:x?"Loading…":k?"Load more":"End"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1153,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1137,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1135,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1056,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1039,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:705,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:701,columnNumber:7},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:700,columnNumber:5},this)}function na(){return a.jsxDEV(Je,{children:[a.jsxDEV(Ye,{title:"User Role Management"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/UserRoleManagementPage.tsx",lineNumber:8,columnNumber:7},this),a.jsxDEV(Ze,{},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/UserRoleManagementPage.tsx",lineNumber:9,columnNumber:7},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/UserRoleManagementPage.tsx",lineNumber:7,columnNumber:5},this)}export{na as default};
