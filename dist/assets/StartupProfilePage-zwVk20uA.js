import{a as P,b as h,j as e,x as A}from"./index-CQbdUr3k.js";import{b as D,r as c,L as M}from"./vendor-5dkO6nAt.js";import{M as X}from"./MasterLayout-f2zXCt4T.js";import{B as w}from"./Breadcrumb-GUYYjl9x.js";import"./firebase-DMFzVTL_.js";import"./utils-B2rxisVD.js";const E="/api/data/startups";function I(){const S=D(),[n,p]=c.useState(!1),[N,u]=c.useState(""),[g,f]=c.useState(""),x=c.useMemo(()=>sessionStorage.getItem("tenantId")||"vendor",[]),[y,v]=c.useState(!1),[s,d]=c.useState({id:"",name:"",elevatorPitch:"",productsServices:"",employeeCount:0,contactEmail:"",phone:"",website:"",country:"",city:"",addressLine:"",categories:[],tags:[]});function l(a,i){d(t=>({...t,[a]:i}))}c.useEffect(()=>{(async()=>{u("");const a=P.currentUser,i=(a?.email||"").toLowerCase();if(i)try{const t=await h.get(E),r=(Array.isArray(t.data)?t.data:t.data?.items||[]).find(o=>o.ownerUid&&o.ownerUid===a.uid||(o.contactEmail||o.email||"").toLowerCase()===i);d(r?{id:r.id||"",name:r.name||"",elevatorPitch:r.elevatorPitch||"",productsServices:r.productsServices||"",employeeCount:Number(r.employeeCount||0),contactEmail:(r.contactEmail||i).toLowerCase(),phone:r.phone||"",website:r.website||"",country:r.country||"",city:r.city||"",addressLine:r.addressLine||"",categories:Array.isArray(r.categories)?r.categories:[],tags:Array.isArray(r.tags)?r.tags:[]}:o=>({...o,contactEmail:i}));try{const o=await h.get("/api/data/vendors",{timeout:8e3}),k=(Array.isArray(o.data)?o.data:o.data?.items||[]).find(b=>b.ownerUid&&b.ownerUid===a.uid||(b.contactEmail||b.email||"").toLowerCase()===i);v(!!k)}catch{}}catch(t){u(t?.response?.data?.message||t?.message||"Failed to load startup profile")}})()},[x]);async function V(a){a?.preventDefault?.(),p(!0),u(""),f("");try{const i=P.currentUser;if(!i)throw new Error("Please sign in");const t={id:s.id||i.uid,name:s.name,elevatorPitch:s.elevatorPitch,productsServices:s.productsServices,employeeCount:Number(s.employeeCount||0),contactEmail:(s.contactEmail||i.email||"").toLowerCase(),ownerUid:i.uid,phone:s.phone,website:s.website,country:s.country,city:s.city,addressLine:s.addressLine,categories:s.categories,tags:s.tags};if(!t.name)throw new Error("Business name is required");await h.post(E,t),f("Saved");try{await A({action:"STARTUP_UPDATE",userEmail:t.contactEmail,targetType:"startup",targetId:t.id})}catch{}d(m=>({...m,id:t.id}))}catch(i){u(i?.response?.data?.message||i?.message||"Failed to save")}finally{p(!1)}}async function j(){u(""),f(""),p(!0);try{const a=P.currentUser;if(!a)throw new Error("Please sign in");const i=(s.contactEmail||a.email||"").toLowerCase(),t=[s.elevatorPitch||"",s.productsServices||""].filter(Boolean).join(`

`),m={id:a.uid,name:s.name,contactEmail:i,ownerUid:a.uid,phone:s.phone,website:s.website,description:t,country:s.country,city:s.city,addressLine:s.addressLine,categories:s.categories,tags:s.tags,status:"pending",kycStatus:"pending"};if(!m.name)throw new Error("Business name is required to create a vendor.");await h.post("/api/data/vendors",m);try{await A({action:"VENDOR_CREATE_FROM_STARTUP",userEmail:i,targetType:"vendor",targetId:a.uid})}catch{}f("Vendor profile created. Redirecting…"),v(!0),setTimeout(()=>S("/profile-vendor",{replace:!0}),600)}catch(a){u(a?.response?.data?.message||a?.message||"Failed to create vendor from startup")}finally{p(!1)}}return e.jsxDEV(X,{children:[e.jsxDEV(w,{title:"Startup Profile"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:167,columnNumber:7},this),e.jsxDEV("div",{className:"card",children:e.jsxDEV("div",{className:"card-body",children:[e.jsxDEV("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsxDEV("div",{className:"small text-muted",children:["Tenant: ",e.jsxDEV("code",{children:x},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:171,columnNumber:55},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:171,columnNumber:13},this),e.jsxDEV("div",{className:"d-flex gap-2",children:y?e.jsxDEV(M,{to:"/profile-vendor",className:"btn btn-sm btn-outline-primary",children:"Go to Vendor Profile"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:174,columnNumber:17},this):e.jsxDEV("button",{type:"button",className:"btn btn-sm btn-primary",onClick:j,disabled:n,children:n?"Creating…":"Create Vendor from Startup"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:176,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:172,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:170,columnNumber:11},this),N&&e.jsxDEV("div",{className:"alert alert-danger",children:N},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:182,columnNumber:19},this),g&&e.jsxDEV("div",{className:"alert alert-success",children:g},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:183,columnNumber:18},this),e.jsxDEV("form",{onSubmit:V,className:"row g-3",children:[e.jsxDEV("div",{className:"col-md-6",children:[e.jsxDEV("label",{className:"form-label",children:"Business name"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:186,columnNumber:15},this),e.jsxDEV("input",{className:"form-control",value:s.name,onChange:a=>l("name",a.target.value),required:!0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:187,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:185,columnNumber:13},this),e.jsxDEV("div",{className:"col-md-6",children:[e.jsxDEV("label",{className:"form-label",children:"Website"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:190,columnNumber:15},this),e.jsxDEV("input",{className:"form-control",value:s.website,onChange:a=>l("website",a.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:191,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:189,columnNumber:13},this),e.jsxDEV("div",{className:"col-12",children:[e.jsxDEV("label",{className:"form-label",children:"Elevator pitch"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:195,columnNumber:15},this),e.jsxDEV("textarea",{className:"form-control",rows:3,value:s.elevatorPitch,onChange:a=>l("elevatorPitch",a.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:196,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:194,columnNumber:13},this),e.jsxDEV("div",{className:"col-12",children:[e.jsxDEV("label",{className:"form-label",children:"Products / Services"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:200,columnNumber:15},this),e.jsxDEV("textarea",{className:"form-control",rows:4,value:s.productsServices,onChange:a=>l("productsServices",a.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:201,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:199,columnNumber:13},this),e.jsxDEV("div",{className:"col-md-4",children:[e.jsxDEV("label",{className:"form-label",children:"Employees"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:205,columnNumber:15},this),e.jsxDEV("input",{type:"number",min:0,className:"form-control",value:s.employeeCount,onChange:a=>l("employeeCount",a.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:206,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:204,columnNumber:13},this),e.jsxDEV("div",{className:"col-md-4",children:[e.jsxDEV("label",{className:"form-label",children:"Phone"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:209,columnNumber:15},this),e.jsxDEV("input",{className:"form-control",value:s.phone,onChange:a=>l("phone",a.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:210,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:208,columnNumber:13},this),e.jsxDEV("div",{className:"col-md-4",children:[e.jsxDEV("label",{className:"form-label",children:"Contact email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:213,columnNumber:15},this),e.jsxDEV("input",{type:"email",className:"form-control",value:s.contactEmail,onChange:a=>l("contactEmail",a.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:214,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:212,columnNumber:13},this),e.jsxDEV("div",{className:"col-md-4",children:[e.jsxDEV("label",{className:"form-label",children:"Country"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:218,columnNumber:15},this),e.jsxDEV("input",{className:"form-control",value:s.country,onChange:a=>l("country",a.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:219,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:217,columnNumber:13},this),e.jsxDEV("div",{className:"col-md-4",children:[e.jsxDEV("label",{className:"form-label",children:"City"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:222,columnNumber:15},this),e.jsxDEV("input",{className:"form-control",value:s.city,onChange:a=>l("city",a.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:223,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:221,columnNumber:13},this),e.jsxDEV("div",{className:"col-md-4",children:[e.jsxDEV("label",{className:"form-label",children:"Address"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:226,columnNumber:15},this),e.jsxDEV("input",{className:"form-control",value:s.addressLine,onChange:a=>l("addressLine",a.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:227,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:225,columnNumber:13},this),e.jsxDEV("div",{className:"col-12",children:[e.jsxDEV("label",{className:"form-label",children:"Categories (comma separated)"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:231,columnNumber:15},this),e.jsxDEV("input",{className:"form-control",value:(s.categories||[]).join(", "),onChange:a=>l("categories",a.target.value.split(",").map(i=>i.trim()).filter(Boolean))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:232,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:230,columnNumber:13},this),e.jsxDEV("div",{className:"col-12",children:[e.jsxDEV("label",{className:"form-label",children:"Tags (comma separated)"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:239,columnNumber:15},this),e.jsxDEV("input",{className:"form-control",value:(s.tags||[]).join(", "),onChange:a=>l("tags",a.target.value.split(",").map(i=>i.trim()).filter(Boolean))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:240,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:238,columnNumber:13},this),e.jsxDEV("div",{className:"col-12 d-flex gap-2",children:e.jsxDEV("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"Saving…":"Save profile"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:248,columnNumber:15},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:247,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:184,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:169,columnNumber:9},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:168,columnNumber:7},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupProfilePage.tsx",lineNumber:166,columnNumber:5},this)}export{I as default};
