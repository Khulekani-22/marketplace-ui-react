import{j as e,M as X,I as A}from"./index-Bh3uzKus.js";import{b as y,u as w,r as i}from"./vendor-C0neu5ZX.js";import{a as S}from"./appData-DZmOE577.js";import"./firebase-DMviGkW7.js";import"./utils-B2rxisVD.js";const v="lms_completed_v1",C=()=>{try{const o=localStorage.getItem(v),p=o?JSON.parse(o):[];return new Set(Array.isArray(p)?p:[])}catch{return new Set}},I=o=>{try{localStorage.setItem(v,JSON.stringify(Array.from(o)))}catch{}};function O(){const o=y(),p=w(),n=i.useMemo(()=>S?.cohorts??[],[]),f=n.length>0,g=new URLSearchParams(p.search),k=g.get("cohort")||(f?n[0].id:""),j=g.get("course")||"",[h,L]=i.useState(k),[r,N]=i.useState(j),[u,M]=i.useState(C);i.useEffect(()=>{const s=new URLSearchParams(p.search);h?s.set("cohort",h):s.delete("cohort"),r?s.set("course",r):s.delete("course"),o({search:s.toString()},{replace:!0})},[h,r]),i.useEffect(()=>I(u),[u]);const b=i.useMemo(()=>n.find(s=>s.id===h)||n[0]||null,[n,h]),l=i.useMemo(()=>Array.isArray(b?.courses)?b.courses:[],[b]);i.useEffect(()=>{if(!l?.length){N("");return}l.some(a=>a.id===r)||N(l[0].id)},[l,r]);const t=i.useMemo(()=>l.find(s=>s.id===r)||null,[l,r]),d=t?.lessons??[],P=d.length,D=d.filter(s=>u.has(s.id)).length,E=P?Math.round(D/P*100):0;function V(s){M(a=>{const c=new Set(a);return c.has(s)?c.delete(s):c.add(s),c})}return e.jsxDEV(X,{children:e.jsxDEV("div",{className:"container-fluid",children:[e.jsxDEV("div",{className:"row align-items-center mb-24",children:[e.jsxDEV("div",{className:"col",children:[e.jsxDEV("h2",{className:"mb-4",children:"LMS Â· Cohorts & Courses"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:105,columnNumber:13},this),e.jsxDEV("p",{className:"text-secondary-light mb-0 d-none",children:["Data loaded at build-time from ",e.jsxDEV("code",{children:"backend/appData.json"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:107,columnNumber:46},this)," (no network)."]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:106,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:104,columnNumber:11},this),e.jsxDEV("div",{className:"col-auto",children:f&&e.jsxDEV("select",{className:"form-select btn btn-outline-primary-600 border rounded-pill px-16",value:b?.id??"",onChange:s=>L(s.target.value),"aria-label":"Select cohort",children:n.map(s=>e.jsxDEV("option",{value:s.id,children:s.name},s.id,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:119,columnNumber:19},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:112,columnNumber:15},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:110,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:103,columnNumber:9},this),f?e.jsxDEV("div",{className:"row g-24",children:[e.jsxDEV("div",{className:"col-12 col-lg-6",children:e.jsxDEV("div",{className:"card radius-12 p-16 mb-3",children:[e.jsxDEV("div",{className:"d-flex align-items-center justify-content-between mb-12",children:[e.jsxDEV("h5",{className:"mb-0",children:b?.name||"Cohort"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:137,columnNumber:19},this),e.jsxDEV("span",{className:"badge bg-primary-600",children:[l.length," modules"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:138,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:136,columnNumber:17},this),l.length?e.jsxDEV("div",{className:"row g-16 mb-3 py-3",children:l.map(s=>{const a=s.lessons??[],c=a.filter(x=>u.has(x.id)).length,m=a.length?Math.round(c/a.length*100):0;return e.jsxDEV("div",{className:"col-12 py-2",children:e.jsxDEV("button",{type:"button",onClick:()=>N(s.id),className:`w-100 d-flex align-items-stretch gap-12 p-12 radius-12 border ${r===s.id?"border-primary":"border-neutral-200"} bg-base text-start`,children:[e.jsxDEV("img",{src:s.videoThumbnail,alt:s.title,className:"rounded",style:{width:96,height:64,objectFit:"cover"},onError:x=>x.currentTarget.style.visibility="hidden"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:161,columnNumber:29},this),e.jsxDEV("div",{className:"flex-grow-1",children:[e.jsxDEV("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxDEV("h6",{className:"mb-4",children:s.title},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:170,columnNumber:33},this),e.jsxDEV("span",{className:"text-sm text-secondary-light",children:[a.length," lessons"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:171,columnNumber:33},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:169,columnNumber:31},this),e.jsxDEV("p",{className:"mb-8 text-secondary-light",children:s.description},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:175,columnNumber:31},this),e.jsxDEV("div",{className:"progress",style:{height:8},children:e.jsxDEV("div",{className:"progress-bar",role:"progressbar",style:{width:`${m}%`},"aria-valuenow":m,"aria-valuemin":"0","aria-valuemax":"100"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:177,columnNumber:33},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:176,columnNumber:31},this),e.jsxDEV("small",{className:"text-secondary-light",children:[m,"% complete"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:186,columnNumber:31},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:168,columnNumber:29},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:154,columnNumber:27},this)},s.id,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:153,columnNumber:25},this)})},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:144,columnNumber:19},this):e.jsxDEV("div",{className:"text-secondary-light",children:"No courses in this cohort."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:142,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:135,columnNumber:15},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:134,columnNumber:13},this),e.jsxDEV("div",{className:"col-12 col-lg-6",children:e.jsxDEV("div",{className:"card radius-12 p-16",children:t?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"d-flex align-items-center justify-content-between mb-12",children:[e.jsxDEV("h5",{className:"mb-0",children:t.title},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:205,columnNumber:23},this),e.jsxDEV("span",{className:"badge bg-success-subtle text-success-main",children:[E,"% complete"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:206,columnNumber:23},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:204,columnNumber:21},this),e.jsxDEV("img",{src:t.videoThumbnail,alt:t.title,className:"rounded mb-16 w-100",style:{maxHeight:260,objectFit:"cover"},onError:s=>s.currentTarget.style.display="none"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:211,columnNumber:21},this),e.jsxDEV("p",{className:"text-secondary-light",children:t.description},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:219,columnNumber:21},this),e.jsxDEV("hr",{className:"my-16"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:221,columnNumber:21},this),e.jsxDEV("h6",{className:"mb-12 d-flex align-items-center gap-2",children:[e.jsxDEV(A,{icon:"solar:play-circle-linear"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:224,columnNumber:23},this),"Lessons"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:223,columnNumber:21},this),d.length?e.jsxDEV("ul",{className:"list-group mb-16",children:d.map(s=>e.jsxDEV("li",{className:"list-group-item d-flex align-items-center justify-content-between",children:[e.jsxDEV("div",{className:"d-flex align-items-center gap-10",children:[e.jsxDEV("input",{type:"checkbox",className:"form-check-input",checked:u.has(s.id),onChange:()=>V(s.id),"aria-label":`Mark ${s.title} complete`},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:238,columnNumber:31},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"fw-semibold",children:s.title},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:246,columnNumber:33},this),e.jsxDEV("small",{className:"text-secondary-light",children:s.duration},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:247,columnNumber:33},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:245,columnNumber:31},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:237,columnNumber:29},this),u.has(s.id)&&e.jsxDEV("span",{className:"badge bg-success-subtle text-success-main",children:"Done"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:251,columnNumber:31},this)]},s.id,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:233,columnNumber:27},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:231,columnNumber:23},this):e.jsxDEV("div",{className:"text-secondary-light",children:"No lessons listed."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:229,columnNumber:23},this),t.assessment&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("h6",{className:"mb-12 d-flex align-items-center gap-2",children:[e.jsxDEV(A,{icon:"solar:checklist-minimalistic-linear"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:261,columnNumber:27},this),"Assessment: ",t.assessment.title]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:260,columnNumber:25},this),(t.assessment.questions||[]).map((s,a)=>e.jsxDEV("div",{className:"mb-12",children:[e.jsxDEV("div",{className:"fw-semibold mb-8",children:s.text},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:266,columnNumber:29},this),(s.options||[]).map((c,m)=>e.jsxDEV("div",{className:"form-check mb-6",children:[e.jsxDEV("input",{className:"form-check-input",type:"radio",name:`q-${a}`,id:`q-${a}-${m}`},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:269,columnNumber:33},this),e.jsxDEV("label",{className:"form-check-label",htmlFor:`q-${a}-${m}`,children:c.text},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:275,columnNumber:33},this)]},m,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:268,columnNumber:31},this))]},a,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:265,columnNumber:27},this)),e.jsxDEV("button",{type:"button",className:"btn btn-primary",children:"Submit Answers"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:282,columnNumber:25},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:259,columnNumber:23},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:203,columnNumber:19},this):e.jsxDEV("div",{className:"text-secondary-light",children:"Select a module to view details."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:201,columnNumber:19},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:199,columnNumber:15},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:198,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:132,columnNumber:11},this):e.jsxDEV("div",{className:"alert alert-warning",children:"No cohorts found in appData.json."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:130,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:101,columnNumber:7},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/LmsPage.tsx",lineNumber:100,columnNumber:5},this)}export{O as default};
