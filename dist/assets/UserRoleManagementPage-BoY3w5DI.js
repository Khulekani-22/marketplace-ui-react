import{a as I,z as A,b as o,c as xe,j as a,w as Ke,x as ge}from"./index-DF1eAVL0.js";import{M as Ye}from"./MasterLayout-CrCwD5hs.js";import{B as Ze}from"./Breadcrumb-CXTgEhWj.js";import{r}from"./vendor-5dkO6nAt.js";import"./firebase-Dn3N7aYH.js";import"./utils-B2rxisVD.js";const Ae=[{key:"dashboard",label:"Access To Market"},{key:"market1",label:"Full Marketplace"},{key:"access-capital",label:"Access to Capital"},{key:"listings-vendors",label:"Add Listings"},{key:"listings-vendors-mine",label:"My Listings"},{key:"profile-vendor",label:"Vendor Profile"},{key:"vendor-home",label:"Vendor Home"},{key:"profile-startup",label:"Startup Profile"},{key:"profile-vendor-admin",label:"Vendor Approval"},{key:"audit-logs",label:"Audit Logs"},{key:"listings-admin",label:"Listings Approval"},{key:"admin-users",label:"User Roles"},{key:"sloane-academy-admin",label:"Academy Admin"},{key:"admin-dashboard",label:"Admin Dashboard"},{key:"admin-wallet-credits",label:"Manage Wallet Credits"},{key:"email",label:"Message Center"},{key:"wallet",label:"My Wallet"},{key:"subscriptions",label:"My Subscriptions"},{key:"sloane-academy",label:"Sloane Academy"},{key:"support",label:"Support"}];function ea(){const[P,M]=r.useState([]),[C,L]=r.useState({}),[ve,q]=r.useState({}),[F,G]=r.useState(!1),[H,Pe]=r.useState(""),[Q,Me]=r.useState(""),[J,m]=r.useState(""),[K,p]=r.useState(""),[Y,Z]=r.useState([{id:"vendor",name:"Vendor"}]),T=(I.currentUser?.email||sessionStorage.getItem("userEmail")||"").toLowerCase(),[V,ee]=r.useState({}),[ke,ye]=r.useState({}),[Ue,Ee]=r.useState({}),[u,Re]=r.useState({}),[ae,se]=r.useState({}),[te,ie]=r.useState({}),[B,De]=r.useState({}),[U,ne]=r.useState([]),[j,Ve]=r.useState(""),[x,le]=r.useState(!1),[re,X]=r.useState(""),[k,oe]=r.useState(""),[w,je]=r.useState(100),[$,ce]=r.useState(!0),[z,me]=r.useState(!1),[O,ue]=r.useState(!1),pe=r.useRef(!1),de=r.useMemo(()=>[...P].sort((e,i)=>(e.email||"").localeCompare(i.email||"")),[P]),[_,Xe]=r.useState(""),[S,we]=r.useState("All"),W=r.useMemo(()=>{const e=_.trim().toLowerCase(),i=S==="All"?null:A(S);return de.filter(t=>{const s=A(t.role);return i&&s!==i?!1:e?`${t.email} ${t.tenantId} ${t.role}`.toLowerCase().includes(e):!0})},[de,_,S]);function be(e){return(Array.isArray(e)?e:[]).map(t=>({email:(t.email||"").toLowerCase(),tenantId:t.tenantId==="vendor"?"public":t.tenantId||"public",role:A(t.role)}))}function Se(e,i){const t=typeof e=="string"?e.toLowerCase():"";return t==="admin"?!0:t==="vendor"?["dashboard","market1","listings-vendors","listings-vendors-mine","profile-vendor","vendor-home","wallet","subscriptions","email","support"].includes(i):t==="startup"?["dashboard","market1","profile-startup","wallet","subscriptions","email","support"].includes(i):!1}async function E(){G(!0),m("");try{const{data:e}=await o.get("/api/users"),i=Array.isArray(e)?e:[],t=await o.get("/api/users/all-contacts"),n=(Array.isArray(t.data?.items)?t.data.items:[]).filter(l=>{const f=(l.role||"").toLowerCase();return l.type==="startup"||l.type==="vendor"||f==="admin"});M(n.map(l=>({email:(l.email||"").toLowerCase(),tenantId:!l.tenantId||l.tenantId==="public"?"vendor":l.tenantId,role:l.role||(l.type==="startup"?"startup":l.type==="vendor"?"vendor":"admin")})));const c=i.map(l=>(l.email||"").toLowerCase()).filter(Boolean);try{const{data:l}=await o.post("/api/users/batch-privileges",{emails:c});l&&typeof l.privileges=="object"&&L(l.privileges)}catch{L(l=>{const f={...l};return c.forEach(h=>{f[h]={}}),f})}try{const l=await o.get("/api/data/vendors",{timeout:8e3}).then(d=>d.data||[]),f={},h={},v={};l.forEach(d=>{const g=(d.contactEmail||d.email||"").toLowerCase(),b=d.ownerUid||"",N=String(d.id||""),D=String(d.vendorId||"");g&&(f[g]=d),b&&(h[b]=d),N&&(v[N]=d),D&&(v[D]=d)}),ee(f),ye(h),Ee(v)}catch{}}catch(e){m(e?.response?.data?.message||e?.message||"Failed to load users")}finally{G(!1)}}async function Ie(e,i,t){q(s=>({...s,[e]:!0}));try{const n={...C[e]||{},[i]:t};await o.patch(`/api/users/${encodeURIComponent(e)}/privileges`,{featurePrivileges:n}),L(c=>({...c,[e]:n}))}catch(s){m(s?.response?.data?.message||s?.message||"Failed to update privileges")}finally{q(s=>({...s,[e]:!1}))}}r.useEffect(()=>{E()},[]),r.useEffect(()=>{(async()=>{try{if(!T)return;await o.get("/api/users/lookup",{params:{email:T}}),ce(!0)}catch{ce(!1)}})()},[]),r.useEffect(()=>{(async()=>{try{const{data:e}=await o.get("/api/tenants"),i=Array.isArray(e)?e:[],t=[{id:"vendor",name:"Vendor"},...i.map(n=>typeof n=="string"?{id:n,name:n}:{id:n?.id,name:n?.name||n?.id}).map(n=>n.id==="public"?{...n,id:"vendor",name:n.name||"Vendor"}:n)].filter(n=>n&&n.id),s=new Map;t.forEach(n=>s.set(n.id,n)),Z(Array.from(s.values()))}catch{Z([{id:"vendor",name:"Vendor"}])}})()},[]);async function Ce(e){e.preventDefault(),m(""),p("");const i=H.trim(),t=Q.trim();if(!i||!t){m("Email and new tenant id are required");return}try{await o.post("/api/users/upgrade",{email:i,newTenantId:t}),p("Upgraded successfully");const s=window?.localStorage&&window.localStorage.getItem("userEmail")||window?.sessionStorage?.getItem("userEmail");s&&s.toLowerCase()===i.toLowerCase()&&(sessionStorage.setItem("tenantId",t),sessionStorage.setItem("role","admin")),await E()}catch(s){m(s?.response?.data?.message||s?.message||"Upgrade failed")}}async function R({email:e,tenantId:i,role:t}){const s=i==="vendor"?"public":i,n=A(t);await o.post("/api/users",{email:e,tenantId:s,role:n}),e.toLowerCase()===T&&(sessionStorage.setItem("tenantId",i),sessionStorage.setItem("role",n))}async function Le(e){m(""),p("");const t=A(e.role)==="admin"?"member":"admin";try{await R({email:e.email,tenantId:e.tenantId||"vendor",role:t}),M(s=>s.map(n=>n.email===e.email?{...n,role:t}:n)),p(`${e.email} is now ${t}`)}catch(s){m(s?.response?.data?.message||s?.message||"Failed to update role")}}async function Fe(e){m(""),p("");const t=A(e.role)==="partner"?"member":"partner";try{await R({email:e.email,tenantId:e.tenantId||"vendor",role:t}),M(s=>s.map(n=>n.email===e.email?{...n,role:t}:n)),p(`${e.email} is now ${t}`)}catch(s){m(s?.response?.data?.message||s?.message||"Failed to update role")}}async function Te(e,i){m(""),p("");try{await R({email:e.email,tenantId:i,role:e.role||"member"}),M(t=>t.map(s=>s.email===e.email?{...s,tenantId:i}:s)),p(`${e.email} moved to ${i}`)}catch(t){m(t?.response?.data?.message||t?.message||"Failed to change tenant")}}async function Be(e){m(""),p("");const i=(e.email||"").toLowerCase();if(i&&window.confirm(`Delete user ${i}? This removes their account and role mapping but keeps listings.`))try{await o.delete("/api/users",{data:{email:i}}),M(t=>t.filter(s=>(s.email||"").toLowerCase()!==i)),p(`Deleted ${i}`)}catch(t){m(t?.response?.data?.message||t?.message||"Failed to delete user")}}async function $e(e){m(""),p("");try{let i="";try{const{data:n}=await o.get("/api/users/lookup",{params:{email:e.email}});i=n?.uid||""}catch{i=""}const t=(e.email||"").split("@")[0]||"Vendor",s={id:i||void 0,name:t,contactEmail:e.email,ownerUid:i||void 0,status:"pending",kycStatus:"pending",categories:[],tags:[]};await o.post("/api/data/vendors",s),ee(n=>({...n,[e.email]:!0})),p(`Created vendor profile for ${e.email}`)}catch(i){m(i?.response?.data?.message||i?.message||"Failed to create vendor profile")}}async function ze(e,i={}){const t=(e.email||"").toLowerCase();ie(s=>({...s,[t]:!0})),m(""),p("");try{let s="";try{const{data:l}=await o.get("/api/users/lookup",{params:{email:t}});s=l?.uid||""}catch{m("Could not find Firebase UID for this email");return}await o.post("/api/users",{email:t,tenantId:e.tenantId||"vendor",role:e.role||"member",uid:s});let n=!1;const c=V[t];if(c){const l=String(c.id||c.vendorId||"");if(l)try{await o.put(`/api/data/vendors/${encodeURIComponent(l)}`,{ownerUid:s}),n=!0}catch{}}else try{const l=await o.get("/api/tenants"),h=(Array.isArray(l.data)?l.data:[]).map(d=>typeof d=="string"?d:d?.id).filter(Boolean),v=Array.from(new Set(["vendor",...h]));for(const d of v)try{const{data:g}=await o.get("/api/data/vendors",{headers:{"x-tenant-id":d}}),b=Array.isArray(g)?g.find(N=>(N.contactEmail||N.email||"").toLowerCase()===t):null;if(b){const N=String(b.id||b.vendorId||"");if(N){await o.put(`/api/data/vendors/${encodeURIComponent(N)}`,{ownerUid:s},{headers:{"x-tenant-id":d}}),n=!0;break}}}catch{}}catch{}if(!n){const l=t.split("@")[0]||"Vendor";try{await o.post("/api/data/vendors",{name:l,contactEmail:t,ownerUid:s,status:"pending",kycStatus:"pending",categories:[]})}catch{}}i.doRefresh!==!1&&await E(),p(`Synced Firebase UID for ${t}`)}catch(s){m(s?.response?.data?.message||s?.message||"Failed to sync UID")}finally{ie(s=>({...s,[t]:!1}))}}function Oe(e){const i={},t={},s={};return(e||[]).forEach(n=>{const c=(n.contactEmail||n.email||"").toLowerCase(),l=n.ownerUid||"",f=String(n.id||""),h=String(n.vendorId||"");c&&(i[c]=n),l&&(t[l]=n),f&&(s[f]=n),h&&(s[h]=n)}),{byEmail:i,byOwner:t,byId:s}}async function _e(e){const i=(e.email||"").toLowerCase();se(t=>({...t,[i]:!0}));try{let t=V[i]||null,s="",n=null,c=null;try{const{data:l}=await o.get("/api/users/lookup",{params:{email:i}});s=l?.uid||""}catch{}if(s&&(n=ke[s]||null,c=Ue[s]||null),!t&&!n&&!c)try{const l=await o.get("/api/tenants"),h=(Array.isArray(l.data)?l.data:[]).map(b=>typeof b=="string"?b:b?.id).filter(Boolean),v=[],d=Array.from(new Set(["vendor",...h]));for(const b of d)try{const{data:N}=await o.get("/api/data/vendors",{headers:{"x-tenant-id":b}});Array.isArray(N)&&v.push(...N.map(D=>({...D,_tenantId:D.tenantId||b})))}catch{}const g=Oe(v);t=g.byEmail[i]||null,s&&(n=g.byOwner[s]||n,c=g.byId[s]||c)}catch{}Re(l=>({...l,[i]:{uid:s,viaEmail:t,viaUid:n,viaId:c}}))}finally{se(t=>({...t,[i]:!1}))}}const y=r.useCallback(async(e=!0)=>{X(""),le(!0);try{const i={search:j,pageSize:w};!e&&k&&(i.pageToken=k);const{data:t}=await o.get("/api/users/all",{params:i}),s=Array.isArray(t?.items)?t.items:[];ne(n=>e?s:[...n,...s]),oe(t?.nextPageToken||"")}catch(i){const t=i?.response?.status;if(t===401||t===403)try{await xe();const s={search:j,pageSize:w};!e&&k&&(s.pageToken=k);const{data:n}=await o.get("/api/users/all",{params:s}),c=Array.isArray(n?.items)?n.items:[];ne(l=>e?c:[...l,...c]),oe(n?.nextPageToken||""),X("");return}catch(s){X(s?.response?.data?.message||s?.message||"Failed to search platform users")}else X(i?.response?.data?.message||i?.message||"Failed to search platform users")}finally{le(!1)}},[j,w,k]),fe=r.useRef(!1);r.useEffect(()=>{if(fe.current)return;fe.current=!0;let e=!0;return(async()=>{try{if(await xe(),!e)return;await y(!0)}catch{}})(),()=>{e=!1}},[y]),r.useEffect(()=>{if(!pe.current&&!x&&Array.isArray(U)&&U.length===0){const e=setTimeout(()=>{pe.current=!0,y(!0)},800);return()=>clearTimeout(e)}},[x,U,y]);async function he(e,i){const t=B[e]||"vendor",s=A(i);try{await R({email:e,tenantId:t,role:s}),M(n=>n.find(l=>l.email===e)?n.map(l=>l.email===e?{...l,role:s,tenantId:t}:l):[...n,{email:e,role:s,tenantId:t}]),p(`${e} granted ${s} (${t})`)}catch(n){m(n?.response?.data?.message||n?.message||`Failed to grant ${s}`)}}async function We(e){await he(e,"admin")}async function qe(e){await he(e,"partner")}function Ge(e){const i=(e||"").toLowerCase();return P.some(t=>t.email===i&&Ke(t.role))}function Ne(e){const i=(e||"").toLowerCase(),t=P.find(s=>s.email===i);return A(t?.role)}async function He(e){const t=P.find(s=>s.email===(e||"").toLowerCase())?.tenantId||B[e]||"vendor";try{await R({email:e,tenantId:t,role:"member"}),M(s=>s.map(n=>n.email===e?{...n,role:"member"}:n)),p(`${e} access revoked`)}catch(s){m(s?.response?.data?.message||s?.message||"Failed to revoke admin")}}async function Qe(){m(""),p(""),me(!0);try{const e=await o.get("/api/lms/live").then(s=>s.data||{}),i=be(P),t={...e,users:i};await o.put("/api/users/bulk",{users:i}),await o.put("/api/lms/publish",{data:t});try{await ge({action:"USERS_SAVE_ALL",userEmail:I.currentUser?.email||void 0,targetType:"appData",targetId:"users",metadata:{count:i.length}})}catch{}p("All changes saved to appData.json"),await E()}catch(e){m(e?.response?.data?.message||e?.message||"Failed to save changes")}finally{me(!1)}}async function Je(){m(""),p(""),ue(!0);try{const e=await o.get("/api/lms/live").then(s=>s.data||{}),i=be(P),t={...e,users:i};await o.put("/api/users/bulk",{users:i}),await o.post("/api/lms/checkpoints",{message:"User Roles checkpoint",data:t});try{await ge({action:"USERS_CHECKPOINT",userEmail:I.currentUser?.email||void 0,targetType:"appData",targetId:"users",metadata:{count:i.length}})}catch{}p("Checkpoint saved"),await E()}catch(e){m(e?.response?.data?.message||e?.message||"Failed to save checkpoint")}finally{ue(!1)}}return a.jsxDEV(a.Fragment,{children:a.jsxDEV("div",{className:"card h-100 p-0 radius-12 overflow-hidden",children:[a.jsxDEV("div",{className:"card-header border-bottom bg-base py-16 px-24 d-flex align-items-center justify-content-between gap-3 flex-wrap",children:a.jsxDEV("h6",{className:"mb-0",children:"Upgrade Public Tenant to Private Admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:727,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:726,columnNumber:9},this),a.jsxDEV("div",{className:"card-body p-24",children:[a.jsxDEV("form",{onSubmit:Ce,className:"row g-3 align-items-end mb-24",children:[a.jsxDEV("div",{className:"col-sm-5",children:[a.jsxDEV("label",{className:"form-label text-sm",children:"User Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:732,columnNumber:15},this),a.jsxDEV("input",{type:"email",className:"form-control",value:H,onChange:e=>Pe(e.target.value),placeholder:"user@example.com",required:!0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:733,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:731,columnNumber:13},this),a.jsxDEV("div",{className:"col-sm-5",children:[a.jsxDEV("label",{className:"form-label text-sm",children:"New Tenant ID (private)"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:743,columnNumber:15},this),a.jsxDEV("input",{type:"text",className:"form-control",value:Q,onChange:e=>Me(e.target.value),placeholder:"acme-inc",required:!0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:744,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:742,columnNumber:13},this),a.jsxDEV("div",{className:"col-sm-2",children:a.jsxDEV("button",{type:"submit",className:"btn btn-primary w-100",children:"Upgrade"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:754,columnNumber:15},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:753,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:730,columnNumber:11},this),J&&a.jsxDEV("div",{className:"alert alert-danger py-8 px-12 mb-16",children:J},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:759,columnNumber:21},this),K&&a.jsxDEV("div",{className:"alert alert-success py-8 px-12 mb-16",children:K},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:760,columnNumber:18},this),a.jsxDEV("div",{className:"d-flex flex-wrap align-items-end justify-content-between gap-2 mb-3",children:a.jsxDEV("div",{className:"d-flex align-items-end gap-2 flex-wrap",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"form-label text-sm",children:"Search"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:765,columnNumber:17},this),a.jsxDEV("input",{className:"form-control",placeholder:"Filter by email, tenant, role",value:_,onChange:e=>Xe(e.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:766,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:764,columnNumber:15},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"form-label text-sm",children:"Role"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:774,columnNumber:17},this),a.jsxDEV("select",{className:"form-select",value:S,onChange:e=>we(e.target.value),children:[a.jsxDEV("option",{children:"All"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:776,columnNumber:19},this),a.jsxDEV("option",{children:"admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:777,columnNumber:19},this),a.jsxDEV("option",{children:"partner"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:778,columnNumber:19},this),a.jsxDEV("option",{children:"member"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:779,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:775,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:773,columnNumber:15},this),a.jsxDEV("div",{className:"align-self-end mb-1 d-flex gap-2",children:[a.jsxDEV("button",{className:"btn btn-outline-secondary",onClick:Je,disabled:O||z,title:"Create a checkpoint containing the current user role assignments",children:O?"Saving…":"Save Checkpoint"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:783,columnNumber:17},this),a.jsxDEV("button",{className:"btn btn-primary",onClick:Qe,disabled:z||O,title:"Publish all user role/tenant mappings to live appData.json",children:z?"Saving…":"Save All Changes"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:791,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:782,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:763,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:762,columnNumber:11},this),a.jsxDEV("div",{className:"table-responsive scroll-sm",children:[a.jsxDEV("table",{className:"table bordered-table sm-table mb-0 align-middle",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{children:"Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:807,columnNumber:19},this),a.jsxDEV("th",{style:{minWidth:160},children:"Tenant"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:808,columnNumber:19},this),a.jsxDEV("th",{children:"Role"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:809,columnNumber:19},this),a.jsxDEV("th",{children:"Vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:810,columnNumber:19},this),a.jsxDEV("th",{style:{minWidth:320},children:"Actions / Trace"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:811,columnNumber:19},this),a.jsxDEV("th",{style:{minWidth:320},children:"Feature Access"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:812,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:806,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:805,columnNumber:15},this),a.jsxDEV("tbody",{children:[F&&a.jsxDEV("tr",{children:a.jsxDEV("td",{colSpan:6,children:"Loading…"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:818,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:817,columnNumber:19},this),!F&&W.length===0&&a.jsxDEV("tr",{children:a.jsxDEV("td",{colSpan:6,children:"No users match your filters."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:823,columnNumber:21},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:822,columnNumber:19},this),!F&&W.map(e=>{const i=A(e.role),t=i==="admin",s=i==="partner",n=t?"badge bg-success-focus text-success-700":s?"badge bg-primary-subtle text-primary-700":"badge bg-neutral-200 text-neutral-900";return a.jsxDEV("tr",{children:[a.jsxDEV("td",{children:e.email},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:838,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("select",{className:"form-select form-select-sm w-auto bg-base border text-secondary-light rounded-pill",value:e.tenantId||"vendor",onChange:c=>Te(e,c.target.value),title:"Switch tenant",children:Y.map(c=>a.jsxDEV("option",{value:c.id,children:c.name||c.id},c.id,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:847,columnNumber:31},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:840,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:839,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("span",{className:n,children:i},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:854,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:853,columnNumber:25},this),a.jsxDEV("td",{children:[V[e.email]?a.jsxDEV("span",{className:"badge bg-primary-subtle text-primary-700",children:"Has vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:858,columnNumber:29},this):a.jsxDEV("span",{className:"badge bg-neutral-200 text-neutral-900",children:"No vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:860,columnNumber:29},this),u[e.email]&&a.jsxDEV("div",{className:"small text-secondary mt-1",children:u[e.email].uid?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{children:["uid: ",a.jsxDEV("code",{children:u[e.email].uid},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:867,columnNumber:42},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:866,columnNumber:35},this),a.jsxDEV("div",{children:["by email:"," ",u[e.email].viaEmail?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("code",{children:String(u[e.email].viaEmail.contactEmail||u[e.email].viaEmail.email||"")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:873,columnNumber:41},this)," ","(vendorId:"," ",a.jsxDEV("code",{children:String(u[e.email].viaEmail.id||u[e.email].viaEmail.vendorId)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:881,columnNumber:41},this),", tenant:"," ",a.jsxDEV("code",{children:String(u[e.email].viaEmail.tenantId||u[e.email].viaEmail._tenantId||"vendor")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:885,columnNumber:41},this),")"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:872,columnNumber:39},this):"—"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:869,columnNumber:35},this),a.jsxDEV("div",{children:["by ownerUid:"," ",u[e.email].viaUid?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("code",{children:String(u[e.email].viaUid.ownerUid||"")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:902,columnNumber:41},this)," (vendorId:"," ",a.jsxDEV("code",{children:String(u[e.email].viaUid.id||u[e.email].viaUid.vendorId)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:903,columnNumber:41},this),", tenant:"," ",a.jsxDEV("code",{children:String(u[e.email].viaUid.tenantId||u[e.email].viaUid._tenantId||"vendor")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:907,columnNumber:41},this),")"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:901,columnNumber:39},this):"—"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:898,columnNumber:35},this),a.jsxDEV("div",{children:["by id==uid:"," ",u[e.email].viaId?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("code",{children:String(u[e.email].viaId.id||u[e.email].viaId.vendorId)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:924,columnNumber:41},this)," ","(tenant:"," ",a.jsxDEV("code",{children:String(u[e.email].viaId.tenantId||u[e.email].viaId._tenantId||"vendor")},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:926,columnNumber:41},this),")"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:923,columnNumber:39},this):"—"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:920,columnNumber:35},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:865,columnNumber:33},this):a.jsxDEV("div",{children:[a.jsxDEV("span",{className:"me-1",children:"uid:"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:942,columnNumber:35},this),a.jsxDEV("span",{className:"text-secondary",children:"—"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:943,columnNumber:35},this),a.jsxDEV("div",{className:"text-secondary small mt-1",children:$?a.jsxDEV(a.Fragment,{children:"UID not linked. Use “Sync UID” to fetch from Firebase."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:946,columnNumber:39},this):a.jsxDEV(a.Fragment,{children:"UID lookup not available on this server."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:948,columnNumber:39},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:944,columnNumber:35},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:941,columnNumber:33},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:863,columnNumber:29},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:856,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("div",{className:"d-flex gap-2",children:[a.jsxDEV("button",{type:"button",className:t?"btn btn-outline-danger btn-sm":"btn btn-outline-success btn-sm",onClick:()=>Le(e),title:t?"Revoke admin":"Grant admin",children:t?"Revoke Admin":"Make Admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:958,columnNumber:29},this),a.jsxDEV("button",{type:"button",className:s?"btn btn-outline-danger btn-sm":"btn btn-outline-primary btn-sm",onClick:()=>Fe(e),title:s?"Revoke partner":"Grant partner",children:s?"Revoke Partner":"Make Partner"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:966,columnNumber:29},this),!V[e.email]&&a.jsxDEV("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>$e(e),title:"Create vendor profile for this user",children:"Create Vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:977,columnNumber:31},this),a.jsxDEV("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>_e(e),disabled:!!ae[e.email],title:"Trace vendor status via email, UID, or vendor id",children:ae[e.email]?"Tracing…":"Trace"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:986,columnNumber:29},this),a.jsxDEV("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>ze(e),disabled:!!te[e.email]||!$,title:$?"Lookup Firebase UID and link it to this user's vendor":"UID lookup is not available on this server",children:te[e.email]?"Syncing…":"Sync UID"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:995,columnNumber:29},this),a.jsxDEV("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>Be(e),title:"Delete user from Firebase and remove role mapping (keeps listings)",disabled:(I.currentUser?.email||"").toLowerCase()===(e.email||"").toLowerCase(),children:"Delete User"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1009,columnNumber:29},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:957,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:956,columnNumber:25},this)]},e.email,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:837,columnNumber:23},this)})]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:815,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:804,columnNumber:13},this),a.jsxDEV("div",{className:"mt-32",children:[a.jsxDEV("h6",{className:"mb-2",children:"Feature Access Matrix"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1028,columnNumber:11},this),a.jsxDEV("div",{className:"table-responsive scroll-sm",children:a.jsxDEV("table",{className:"table bordered-table sm-table mb-0 align-middle",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{children:"Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1033,columnNumber:19},this),Ae.map(e=>a.jsxDEV("th",{style:{minWidth:120},children:e.label},e.key,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1035,columnNumber:21},this))]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1032,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1031,columnNumber:15},this),a.jsxDEV("tbody",{children:W.map(e=>a.jsxDEV("tr",{children:[a.jsxDEV("td",{children:e.email},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1042,columnNumber:21},this),Ae.map(i=>a.jsxDEV("td",{className:"text-center",children:a.jsxDEV("input",{type:"checkbox",className:"form-check-input",checked:typeof C[e.email]?.[i.key]=="boolean"?C[e.email][i.key]:Se(e.role,i.key),disabled:!!ve[e.email],onChange:t=>Ie(e.email,i.key,t.target.checked)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1045,columnNumber:25},this)},i.key,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1044,columnNumber:23},this))]},e.email,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1041,columnNumber:19},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1039,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1030,columnNumber:13},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1029,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1027,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:803,columnNumber:11},this),a.jsxDEV("div",{className:"mt-24",children:[a.jsxDEV("h6",{className:"mb-2",children:"Onboard Admins"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1068,columnNumber:13},this),a.jsxDEV("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-2",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"form-label text-sm",children:"Search users"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1071,columnNumber:17},this),a.jsxDEV("input",{className:"form-control",placeholder:"Search by email or name",value:j,onChange:e=>Ve(e.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1072,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1070,columnNumber:15},this),a.jsxDEV("button",{className:"btn btn-outline-secondary",onClick:()=>y(!0),disabled:x,children:x?"Searching…":"Search"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1079,columnNumber:15},this),re&&a.jsxDEV("div",{className:"text-danger small",children:re},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1082,columnNumber:26},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1069,columnNumber:13},this),a.jsxDEV("div",{className:"table-responsive scroll-sm",children:[a.jsxDEV("table",{className:"table bordered-table sm-table mb-0 align-middle",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{children:"Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1088,columnNumber:21},this),a.jsxDEV("th",{children:"Name"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1089,columnNumber:21},this),a.jsxDEV("th",{children:"UID"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1090,columnNumber:21},this),a.jsxDEV("th",{children:"Tenant"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1091,columnNumber:21},this),a.jsxDEV("th",{children:"Action"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1092,columnNumber:21},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1087,columnNumber:19},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1086,columnNumber:17},this),a.jsxDEV("tbody",{children:[x&&a.jsxDEV("tr",{children:a.jsxDEV("td",{colSpan:5,children:"Loading…"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1098,columnNumber:23},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1097,columnNumber:21},this),!x&&U.length===0&&a.jsxDEV("tr",{children:a.jsxDEV("td",{colSpan:5,children:"No results"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1103,columnNumber:23},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1102,columnNumber:21},this),!x&&U.map(e=>a.jsxDEV("tr",{children:[a.jsxDEV("td",{children:e.email},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1109,columnNumber:25},this),a.jsxDEV("td",{children:e.displayName||"—"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1110,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("code",{children:e.uid},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1112,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1111,columnNumber:25},this),a.jsxDEV("td",{children:(()=>{const i=(e.email||"").toLowerCase(),t=B[i]||"vendor";return a.jsxDEV("select",{className:"form-select form-select-sm w-auto bg-base border text-secondary-light rounded-pill",value:t,onChange:s=>De(n=>({...n,[i]:s.target.value})),children:Y.map(s=>a.jsxDEV("option",{value:s.id,children:s.name||s.id},s.id,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1125,columnNumber:35},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1119,columnNumber:31},this)})()},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1114,columnNumber:25},this),a.jsxDEV("td",{children:a.jsxDEV("div",{className:"d-flex flex-wrap gap-2",children:[a.jsxDEV("button",{className:"btn btn-sm btn-outline-success",onClick:()=>We((e.email||"").toLowerCase()),disabled:Ne(e.email)==="admin",children:"Grant Admin"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1135,columnNumber:29},this),a.jsxDEV("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>qe((e.email||"").toLowerCase()),disabled:Ne(e.email)==="partner",children:"Grant Partner"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1142,columnNumber:29},this),Ge(e.email)&&a.jsxDEV("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>He((e.email||"").toLowerCase()),children:"Revoke Access"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1150,columnNumber:31},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1134,columnNumber:27},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1133,columnNumber:25},this)]},e.uid,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1108,columnNumber:23},this))]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1095,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1085,columnNumber:15},this),a.jsxDEV("div",{className:"d-flex align-items-center justify-content-between mt-2",children:[a.jsxDEV("div",{className:"text-secondary small",children:["Showing ",U.length," user(s)"]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1164,columnNumber:17},this),a.jsxDEV("div",{className:"d-flex align-items-center gap-2",children:[a.jsxDEV("label",{className:"text-sm",children:"Page size"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1166,columnNumber:19},this),a.jsxDEV("select",{className:"form-select form-select-sm w-auto",value:w,onChange:e=>je(Number(e.target.value)||100),children:[50,100,200,500,1e3].map(e=>a.jsxDEV("option",{value:e,children:e},e,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1173,columnNumber:23},this))},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1167,columnNumber:19},this),a.jsxDEV("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>y(!0),disabled:x,children:"Refresh"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1178,columnNumber:19},this),a.jsxDEV("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>y(!1),disabled:x||!k,children:x?"Loading…":k?"Load more":"End"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1181,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1165,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1163,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1084,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:1067,columnNumber:11},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:729,columnNumber:9},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:725,columnNumber:7},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/components/UserRoleManagement.tsx",lineNumber:724,columnNumber:5},this)}function ra(){return a.jsxDEV(Ye,{children:[a.jsxDEV(Ze,{title:"User Role Management"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/UserRoleManagementPage.tsx",lineNumber:8,columnNumber:7},this),a.jsxDEV(ea,{},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/UserRoleManagementPage.tsx",lineNumber:9,columnNumber:7},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/UserRoleManagementPage.tsx",lineNumber:7,columnNumber:5},this)}export{ra as default};
