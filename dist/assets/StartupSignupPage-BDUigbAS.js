import{j as e,c as o,w as x,a as P}from"./index-DJJlGgdb.js";import{b as S,u as v,r as c,L as A}from"./vendor-C0neu5ZX.js";import{p as k,j as y,u as E}from"./firebase-C3VX9oMN.js";import"./utils-B2rxisVD.js";function X(){const d=S(),{search:h}=v(),b=new URLSearchParams(h).get("next")||"/dashboard",[s,f]=c.useState({name:"",email:"",password:"",agree:!1}),[p,m]=c.useState(!1),[n,r]=c.useState("");function l(a,i){f(t=>({...t,[a]:i}))}async function g(a){try{await P.post("/api/users",{email:a,tenantId:"basic",role:"member"})}catch{}}async function N(a){if(a.preventDefault(),r(""),!s.agree){r("Please agree to the Terms and Privacy Policy.");return}m(!0);try{let i;try{i=(await k(o,s.email,s.password)).user}catch(u){if(u?.code==="auth/email-already-in-use")i=(await y(o,s.email,s.password)).user;else throw u}if(s.name)try{await E(i,{displayName:s.name})}catch{}const t=(i.email||s.email).toLowerCase();sessionStorage.setItem("userEmail",t),sessionStorage.setItem("role","member"),sessionStorage.setItem("tenantId","basic"),await g(t);try{await x({action:"STARTUP_SIGNUP",userEmail:t,targetType:"user"})}catch{}d(b,{replace:!0})}catch(i){const t=i?.code||"";r(t==="auth/weak-password"?"Password is too weak (min 8 chars).":i?.message||"Sign up failed")}finally{m(!1)}}return e.jsxDEV("div",{className:"container py-4",style:{maxWidth:720},children:[e.jsxDEV("h1",{className:"h3 mb-2",children:"Join as a Startup"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:84,columnNumber:7},this),e.jsxDEV("p",{className:"text-secondary",children:"Create an account to access your dashboard. You can upgrade anytime by signing up as a vendor to list services and gain more privileges."},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:85,columnNumber:7},this),n&&e.jsxDEV("div",{className:"alert alert-danger",children:n},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:90,columnNumber:15},this),e.jsxDEV("div",{className:"card",children:e.jsxDEV("div",{className:"card-body",children:e.jsxDEV("form",{onSubmit:N,children:[e.jsxDEV("div",{className:"row g-3",children:[e.jsxDEV("div",{className:"col-md-6",children:[e.jsxDEV("label",{className:"form-label",children:"Your name or startup name"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:97,columnNumber:17},this),e.jsxDEV("input",{className:"form-control",value:s.name,onChange:a=>l("name",a.target.value)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:98,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:96,columnNumber:15},this),e.jsxDEV("div",{className:"col-md-6",children:[e.jsxDEV("label",{className:"form-label",children:"Email"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:101,columnNumber:17},this),e.jsxDEV("input",{type:"email",className:"form-control",value:s.email,onChange:a=>l("email",a.target.value),required:!0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:102,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:100,columnNumber:15},this),e.jsxDEV("div",{className:"col-md-6",children:[e.jsxDEV("label",{className:"form-label",children:"Password"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:105,columnNumber:17},this),e.jsxDEV("input",{type:"password",className:"form-control",value:s.password,onChange:a=>l("password",a.target.value),required:!0},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:106,columnNumber:17},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:104,columnNumber:15},this),e.jsxDEV("div",{className:"col-md-6 d-flex align-items-end",children:e.jsxDEV("div",{className:"form-check",children:[e.jsxDEV("input",{id:"agree",className:"form-check-input",type:"checkbox",checked:s.agree,onChange:a=>l("agree",a.target.checked)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:110,columnNumber:19},this),e.jsxDEV("label",{htmlFor:"agree",className:"form-check-label ms-2",children:"I agree to the Terms & Privacy"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:111,columnNumber:19},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:109,columnNumber:17},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:108,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:95,columnNumber:13},this),e.jsxDEV("div",{className:"d-flex gap-2 mt-3",children:[e.jsxDEV("button",{className:"btn rounded-pill text-primary-50 hover-text-primary-200 bg-primary-500 bg-hover-primary-800 radius-8 px-12 py-6",disabled:p,children:p?"Creatingâ€¦":"Create account"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:116,columnNumber:15},this),e.jsxDEV(A,{to:"/signup/vendor",className:"btn rounded-pill border text-neutral-500 border-neutral-700 radius-8 px-12 py-6 bg-hover-primary-700 text-hover-white",children:"Become a Vendor"},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:117,columnNumber:15},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:115,columnNumber:13},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:94,columnNumber:11},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:93,columnNumber:9},this)},void 0,!1,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:92,columnNumber:7},this)]},void 0,!0,{fileName:"/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/src/pages/StartupSignupPage.tsx",lineNumber:83,columnNumber:5},this)}export{X as default};
