🔑 Firebase service account found at: /Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/serviceAccountKey.json
✅ Firestore data store initialized
SCDM backend running on http://127.0.0.1:5055
Live appData.json: /Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/backend/appData.json
Snapshots dir:     /Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/backend/secrets/lms_snapshots
[Replicator] appData.json -> src/data replicated at 2025-10-15T08:45:02.826Z
🔑 Firebase Auth Check: { path: '/grant', method: 'POST', hasAuth: true, tokenLength: 948 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔑 Firebase Auth Check: { path: '/grant', method: 'POST', hasAuth: true, tokenLength: 948 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
📥 Loaded 2 bookings
📥 Loaded 7 cohorts
📥 Loaded 5 events
📥 Loaded 6 forumThreads
📥 Loaded 6 jobs
📥 Loaded 3 mentorshipSessions
📥 Loaded 19 messageThreads
📥 Loaded 19 services
📥 Loaded 10 leads
📥 Loaded 14 startups
📥 Loaded 4 vendors
📥 Loaded 1 companies
📥 Loaded 1 profiles
📥 Loaded 7 users
📥 Loaded 1 tenants
📥 Loaded 12 subscriptions
📥 Loaded 5 wallets
💳 Loaded 2 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[WALLET] Saving grant draft type: object false
[dataStore] Saving to Firestore (FIRESTORE-ONLY MODE)...
💾 Saving data to Firestore...
✅ Data saved to Firestore
💾 Saving backup to file...
✅ Data saved successfully
[dataStore] ✅ Successfully saved to Firestore
[0mPOST /api/wallets/grant [32m200[0m 2454.128 ms - 1129[0m
[Replicator] appData.json -> src/data replicated at 2025-10-15T08:46:02.826Z
🔑 Firebase Auth Check: { path: '/', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
[0mGET /api/messages?t=1760518015006 [32m200[0m 5.980 ms - 118[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
🔑 Firebase Auth Check: { path: '/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔑 Firebase Auth Check: { path: '/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
[0mGET /api/lms/live [32m200[0m 13.221 ms - 108096[0m
🔑 Firebase Auth Check: { path: '/', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
[Messages] Manual refresh requested, reloaded from disk
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
[0mGET /api/messages?t=1760518015547&force=1 [32m200[0m 1.384 ms - 117[0m
[0mGET /api/lms/live [32m200[0m 2.571 ms - 108096[0m
📥 Loaded 2 bookings
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
[0mPOST /api/audit-logs [32m201[0m 12.130 ms - 290[0m
📥 Loaded 2 bookings
📥 Loaded 2 bookings
📥 Loaded 2 bookings
📥 Loaded 7 cohorts
📥 Loaded 2 bookings
📥 Loaded 5 events
📥 Loaded 2 bookings
📥 Loaded 7 cohorts
📥 Loaded 7 cohorts
📥 Loaded 2 bookings
📥 Loaded 7 cohorts
📥 Loaded 7 cohorts
📥 Loaded 2 bookings
📥 Loaded 6 forumThreads
📥 Loaded 7 cohorts
📥 Loaded 5 events
📥 Loaded 7 cohorts
📥 Loaded 5 events
📥 Loaded 5 events
📥 Loaded 5 events
📥 Loaded 6 jobs
📥 Loaded 7 cohorts
📥 Loaded 5 events
📥 Loaded 6 forumThreads
📥 Loaded 5 events
📥 Loaded 6 forumThreads
📥 Loaded 6 forumThreads
📥 Loaded 6 forumThreads
📥 Loaded 5 events
📥 Loaded 3 mentorshipSessions
📥 Loaded 6 forumThreads
📥 Loaded 6 jobs
📥 Loaded 6 jobs
📥 Loaded 6 forumThreads
📥 Loaded 6 jobs
📥 Loaded 6 jobs
📥 Loaded 19 messageThreads
📥 Loaded 6 forumThreads
📥 Loaded 6 jobs
📥 Loaded 3 mentorshipSessions
📥 Loaded 3 mentorshipSessions
📥 Loaded 3 mentorshipSessions
📥 Loaded 6 jobs
📥 Loaded 3 mentorshipSessions
📥 Loaded 19 services
📥 Loaded 6 jobs
📥 Loaded 3 mentorshipSessions
📥 Loaded 19 messageThreads
📥 Loaded 19 messageThreads
📥 Loaded 3 mentorshipSessions
📥 Loaded 19 messageThreads
📥 Loaded 19 messageThreads
📥 Loaded 10 leads
📥 Loaded 3 mentorshipSessions
📥 Loaded 19 messageThreads
📥 Loaded 19 services
📥 Loaded 19 services
📥 Loaded 19 messageThreads
📥 Loaded 19 services
📥 Loaded 19 services
📥 Loaded 14 startups
📥 Loaded 19 services
📥 Loaded 19 services
📥 Loaded 10 leads
📥 Loaded 10 leads
📥 Loaded 10 leads
📥 Loaded 10 leads
📥 Loaded 19 messageThreads
📥 Loaded 4 vendors
📥 Loaded 14 startups
📥 Loaded 1 companies
📥 Loaded 4 vendors
📥 Loaded 1 companies
📥 Loaded 10 leads
📥 Loaded 1 profiles
📥 Loaded 10 leads
📥 Loaded 1 profiles
📥 Loaded 14 startups
📥 Loaded 14 startups
📥 Loaded 14 startups
📥 Loaded 19 services
📥 Loaded 14 startups
📥 Loaded 7 users
📥 Loaded 14 startups
📥 Loaded 7 users
📥 Loaded 4 vendors
📥 Loaded 4 vendors
📥 Loaded 4 vendors
📥 Loaded 10 leads
📥 Loaded 1 tenants
📥 Loaded 4 vendors
📥 Loaded 1 companies
📥 Loaded 4 vendors
📥 Loaded 1 tenants
📥 Loaded 1 companies
📥 Loaded 1 companies
📥 Loaded 14 startups
📥 Loaded 12 subscriptions
📥 Loaded 1 companies
📥 Loaded 1 profiles
📥 Loaded 1 companies
📥 Loaded 1 profiles
📥 Loaded 12 subscriptions
📥 Loaded 1 profiles
📥 Loaded 4 vendors
📥 Loaded 5 wallets
📥 Loaded 1 profiles
📥 Loaded 1 profiles
📥 Loaded 7 users
📥 Loaded 5 wallets
📥 Loaded 7 users
📥 Loaded 7 users
📥 Loaded 1 companies
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
📥 Loaded 1 tenants
📥 Loaded 7 users
📥 Loaded 7 users
📥 Loaded 1 tenants
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
📥 Loaded 1 tenants
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
📥 Loaded 1 profiles
📥 Loaded 12 subscriptions
📥 Loaded 1 tenants
📥 Loaded 1 tenants
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
📥 Loaded 12 subscriptions
📥 Loaded 12 subscriptions
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
📥 Loaded 7 users
📥 Loaded 5 wallets
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
📥 Loaded 12 subscriptions
📥 Loaded 5 wallets
📥 Loaded 5 wallets
📥 Loaded 12 subscriptions
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
📥 Loaded 1 tenants
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
📥 Loaded 5 wallets
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/tenants [32m200[0m 1102.882 ms - 125[0m
📥 Loaded 5 wallets
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
📥 Loaded 12 subscriptions
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
📥 Loaded 5 wallets
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/wallets/me [36m304[0m 1171.346 ms - -[0m
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/data/vendors [32m200[0m 1183.234 ms - 1411[0m
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760517932, _nanoseconds: 660000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 1395.814 ms - -[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760517932, _nanoseconds: 660000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 0.926 ms - -[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760517932, _nanoseconds: 660000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 0.763 ms - -[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760517932, _nanoseconds: 660000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 0.735 ms - -[0m
🔑 Firebase Auth Check: { path: '/all', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
🔑 Firebase Auth Check: {
  path: '/admin/transactions',
  method: 'GET',
  hasAuth: true,
  tokenLength: 950
}
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔑 Firebase Auth Check: {
  path: '/admin/transactions',
  method: 'GET',
  hasAuth: true,
  tokenLength: 950
}
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/wallets/admin/transactions?page=1&limit=20 [32m200[0m 1.426 ms - 1681[0m
[0mGET /api/users/all?search=&pageSize=50 [36m304[0m 1027.256 ms - -[0m
🔑 Firebase Auth Check: {
  path: '/wallet/users',
  method: 'GET',
  hasAuth: true,
  tokenLength: 950
}
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/admin/wallet/users [32m200[0m 16.986 ms - 6700[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
📥 Loaded 2 bookings
📥 Loaded 7 cohorts
📥 Loaded 5 events
📥 Loaded 6 forumThreads
📥 Loaded 6 jobs
📥 Loaded 3 mentorshipSessions
📥 Loaded 19 messageThreads
📥 Loaded 19 services
📥 Loaded 10 leads
📥 Loaded 14 startups
📥 Loaded 4 vendors
📥 Loaded 1 companies
📥 Loaded 1 profiles
📥 Loaded 7 users
📥 Loaded 1 tenants
📥 Loaded 12 subscriptions
📥 Loaded 5 wallets
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760517932, _nanoseconds: 660000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 412.820 ms - -[0m
🔑 Firebase Auth Check: { path: '/', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/wallets [32m200[0m 2.943 ms - 781[0m
🔑 Firebase Auth Check: {
  path: '/admin/debug/wallets',
  method: 'GET',
  hasAuth: true,
  tokenLength: 950
}
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔑 Firebase Auth Check: {
  path: '/admin/debug/wallets',
  method: 'GET',
  hasAuth: true,
  tokenLength: 950
}
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/wallets/admin/debug/wallets [32m200[0m 3.293 ms - 1497[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760517932, _nanoseconds: 660000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 2.082 ms - -[0m
🔑 Firebase Auth Check: {
  path: '/admin/transactions',
  method: 'GET',
  hasAuth: true,
  tokenLength: 950
}
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔑 Firebase Auth Check: {
  path: '/admin/transactions',
  method: 'GET',
  hasAuth: true,
  tokenLength: 950
}
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/wallets/admin/transactions?limit=10 [32m200[0m 2.518 ms - 1681[0m
[0mGET /api/health [32m200[0m 0.502 ms - 47[0m
[0mGET /api/health [32m200[0m 0.173 ms - 47[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760517932, _nanoseconds: 660000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 1.072 ms - -[0m
🔑 Firebase Auth Check: {
  path: '/admin/debug/wallets',
  method: 'GET',
  hasAuth: true,
  tokenLength: 950
}
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔑 Firebase Auth Check: {
  path: '/admin/debug/wallets',
  method: 'GET',
  hasAuth: true,
  tokenLength: 950
}
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/wallets/admin/debug/wallets [36m304[0m 1.536 ms - -[0m
🔑 Firebase Auth Check: { path: '/grant', method: 'POST', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔑 Firebase Auth Check: { path: '/grant', method: 'POST', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
📥 Loaded 2 bookings
📥 Loaded 7 cohorts
📥 Loaded 5 events
📥 Loaded 6 forumThreads
📥 Loaded 6 jobs
📥 Loaded 3 mentorshipSessions
📥 Loaded 19 messageThreads
📥 Loaded 19 services
📥 Loaded 10 leads
📥 Loaded 14 startups
📥 Loaded 4 vendors
📥 Loaded 1 companies
📥 Loaded 1 profiles
📥 Loaded 7 users
📥 Loaded 1 tenants
📥 Loaded 12 subscriptions
📥 Loaded 5 wallets
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[WALLET] Saving grant draft type: object false
[dataStore] Saving to Firestore (FIRESTORE-ONLY MODE)...
💾 Saving data to Firestore...
✅ Data saved to Firestore
💾 Saving backup to file...
✅ Data saved successfully
[dataStore] ✅ Successfully saved to Firestore
[0mPOST /api/wallets/grant [32m200[0m 850.432 ms - 722[0m
🔑 Firebase Auth Check: { path: '/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔑 Firebase Auth Check: { path: '/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/wallets/me [36m304[0m 1.848 ms - -[0m
🔑 Firebase Auth Check: {
  path: '/wallet/users',
  method: 'GET',
  hasAuth: true,
  tokenLength: 950
}
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/admin/wallet/users [32m200[0m 1.688 ms - 6700[0m
🔑 Firebase Auth Check: { path: '/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔑 Firebase Auth Check: { path: '/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/wallets/me [36m304[0m 1.202 ms - -[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
📥 Loaded 2 bookings
📥 Loaded 7 cohorts
📥 Loaded 5 events
📥 Loaded 6 forumThreads
📥 Loaded 6 jobs
📥 Loaded 3 mentorshipSessions
📥 Loaded 19 messageThreads
📥 Loaded 19 services
📥 Loaded 10 leads
📥 Loaded 14 startups
📥 Loaded 4 vendors
📥 Loaded 1 companies
📥 Loaded 1 profiles
📥 Loaded 7 users
📥 Loaded 1 tenants
📥 Loaded 12 subscriptions
📥 Loaded 6 wallets
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518047, _nanoseconds: 922000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 433.084 ms - -[0m
🔑 Firebase Auth Check: {
  path: '/admin/transactions',
  method: 'GET',
  hasAuth: true,
  tokenLength: 950
}
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔑 Firebase Auth Check: {
  path: '/admin/transactions',
  method: 'GET',
  hasAuth: true,
  tokenLength: 950
}
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/wallets/admin/transactions?page=1&limit=20 [32m200[0m 2.415 ms - 2085[0m
[Replicator] appData.json -> src/data replicated at 2025-10-15T08:48:02.826Z
🔑 Firebase Auth Check: { path: '/', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[0mGET /api/messages?t=1760518106695 [33m429[0m 1.987 ms - 88[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
🔑 Firebase Auth Check: { path: '/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔑 Firebase Auth Check: { path: '/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
🔑 Firebase Auth Check: { path: '/', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
[Messages] Manual refresh requested, reloaded from disk
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
[0mGET /api/messages?t=1760518107286&force=1 [32m200[0m 1.549 ms - 117[0m
[0mGET /api/lms/live [32m200[0m 9.546 ms - 108581[0m
[0mGET /api/lms/live [32m200[0m 4.505 ms - 108581[0m
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
📥 Loaded 2 bookings
[0mPOST /api/audit-logs [32m201[0m 10.022 ms - 290[0m
📥 Loaded 2 bookings
📥 Loaded 2 bookings
📥 Loaded 2 bookings
📥 Loaded 2 bookings
📥 Loaded 2 bookings
📥 Loaded 7 cohorts
📥 Loaded 7 cohorts
📥 Loaded 7 cohorts
📥 Loaded 7 cohorts
📥 Loaded 7 cohorts
📥 Loaded 5 events
📥 Loaded 7 cohorts
📥 Loaded 5 events
📥 Loaded 5 events
📥 Loaded 6 forumThreads
📥 Loaded 5 events
📥 Loaded 5 events
📥 Loaded 5 events
📥 Loaded 6 forumThreads
📥 Loaded 6 forumThreads
📥 Loaded 6 forumThreads
📥 Loaded 6 jobs
📥 Loaded 6 forumThreads
📥 Loaded 6 forumThreads
📥 Loaded 6 jobs
📥 Loaded 6 jobs
📥 Loaded 6 jobs
📥 Loaded 6 jobs
📥 Loaded 3 mentorshipSessions
📥 Loaded 3 mentorshipSessions
📥 Loaded 3 mentorshipSessions
📥 Loaded 3 mentorshipSessions
📥 Loaded 3 mentorshipSessions
📥 Loaded 19 messageThreads
📥 Loaded 19 messageThreads
📥 Loaded 19 messageThreads
📥 Loaded 19 messageThreads
📥 Loaded 19 messageThreads
📥 Loaded 19 services
📥 Loaded 19 services
📥 Loaded 19 services
📥 Loaded 19 services
📥 Loaded 19 services
📥 Loaded 10 leads
📥 Loaded 10 leads
📥 Loaded 10 leads
📥 Loaded 10 leads
📥 Loaded 10 leads
📥 Loaded 14 startups
📥 Loaded 14 startups
📥 Loaded 14 startups
📥 Loaded 14 startups
📥 Loaded 14 startups
📥 Loaded 4 vendors
📥 Loaded 4 vendors
📥 Loaded 4 vendors
📥 Loaded 6 jobs
📥 Loaded 4 vendors
📥 Loaded 4 vendors
📥 Loaded 1 companies
📥 Loaded 1 companies
📥 Loaded 1 companies
📥 Loaded 1 companies
📥 Loaded 1 companies
📥 Loaded 1 profiles
📥 Loaded 3 mentorshipSessions
📥 Loaded 1 profiles
📥 Loaded 1 profiles
📥 Loaded 1 profiles
📥 Loaded 1 profiles
📥 Loaded 7 users
📥 Loaded 19 messageThreads
📥 Loaded 7 users
📥 Loaded 7 users
📥 Loaded 7 users
📥 Loaded 7 users
📥 Loaded 1 tenants
📥 Loaded 19 services
📥 Loaded 1 tenants
📥 Loaded 1 tenants
📥 Loaded 12 subscriptions
📥 Loaded 1 tenants
📥 Loaded 1 tenants
📥 Loaded 10 leads
📥 Loaded 12 subscriptions
📥 Loaded 12 subscriptions
📥 Loaded 6 wallets
📥 Loaded 12 subscriptions
📥 Loaded 12 subscriptions
📥 Loaded 14 startups
📥 Loaded 6 wallets
📥 Loaded 6 wallets
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
📥 Loaded 6 wallets
📥 Loaded 6 wallets
📥 Loaded 4 vendors
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
📥 Loaded 1 companies
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
📥 Loaded 1 profiles
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
📥 Loaded 7 users
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
📥 Loaded 1 tenants
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/tenants [32m200[0m 916.180 ms - 125[0m
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/wallets/me [36m304[0m 920.038 ms - -[0m
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
📥 Loaded 12 subscriptions
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518047, _nanoseconds: 922000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 949.885 ms - -[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518047, _nanoseconds: 922000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 0.900 ms - -[0m
📥 Loaded 6 wallets
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518047, _nanoseconds: 922000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 0.682 ms - -[0m
🔑 Firebase Auth Check: { path: '/all', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518047, _nanoseconds: 922000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 0.631 ms - -[0m
🔑 Firebase Auth Check: {
  path: '/admin/transactions',
  method: 'GET',
  hasAuth: true,
  tokenLength: 950
}
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔑 Firebase Auth Check: {
  path: '/admin/transactions',
  method: 'GET',
  hasAuth: true,
  tokenLength: 950
}
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/wallets/admin/transactions?page=1&limit=20 [36m304[0m 0.852 ms - -[0m
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
🔑 Firebase Auth Check: { path: '/', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[0mGET /api/messages?t=1760518106695 [33m429[0m 0.849 ms - 88[0m
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/data/vendors [32m200[0m 1024.916 ms - 1411[0m
[0mGET /api/users/all?search=&pageSize=50 [36m304[0m 517.903 ms - -[0m
🔑 Firebase Auth Check: {
  path: '/wallet/users',
  method: 'GET',
  hasAuth: true,
  tokenLength: 950
}
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/admin/wallet/users [32m200[0m 1.468 ms - 6700[0m
🔑 Firebase Auth Check: { path: '/grant', method: 'POST', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔑 Firebase Auth Check: { path: '/grant', method: 'POST', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
📥 Loaded 2 bookings
📥 Loaded 7 cohorts
📥 Loaded 5 events
📥 Loaded 6 forumThreads
📥 Loaded 6 jobs
📥 Loaded 3 mentorshipSessions
📥 Loaded 19 messageThreads
📥 Loaded 19 services
📥 Loaded 10 leads
📥 Loaded 14 startups
📥 Loaded 4 vendors
📥 Loaded 1 companies
📥 Loaded 1 profiles
📥 Loaded 7 users
📥 Loaded 1 tenants
📥 Loaded 12 subscriptions
📥 Loaded 6 wallets
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[WALLET] Saving grant draft type: object false
[dataStore] Saving to Firestore (FIRESTORE-ONLY MODE)...
💾 Saving data to Firestore...
✅ Data saved to Firestore
💾 Saving backup to file...
✅ Data saved successfully
[dataStore] ✅ Successfully saved to Firestore
[0mPOST /api/wallets/grant [32m200[0m 822.921 ms - 747[0m
🔑 Firebase Auth Check: { path: '/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔑 Firebase Auth Check: { path: '/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/wallets/me [36m304[0m 1.431 ms - -[0m
🔑 Firebase Auth Check: {
  path: '/wallet/users',
  method: 'GET',
  hasAuth: true,
  tokenLength: 950
}
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/admin/wallet/users [32m200[0m 1.080 ms - 6700[0m
🔑 Firebase Auth Check: { path: '/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔑 Firebase Auth Check: { path: '/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/wallets/me [36m304[0m 1.657 ms - -[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
📥 Loaded 2 bookings
📥 Loaded 7 cohorts
📥 Loaded 5 events
📥 Loaded 6 forumThreads
📥 Loaded 6 jobs
📥 Loaded 3 mentorshipSessions
📥 Loaded 19 messageThreads
📥 Loaded 19 services
📥 Loaded 10 leads
📥 Loaded 14 startups
📥 Loaded 4 vendors
📥 Loaded 1 companies
📥 Loaded 1 profiles
📥 Loaded 7 users
📥 Loaded 1 tenants
📥 Loaded 12 subscriptions
📥 Loaded 7 wallets
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 1 transactions for wallet vendor:duFghKRYhyRFUhlBRm66iMLKgh22
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518126, _nanoseconds: 38000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 456.963 ms - -[0m
🔑 Firebase Auth Check: {
  path: '/admin/transactions',
  method: 'GET',
  hasAuth: true,
  tokenLength: 950
}
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔑 Firebase Auth Check: {
  path: '/admin/transactions',
  method: 'GET',
  hasAuth: true,
  tokenLength: 950
}
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/wallets/admin/transactions?page=1&limit=20 [32m200[0m 2.560 ms - 2529[0m
[Replicator] appData.json -> src/data replicated at 2025-10-15T08:49:02.823Z
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
📥 Loaded 2 bookings
📥 Loaded 7 cohorts
📥 Loaded 5 events
📥 Loaded 6 forumThreads
📥 Loaded 6 jobs
📥 Loaded 3 mentorshipSessions
📥 Loaded 19 messageThreads
📥 Loaded 19 services
📥 Loaded 10 leads
📥 Loaded 14 startups
📥 Loaded 4 vendors
📥 Loaded 1 companies
📥 Loaded 1 profiles
📥 Loaded 7 users
📥 Loaded 1 tenants
📥 Loaded 12 subscriptions
📥 Loaded 7 wallets
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 1 transactions for wallet vendor:duFghKRYhyRFUhlBRm66iMLKgh22
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518126, _nanoseconds: 38000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 1038.822 ms - -[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518126, _nanoseconds: 38000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 3.468 ms - -[0m
[0mGET /api/lms/live [32m200[0m 2.763 ms - 109561[0m
[0mPOST /api/audit-logs [32m201[0m 7.986 ms - 304[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518126, _nanoseconds: 38000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 0.673 ms - -[0m
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/tenants [32m200[0m 0.148 ms - 124[0m
[0mGET /api/lms/live [32m200[0m 2.066 ms - 109561[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518126, _nanoseconds: 38000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 0.622 ms - -[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518126, _nanoseconds: 38000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 0.604 ms - -[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518126, _nanoseconds: 38000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 0.669 ms - -[0m
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/data/vendors [32m200[0m 0.557 ms - 1409[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518126, _nanoseconds: 38000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 0.633 ms - -[0m
🔑 Firebase Auth Check: {
  path: '/checkpoints',
  method: 'GET',
  hasAuth: true,
  tokenLength: 950
}
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
[0mGET /api/lms/checkpoints [32m200[0m 2.415 ms - 8662[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
📥 Loaded 2 bookings
📥 Loaded 7 cohorts
📥 Loaded 5 events
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
🔑 Firebase Auth Check: { path: '/mine', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
🔑 Firebase Auth Check: { path: '/mine', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
📥 Loaded 6 forumThreads
📥 Loaded 2 bookings
📥 Loaded 2 bookings
📥 Loaded 2 bookings
📥 Loaded 6 jobs
📥 Loaded 7 cohorts
📥 Loaded 7 cohorts
📥 Loaded 7 cohorts
📥 Loaded 3 mentorshipSessions
📥 Loaded 5 events
📥 Loaded 5 events
📥 Loaded 5 events
📥 Loaded 19 messageThreads
📥 Loaded 6 forumThreads
📥 Loaded 6 forumThreads
📥 Loaded 6 forumThreads
📥 Loaded 19 services
📥 Loaded 6 jobs
📥 Loaded 6 jobs
📥 Loaded 6 jobs
📥 Loaded 10 leads
📥 Loaded 3 mentorshipSessions
📥 Loaded 3 mentorshipSessions
📥 Loaded 19 messageThreads
📥 Loaded 14 startups
📥 Loaded 19 messageThreads
📥 Loaded 4 vendors
📥 Loaded 19 services
📥 Loaded 10 leads
📥 Loaded 14 startups
📥 Loaded 4 vendors
📥 Loaded 1 companies
📥 Loaded 1 profiles
📥 Loaded 7 users
📥 Loaded 3 mentorshipSessions
📥 Loaded 1 companies
📥 Loaded 19 services
📥 Loaded 1 tenants
📥 Loaded 19 messageThreads
📥 Loaded 1 profiles
📥 Loaded 10 leads
📥 Loaded 12 subscriptions
📥 Loaded 19 services
📥 Loaded 7 users
📥 Loaded 14 startups
📥 Loaded 7 wallets
📥 Loaded 10 leads
📥 Loaded 1 tenants
📥 Loaded 4 vendors
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
📥 Loaded 1 companies
📥 Loaded 14 startups
📥 Loaded 12 subscriptions
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
📥 Loaded 1 profiles
📥 Loaded 4 vendors
📥 Loaded 7 wallets
💳 Loaded 1 transactions for wallet vendor:duFghKRYhyRFUhlBRm66iMLKgh22
📥 Loaded 7 users
📥 Loaded 1 companies
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
📥 Loaded 1 tenants
📥 Loaded 1 profiles
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
📥 Loaded 12 subscriptions
📥 Loaded 7 users
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/data/services/mine [32m200[0m 411.447 ms - 198[0m
💳 Loaded 1 transactions for wallet vendor:duFghKRYhyRFUhlBRm66iMLKgh22
📥 Loaded 7 wallets
📥 Loaded 1 tenants
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
📥 Loaded 12 subscriptions
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
📥 Loaded 7 wallets
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518126, _nanoseconds: 38000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 558.569 ms - -[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518126, _nanoseconds: 38000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 1.320 ms - -[0m
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518126, _nanoseconds: 38000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 0.798 ms - -[0m
[0mGET /api/lms/live [32m200[0m 3.017 ms - 109561[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518126, _nanoseconds: 38000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 1.021 ms - -[0m
💳 Loaded 1 transactions for wallet vendor:duFghKRYhyRFUhlBRm66iMLKgh22
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518126, _nanoseconds: 38000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 0.729 ms - -[0m
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518126, _nanoseconds: 38000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 0.787 ms - -[0m
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
[0mPOST /api/audit-logs [32m201[0m 12.982 ms - 305[0m
🔑 Firebase Auth Check: { path: '/api/me', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
📋 /api/me - User lookup: {
  email: 'khulekani@22onsloane.co',
  foundInDB: true,
  role: 'admin',
  tenantId: '22onsloane',
  foundUserData: {
    id: 'j2U2NdpdIQPMJoHrktB0',
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    tenantId: '22onsloane',
    role: 'admin',
    photoURL: 'https://ui-avatars.com/api/?name=Khulekani+Magubane&background=7c3aed&color=fff',
    createdAt: '2024-01-15T10:00:00Z',
    lastLoginAt: '2025-01-28T08:30:00Z',
    _source: 'dataStore',
    displayName: 'Khulekani Mncube',
    _updatedAt: Timestamp { _seconds: 1760518126, _nanoseconds: 38000000 }
  },
  requestTenant: '22onsloane'
}
[0mGET /api/me [36m304[0m 0.698 ms - -[0m
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 1 transactions for wallet vendor:duFghKRYhyRFUhlBRm66iMLKgh22
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/tenants [36m304[0m 567.597 ms - -[0m
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/data/services/mine [36m304[0m 596.935 ms - -[0m
🔑 Firebase Auth Check: { path: '/mine', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/data/services/mine [36m304[0m 2.365 ms - -[0m
🔑 Firebase Auth Check: { path: '/', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
[0mGET /api/messages?t=1760518346692 [32m200[0m 3.334 ms - 118[0m
📥 Loaded 2 bookings
📥 Loaded 2 bookings
📥 Loaded 7 cohorts
📥 Loaded 7 cohorts
📥 Loaded 5 events
📥 Loaded 5 events
📥 Loaded 6 forumThreads
📥 Loaded 6 forumThreads
📥 Loaded 6 jobs
📥 Loaded 6 jobs
📥 Loaded 3 mentorshipSessions
📥 Loaded 3 mentorshipSessions
📥 Loaded 19 messageThreads
📥 Loaded 19 messageThreads
📥 Loaded 19 services
📥 Loaded 19 services
📥 Loaded 10 leads
📥 Loaded 14 startups
📥 Loaded 4 vendors
📥 Loaded 1 companies
📥 Loaded 1 profiles
📥 Loaded 7 users
📥 Loaded 1 tenants
📥 Loaded 12 subscriptions
📥 Loaded 7 wallets
📥 Loaded 10 leads
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
📥 Loaded 14 startups
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
📥 Loaded 4 vendors
💳 Loaded 1 transactions for wallet vendor:duFghKRYhyRFUhlBRm66iMLKgh22
📥 Loaded 1 companies
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
📥 Loaded 1 profiles
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
📥 Loaded 7 users
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
📥 Loaded 1 tenants
📥 Loaded 12 subscriptions
📥 Loaded 7 wallets
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 1 transactions for wallet vendor:duFghKRYhyRFUhlBRm66iMLKgh22
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
[0mGET /api/lms/live [32m200[0m 1.870 ms - 109561[0m
🔑 Firebase Auth Check: { path: '/', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
[0mGET /api/messages?t=1760518586779 [32m200[0m 6.304 ms - 118[0m
📥 Loaded 2 bookings
📥 Loaded 2 bookings
📥 Loaded 7 cohorts
📥 Loaded 7 cohorts
📥 Loaded 5 events
📥 Loaded 5 events
📥 Loaded 6 forumThreads
📥 Loaded 6 jobs
📥 Loaded 3 mentorshipSessions
📥 Loaded 19 messageThreads
📥 Loaded 19 services
📥 Loaded 6 forumThreads
📥 Loaded 10 leads
📥 Loaded 14 startups
📥 Loaded 6 jobs
📥 Loaded 3 mentorshipSessions
📥 Loaded 4 vendors
📥 Loaded 19 messageThreads
📥 Loaded 1 companies
📥 Loaded 1 profiles
📥 Loaded 19 services
📥 Loaded 7 users
📥 Loaded 10 leads
📥 Loaded 1 tenants
📥 Loaded 14 startups
📥 Loaded 12 subscriptions
📥 Loaded 7 wallets
📥 Loaded 4 vendors
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
📥 Loaded 1 companies
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
📥 Loaded 1 profiles
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
📥 Loaded 7 users
📥 Loaded 1 tenants
💳 Loaded 1 transactions for wallet vendor:duFghKRYhyRFUhlBRm66iMLKgh22
📥 Loaded 12 subscriptions
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
📥 Loaded 7 wallets
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 1 transactions for wallet vendor:duFghKRYhyRFUhlBRm66iMLKgh22
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
