🔑 Firebase service account found at: /Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/serviceAccountKey.json
✅ Firestore data store initialized
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
📥 Loaded 2 bookings
📥 Loaded 7 cohorts
📥 Loaded 5 events
📥 Loaded 6 forumThreads
📥 Loaded 6 jobs
📥 Loaded 3 mentorshipSessions
📥 Loaded 19 messageThreads
📥 Loaded 20 services
📥 Loaded 10 leads
📥 Loaded 14 startups
📥 Loaded 4 vendors
📥 Loaded 1 companies
📥 Loaded 1 profiles
📥 Loaded 7 users
📥 Loaded 1 tenants
📥 Loaded 12 subscriptions
📥 Loaded 9 wallets
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 5 transactions for wallet vendor:93cUbdo4BkXnVQrXQBgJVDapYdS2
💳 Loaded 1 transactions for wallet vendor:duFghKRYhyRFUhlBRm66iMLKgh22
💳 Loaded 14 transactions for wallet vendor:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
SCDM backend running on http://127.0.0.1:5055
Live appData.json: /Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/backend/appData.json
Snapshots dir:     /Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/backend/secrets/lms_snapshots
[Replicator] appData.json -> src/data replicated at 2025-10-16T12:22:21.695Z
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
📥 Loaded 2 bookings
📥 Loaded 7 cohorts
📥 Loaded 5 events
📥 Loaded 6 forumThreads
📥 Loaded 6 jobs
📥 Loaded 3 mentorshipSessions
📥 Loaded 19 messageThreads
📥 Loaded 20 services
📥 Loaded 10 leads
📥 Loaded 14 startups
📥 Loaded 4 vendors
📥 Loaded 1 companies
📥 Loaded 1 profiles
📥 Loaded 7 users
📥 Loaded 1 tenants
📥 Loaded 12 subscriptions
📥 Loaded 9 wallets
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 5 transactions for wallet vendor:93cUbdo4BkXnVQrXQBgJVDapYdS2
💳 Loaded 1 transactions for wallet vendor:duFghKRYhyRFUhlBRm66iMLKgh22
💳 Loaded 14 transactions for wallet vendor:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
[0mGET /api/lms/live [32m200[0m 678.197 ms - 117788[0m
🔑 Firebase Auth Check: { path: '/', method: 'GET', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
🔐 isAdminForTenant check: {
  email: 'khulekani@22onsloane.co',
  requestTenant: '22onsloane',
  userFromReq: {
    uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
    email: 'khulekani@22onsloane.co',
    roles: []
  },
  tenantFromReq: { id: '22onsloane' }
}
[dataStore] Loading from Firestore (FIRESTORE-ONLY MODE)...
📡 Loading data from Firestore...
[0mGET /api/messages?t=1760617366108 [32m200[0m 283.965 ms - 118[0m
📥 Loaded 2 bookings
📥 Loaded 2 bookings
📥 Loaded 7 cohorts
📥 Loaded 7 cohorts
📥 Loaded 5 events
📥 Loaded 5 events
📥 Loaded 6 forumThreads
📥 Loaded 6 forumThreads
📥 Loaded 6 jobs
📥 Loaded 6 jobs
📥 Loaded 3 mentorshipSessions
📥 Loaded 3 mentorshipSessions
📥 Loaded 19 messageThreads
📥 Loaded 19 messageThreads
📥 Loaded 20 services
📥 Loaded 20 services
📥 Loaded 10 leads
📥 Loaded 10 leads
📥 Loaded 14 startups
📥 Loaded 14 startups
📥 Loaded 4 vendors
📥 Loaded 4 vendors
📥 Loaded 1 companies
📥 Loaded 1 companies
📥 Loaded 1 profiles
📥 Loaded 1 profiles
📥 Loaded 7 users
📥 Loaded 7 users
📥 Loaded 1 tenants
📥 Loaded 1 tenants
📥 Loaded 12 subscriptions
📥 Loaded 12 subscriptions
📥 Loaded 9 wallets
📥 Loaded 9 wallets
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 3 transactions for wallet 22onsloane:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
💳 Loaded 5 transactions for wallet vendor:93cUbdo4BkXnVQrXQBgJVDapYdS2
💳 Loaded 5 transactions for wallet vendor:93cUbdo4BkXnVQrXQBgJVDapYdS2
💳 Loaded 1 transactions for wallet vendor:duFghKRYhyRFUhlBRm66iMLKgh22
💳 Loaded 1 transactions for wallet vendor:duFghKRYhyRFUhlBRm66iMLKgh22
💳 Loaded 14 transactions for wallet vendor:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 14 transactions for wallet vendor:tAsFySNxnsW4a7L43wMRVLkJAqE3
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
💳 Loaded 1 transactions for wallet vendor:zinhlesloane@gmail.com
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_O8bBPBKniiWbuSBXrMgBGJMPfoO2_persistent
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
🔐 Found user: {
  email: 'khulekani@22onsloane.co',
  tenantId: '22onsloane',
  role: 'admin'
}
🔐 Admin check: {
  role: 'admin',
  userTenant: '22onsloane',
  targetTenant: '22onsloane',
  isAdmin: true,
  tenantMatch: true
}
💳 Loaded 0 transactions for wallet wallet_WcdBgaT4hEMXb3DScC1OE8NDKJ62_persistent
✅ All data loaded from Firestore
[dataStore] ✅ Successfully loaded from Firestore
🔑 Firebase Auth Check: { path: '/service', method: 'POST', hasAuth: true, tokenLength: 950 }
🔑 Firebase Auth Success: {
  uid: 'tAsFySNxnsW4a7L43wMRVLkJAqE3',
  email: 'khulekani@22onsloane.co'
}
[0mPOST /api/subscriptions/service [32m201[0m 2.587 ms - 4[0m
file:///Applications/XAMPP/xamppfiles/htdocs/firebase%20sloane%20hub/ui/marketplace-ui-react/backend/utils/hybridDataStore.js:30
    throw new Error('Invalid data parameter: must be an object');
          ^

Error: Invalid data parameter: must be an object
    at saveData (file:///Applications/XAMPP/xamppfiles/htdocs/firebase%20sloane%20hub/ui/marketplace-ui-react/backend/utils/hybridDataStore.js:30:11)
    at file:///Applications/XAMPP/xamppfiles/htdocs/firebase%20sloane%20hub/ui/marketplace-ui-react/backend/routes/subscriptions.js:202:5
    at Layer.handle [as handle_request] (/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Applications/XAMPP/xamppfiles/htdocs/firebase sloane hub/ui/marketplace-ui-react/backend/node_modules/express/lib/router/route.js:149:13)
    at firebaseAuthRequired (file:///Applications/XAMPP/xamppfiles/htdocs/firebase%20sloane%20hub/ui/marketplace-ui-react/backend/middleware/authFirebase.js:61:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)

Node.js v24.4.0
