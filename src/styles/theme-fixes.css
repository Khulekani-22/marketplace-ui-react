/* ---------- THEME POLISH (light + dark) ---------- */

:root,
[data-theme="light"] {
  --bg-base: var(--surface-0);
  --bg-elev-1: var(--surface-1);
  --text: var(--text-body);
  --muted: var(--text-muted);
  --border: var(--border);
  --input-bg: var(--surface-0);
  --input-placeholder: rgba(102, 104, 106, 0.7);
  --ring: rgba(197, 223, 148, 0.32);
}

[data-theme="dark"] {
  --bg-base: rgba(12, 18, 24, 0.92);
  --bg-elev-1: var(--surface-1);
  --text: var(--text-body);
  --muted: var(--text-muted);
  --border: var(--border);
  --input-bg: rgba(17, 24, 32, 0.92);
  --input-placeholder: rgba(154, 166, 181, 0.75);
  --ring: rgba(47, 143, 114, 0.35);
}

/* Page + elevated surfaces */
[data-theme="dark"] body {
  color: var(--text);
  background: var(--body-bg);
}
[data-theme="dark"] .bg-body,
[data-theme="dark"] .bg-white {
  background-color: var(--bg-base) !important;
}
[data-theme="dark"] .card,
[data-theme="dark"] .modal-content,
[data-theme="dark"] .dropdown-menu,
[data-theme="dark"] .offcanvas,
[data-theme="dark"] .toast {
  background-color: var(--bg-elev-1) !important;
  color: var(--text);
  border-color: var(--border) !important;
  box-shadow: 0 26px 64px rgba(5, 9, 14, 0.45);
}

/* Card headers / footers */
[data-theme="dark"] .card-header,
[data-theme="dark"] .card-footer {
  background-color: rgba(23, 32, 42, 0.8) !important;
  border-color: var(--border) !important;
}

/* Borders & separators */
[data-theme="dark"] .border,
[data-theme="dark"] .table > :not(caption) > * > * {
  border-color: var(--border) !important;
}
[data-theme="dark"] hr,
[data-theme="dark"] .dropdown-divider {
  border-color: var(--border) !important;
}

/* Inputs */
[data-theme="dark"] .form-control,
[data-theme="dark"] .form-select,
[data-theme="dark"] .form-control:disabled,
[data-theme="dark"] .form-select:disabled,
[data-theme="dark"] textarea.form-control {
  background-color: var(--input-bg) !important;
  color: var(--text) !important;
  border-color: var(--border) !important;
}
[data-theme="dark"] .form-control::placeholder,
[data-theme="dark"] textarea::placeholder {
  color: var(--input-placeholder) !important;
}
[data-theme="dark"] .form-control:focus,
[data-theme="dark"] .form-select:focus,
[data-theme="dark"] textarea:focus {
  border-color: var(--accent-green) !important;
  box-shadow: var(--focus-ring);
}

/* Search bar in header */
[data-theme="dark"] .navbar-search,
[data-theme="dark"] .navbar-search input {
  background-color: rgba(19, 27, 36, 0.92) !important;
  border-color: var(--border) !important;
  color: var(--text) !important;
}
[data-theme="dark"] .navbar-search input::placeholder {
  color: var(--input-placeholder) !important;
}

/* Buttons */
[data-theme="dark"] .btn-outline-secondary,
[data-theme="dark"] .btn-outline-light {
  color: var(--text) !important;
  border-color: var(--border) !important;
}
[data-theme="dark"] .btn-outline-secondary:hover,
[data-theme="dark"] .btn-outline-light:hover {
  background-color: rgba(47, 74, 98, 0.28) !important;
}
[data-theme="dark"] .btn-outline-success {
  border-color: var(--border) !important;
  color: var(--text-strong) !important;
}
[data-theme="dark"] .btn-outline-success:hover {
  background-color: rgba(47, 143, 114, 0.18) !important;
  border-color: var(--accent-green) !important;
  color: #0c140d !important;
}
[data-theme="dark"] .btn-light {
  background-color: rgba(47, 74, 98, 0.24) !important;
  color: var(--text-strong) !important;
  border-color: var(--border) !important;
}

/* Alerts */
[data-theme="dark"] .alert {
  border-color: var(--border);
  color: var(--text);
  background-color: rgba(16, 24, 32, 0.85);
}
[data-theme="dark"] .alert-warning {
  background-color: rgba(247, 138, 63, 0.16);
  border-color: rgba(247, 138, 63, 0.35);
  color: var(--text-strong);
}
[data-theme="dark"] .alert-danger {
  background-color: rgba(239, 68, 68, 0.16);
  border-color: rgba(239, 68, 68, 0.32);
  color: #f4b4b4;
}
[data-theme="dark"] .alert-success {
  background-color: rgba(47, 143, 114, 0.18);
  border-color: rgba(47, 143, 114, 0.35);
  color: var(--text-strong);
}

/* Tabs / Pills */
[data-theme="dark"] .nav-tabs .nav-link {
  color: var(--muted);
  border-color: var(--border) !important;
  background: transparent;
}
[data-theme="dark"] .nav-tabs .nav-link.active {
  color: var(--text);
  background-color: rgba(23, 32, 42, 0.82);
  border-color: var(--border) var(--border) transparent !important;
}
[data-theme="dark"] .nav-pills .nav-link {
  color: var(--muted);
  background-color: rgba(23, 32, 42, 0.72);
  border: 1px solid var(--border);
}
[data-theme="dark"] .nav-pills .nav-link.active {
  color: #0c140d;
  background: linear-gradient(135deg, var(--accent-green), var(--accent-orange));
  border-color: transparent;
  box-shadow: 0 16px 36px rgba(4, 8, 12, 0.55);
}

/* Tables & list groups */
[data-theme="dark"] .table,
[data-theme="dark"] .list-group-item {
  background-color: var(--bg-elev-1) !important;
  color: var(--text);
  border-color: var(--border) !important;
}
[data-theme="dark"] .table-striped > tbody > tr:nth-of-type(odd) > * {
  --bs-table-accent-bg: rgba(29, 41, 52, 0.45);
  color: var(--text);
}

/* Sidebar */
[data-theme="dark"] .sidebar {
  background-color: var(--sidebar-bg) !important;
  border-right: 1px solid var(--border);
}
[data-theme="dark"] .sidebar .sidebar-menu a {
  color: var(--muted);
}
[data-theme="dark"] .sidebar .sidebar-menu a.active-page,
[data-theme="dark"] .sidebar .sidebar-menu a:hover {
  color: var(--text);
}
[data-theme="dark"] .sidebar .sidebar-submenu {
  background-color: rgba(17, 24, 32, 0.92);
  border-left: 1px solid var(--border);
}

/* Footer & subtle surfaces */
[data-theme="dark"] .d-footer,
[data-theme="dark"] .bg-body-tertiary {
  background-color: rgba(16, 24, 32, 0.9) !important;
  border-top: 1px solid var(--border);
  color: var(--muted);
}

/* Dropdowns */
[data-theme="dark"] .dropdown-menu .dropdown-item {
  color: var(--text);
}
[data-theme="dark"] .dropdown-menu .dropdown-item:hover,
[data-theme="dark"] .dropdown-menu .dropdown-item:focus {
  background-color: rgba(47, 74, 98, 0.28);
}

/* Disabled states */
[data-theme="dark"] .form-control:disabled,
[data-theme="dark"] .form-select:disabled,
[data-theme="dark"] textarea.form-control:disabled {
  color: rgba(154, 166, 181, 0.8) !important;
  opacity: 1;
}

/* Keep gradient primary readable on dark */
[data-theme="dark"] .btn-primary,
[data-theme="dark"] .btn-primary-600 {
  color: #0c140d !important;
}
